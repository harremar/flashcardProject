"use strict";(self.webpackChunkflashcardProject=self.webpackChunkflashcardProject||[]).push([[179],{2011:(Rt,Fe,$)=>{$.d(Fe,{Dh:()=>ve,GT:()=>we,cc:()=>Be,hO:()=>Ye,on:()=>Q,pX:()=>he,xv:()=>Ae});var u=$(4650),W=$(1274),F=$(710);Rt=$.hmd(Rt);const oe=["ngOnDestroy"],he=(_e,wt,bt,$e={})=>new Proxy(_e,{get:(Me,Ne)=>bt.runOutsideAngular(()=>{var qe;if(_e[Ne])return!(null===(qe=$e?.spy)||void 0===qe)&&qe.get&&$e.spy.get(Ne,_e[Ne]),_e[Ne];if(oe.indexOf(Ne)>-1)return()=>{};const Qe=wt.toPromise().then(X=>{const Se=X&&X[Ne];return"function"==typeof Se?Se.bind(X):Se&&Se.then?Se.then(Xe=>bt.run(()=>Xe)):bt.run(()=>Se)});return new Proxy(()=>{},{get:(X,Se)=>Qe[Se],apply:(X,Se,Xe)=>Qe.then(nt=>{var Lt;const lt=nt&&nt(...Xe);return!(null===(Lt=$e?.spy)||void 0===Lt)&&Lt.apply&&$e.spy.apply(Ne,Xe,lt),lt})})})}),we=(_e,wt)=>{wt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach($e=>{Object.defineProperty(_e.prototype,$e,Object.getOwnPropertyDescriptor(bt.prototype||bt,$e))})})};class ye{constructor(wt){return wt}}const ve=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function Q(_e,wt,bt){const Me="object"==typeof bt&&bt||{};Me.name=Me.name||"string"==typeof bt&&bt||"[DEFAULT]";const qe=W.Z.apps.filter(Qe=>Qe&&Qe.name===Me.name)[0]||wt.runOutsideAngular(()=>W.Z.initializeApp(_e,Me));try{JSON.stringify(_e)!==JSON.stringify(qe.options)&&Y("error",`${qe.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(qe)}const Y=(_e,...wt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[_e](...wt)},ie={provide:ye,useFactory:Q,deps:[ve,u.R0b,[new u.FiY,Ae]]};let Ye=(()=>{class _e{constructor(bt){W.Z.registerVersion("angularfire",F.q4.full,"core"),W.Z.registerVersion("angularfire",F.q4.full,"app-compat"),W.Z.registerVersion("angular",u.q4F.full,bt.toString())}static initializeApp(bt,$e){return{ngModule:_e,providers:[{provide:ve,useValue:bt},{provide:Ae,useValue:$e}]}}}return _e.\u0275fac=function(bt){return new(bt||_e)(u.LFG(u.Lbi))},_e.\u0275mod=u.oAB({type:_e}),_e.\u0275inj=u.cJS({providers:[ie]}),_e})();function Be(_e,wt,bt,$e,Me){const[,Ne,qe]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===_e)||[];if(Ne)return function xe(_e,wt){try{return _e.toString()===wt.toString()}catch{return _e===wt}}(Me,qe)||(Pe("error",`${wt} was already initialized on the ${bt} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Me,was:qe})),Ne;{const Qe=$e();return globalThis.\u0275AngularfireInstanceCache.push([_e,Qe,Me]),Qe}}const dt=!!Rt.hot,Pe=(_e,...wt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[_e](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(Rt,Fe,$)=>{$.d(Fe,{q4:()=>Ga,iC:()=>Gu,fc:()=>Zs,HU:()=>fh,vb:()=>fv,JM:()=>kl,u3:()=>qr});var u=$(4650),W=$(8140),F=$(5861),oe=$(9681),he=$(2090),we=$(4859),ye=$(1877);let Ae,Q;const Ye=new WeakMap,Be=new WeakMap,xe=new WeakMap,dt=new WeakMap,Pe=new WeakMap;let bt={get(T,S,M){if(T instanceof IDBTransaction){if("done"===S)return Be.get(T);if("objectStoreNames"===S)return T.objectStoreNames||xe.get(T);if("store"===S)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return qe(T[S])},set:(T,S,M)=>(T[S]=M,!0),has:(T,S)=>T instanceof IDBTransaction&&("done"===S||"store"===S)||S in T};function Ne(T){return"function"==typeof T?function Me(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...S){return T.apply(Qe(this),S),qe(Ye.get(this))}:function(...S){return qe(T.apply(Qe(this),S))}:function(S,...M){const G=T.call(Qe(this),S,...M);return xe.set(G,S.sort?S.sort():[S]),qe(G)}}(T):(T instanceof IDBTransaction&&function wt(T){if(Be.has(T))return;const S=new Promise((M,G)=>{const ee=()=>{T.removeEventListener("complete",se),T.removeEventListener("error",Te),T.removeEventListener("abort",Te)},se=()=>{M(),ee()},Te=()=>{G(T.error||new DOMException("AbortError","AbortError")),ee()};T.addEventListener("complete",se),T.addEventListener("error",Te),T.addEventListener("abort",Te)});Be.set(T,S)}(T),((T,S)=>S.some(M=>T instanceof M))(T,function Y(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,bt):T)}function qe(T){if(T instanceof IDBRequest)return function _e(T){const S=new Promise((M,G)=>{const ee=()=>{T.removeEventListener("success",se),T.removeEventListener("error",Te)},se=()=>{M(qe(T.result)),ee()},Te=()=>{G(T.error),ee()};T.addEventListener("success",se),T.addEventListener("error",Te)});return S.then(M=>{M instanceof IDBCursor&&Ye.set(M,T)}).catch(()=>{}),Pe.set(S,T),S}(T);if(dt.has(T))return dt.get(T);const S=Ne(T);return S!==T&&(dt.set(T,S),Pe.set(S,T)),S}const Qe=T=>Pe.get(T),Xe=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Lt=new Map;function lt(T,S){if(!(T instanceof IDBDatabase)||S in T||"string"!=typeof S)return;if(Lt.get(S))return Lt.get(S);const M=S.replace(/FromIndex$/,""),G=S!==M,ee=nt.includes(M);if(!(M in(G?IDBIndex:IDBObjectStore).prototype)||!ee&&!Xe.includes(M))return;const se=function(){var Te=(0,F.Z)(function*(rt,...et){const at=this.transaction(rt,ee?"readwrite":"readonly");let Zt=at.store;return G&&(Zt=Zt.index(et.shift())),(yield Promise.all([Zt[M](...et),ee&&at.done]))[0]});return function(et){return Te.apply(this,arguments)}}();return Lt.set(S,se),se}!function $e(T){bt=T(bt)}(T=>({...T,get:(S,M,G)=>lt(S,M)||T.get(S,M,G),has:(S,M)=>!!lt(S,M)||T.has(S,M)}));const qn="@firebase/installations",Ur="w:0.6.4",ae="FIS_v2",ht=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(T){return T instanceof he.ZR&&T.code.includes("request-failed")}function cn({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Ut(T){return{token:T.token,requestStatus:2,expiresIn:Ir(T.expiresIn),creationTime:Date.now()}}function pn(T,S){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(T,S){const G=(yield S.json()).error;return ht.create("request-failed",{requestName:T,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function Tn({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function or(T,{refreshToken:S}){const M=Tn(T);return M.append("Authorization",function Ui(T){return`${ae} ${T}`}(S)),M}function Nn(T){return nr.apply(this,arguments)}function nr(){return(nr=(0,F.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function Ir(T){return Number(T.replace("s","000"))}function pt(T,S){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:M}){const G=cn(T),ee=Tn(T),se=S.getImmediate({optional:!0});if(se){const at=yield se.getHeartbeatsHeader();at&&ee.append("x-firebase-client",at)}const rt={method:"POST",headers:ee,body:JSON.stringify({fid:M,authVersion:ae,appId:T.appId,sdkVersion:Ur})},et=yield Nn(()=>fetch(G,rt));if(et.ok){const at=yield et.json();return{fid:at.fid||M,registrationStatus:2,refreshToken:at.refreshToken,authToken:Ut(at.authToken)}}throw yield pn("Create Installation",et)})).apply(this,arguments)}function pr(T){return new Promise(S=>{setTimeout(S,T)})}const Zi=/^[cdef][\w-]{21}$/;function bn(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const M=function Xn(T){return function ar(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Zi.test(M)?M:""}catch{return""}}function on(T){return`${T.appName}!${T.appId}`}const At=new Map;function Pt(T,S){const M=on(T);cr(M,S),function gr(T,S){const M=function mi(){return!Bt&&"BroadcastChannel"in self&&(Bt=new BroadcastChannel("[Firebase] FID Change"),Bt.onmessage=T=>{cr(T.data.key,T.data.fid)}),Bt}();M&&M.postMessage({key:T,fid:S}),function Xt(){0===At.size&&Bt&&(Bt.close(),Bt=null)}()}(M,S)}function cr(T,S){const M=At.get(T);if(M)for(const G of M)G(S)}let Bt=null;const Qn="firebase-installations-store";let Ln=null;function Ce(){return Ln||(Ln=function X(T,S,{blocked:M,upgrade:G,blocking:ee,terminated:se}={}){const Te=indexedDB.open(T,S),rt=qe(Te);return G&&Te.addEventListener("upgradeneeded",et=>{G(qe(Te.result),et.oldVersion,et.newVersion,qe(Te.transaction))}),M&&Te.addEventListener("blocked",()=>M()),rt.then(et=>{se&&et.addEventListener("close",()=>se()),ee&&et.addEventListener("versionchange",()=>ee())}).catch(()=>{}),rt}("firebase-installations-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(Qn)}})),Ln}function J(T,S){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(T,S){const M=on(T),ee=(yield Ce()).transaction(Qn,"readwrite"),se=ee.objectStore(Qn),Te=yield se.get(M);return yield se.put(S,M),yield ee.done,(!Te||Te.fid!==S.fid)&&Pt(T,S.fid),S})).apply(this,arguments)}function We(T){return It.apply(this,arguments)}function It(){return(It=(0,F.Z)(function*(T){const S=on(T),G=(yield Ce()).transaction(Qn,"readwrite");yield G.objectStore(Qn).delete(S),yield G.done})).apply(this,arguments)}function St(T,S){return En.apply(this,arguments)}function En(){return(En=(0,F.Z)(function*(T,S){const M=on(T),ee=(yield Ce()).transaction(Qn,"readwrite"),se=ee.objectStore(Qn),Te=yield se.get(M),rt=S(Te);return void 0===rt?yield se.delete(M):yield se.put(rt,M),yield ee.done,rt&&(!Te||Te.fid!==rt.fid)&&Pt(T,rt.fid),rt})).apply(this,arguments)}function K(T){return Z.apply(this,arguments)}function Z(){return(Z=(0,F.Z)(function*(T){let S;const M=yield St(T.appConfig,G=>{const ee=B(G),se=U(T,ee);return S=se.registrationPromise,se.installationEntry});return""===M.fid?{installationEntry:yield S}:{installationEntry:M,registrationPromise:S}})).apply(this,arguments)}function B(T){return Re(T||{fid:bn(),registrationStatus:0})}function U(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ht.create("app-offline"))};const M={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},G=function N(T,S){return re.apply(this,arguments)}(T,M);return{installationEntry:M,registrationPromise:G}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:ke(T)}:{installationEntry:S}}function re(){return(re=(0,F.Z)(function*(T,S){try{const M=yield pt(T,S);return J(T.appConfig,M)}catch(M){throw Ot(M)&&409===M.customData.serverCode?yield We(T.appConfig):yield J(T.appConfig,{fid:S.fid,registrationStatus:0}),M}})).apply(this,arguments)}function ke(T){return st.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(T){let S=yield kt(T.appConfig);for(;1===S.registrationStatus;)yield pr(100),S=yield kt(T.appConfig);if(0===S.registrationStatus){const{installationEntry:M,registrationPromise:G}=yield K(T);return G||M}return S})).apply(this,arguments)}function kt(T){return St(T,S=>{if(!S)throw ht.create("installation-not-found");return Re(S)})}function Re(T){return function mt(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Tt(T,S){return yn.apply(this,arguments)}function yn(){return(yn=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:S},M){const G=en(T,M),ee=or(T,M),se=S.getImmediate({optional:!0});if(se){const at=yield se.getHeartbeatsHeader();at&&ee.append("x-firebase-client",at)}const rt={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:Ur,appId:T.appId}})},et=yield Nn(()=>fetch(G,rt));if(et.ok)return Ut(yield et.json());throw yield pn("Generate Auth Token",et)})).apply(this,arguments)}function en(T,{fid:S}){return`${cn(T)}/${S}/authTokens:generate`}function Pn(T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(T,S=!1){let M;const G=yield St(T.appConfig,se=>{if(!Ko(se))throw ht.create("not-registered");const Te=se.authToken;if(!S&&iu(Te))return se;if(1===Te.requestStatus)return M=rr(T,S),se;{if(!navigator.onLine)throw ht.create("app-offline");const rt=xr(se);return M=tn(T,rt),rt}});return M?yield M:G.authToken})).apply(this,arguments)}function rr(T,S){return Do.apply(this,arguments)}function Do(){return(Do=(0,F.Z)(function*(T,S){let M=yield Aa(T.appConfig);for(;1===M.authToken.requestStatus;)yield pr(100),M=yield Aa(T.appConfig);const G=M.authToken;return 0===G.requestStatus?Pn(T,S):G})).apply(this,arguments)}function Aa(T){return St(T,S=>{if(!Ko(S))throw ht.create("not-registered");return function Qo(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function tn(T,S){return Po.apply(this,arguments)}function Po(){return(Po=(0,F.Z)(function*(T,S){try{const M=yield Tt(T,S),G=Object.assign(Object.assign({},S),{authToken:M});return yield J(T.appConfig,G),M}catch(M){if(!Ot(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const G=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield J(T.appConfig,G)}else yield We(T.appConfig);throw M}})).apply(this,arguments)}function Ko(T){return void 0!==T&&2===T.registrationStatus}function iu(T){return 2===T.requestStatus&&!function Sa(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function xr(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function Yi(){return(Yi=(0,F.Z)(function*(T){const S=T,{installationEntry:M,registrationPromise:G}=yield K(S);return G?G.catch(console.error):Pn(S).catch(console.error),M.fid})).apply(this,arguments)}function nl(){return(nl=(0,F.Z)(function*(T,S=!1){const M=T;return yield An(M),(yield Pn(M,S)).token})).apply(this,arguments)}function An(T){return rl.apply(this,arguments)}function rl(){return(rl=(0,F.Z)(function*(T){const{registrationPromise:S}=yield K(T);S&&(yield S)})).apply(this,arguments)}function ai(T){return ht.create("missing-app-config-values",{valueName:T})}const Ai="installations",xo=T=>{const S=T.getProvider("app").getImmediate(),M=function bf(T){if(!T||!T.options)throw ai("App Configuration");if(!T.name)throw ai("App Name");const S=["projectId","apiKey","appId"];for(const M of S)if(!T.options[M])throw ai(M);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},sl=T=>{const S=T.getProvider("app").getImmediate(),M=(0,oe._getProvider)(S,Ai).getImmediate();return{getId:()=>function Da(T){return Yi.apply(this,arguments)}(M),getToken:ee=>function tl(T){return nl.apply(this,arguments)}(M,ee)}};(function ps(){(0,oe._registerComponent)(new we.wA(Ai,xo,"PUBLIC")),(0,oe._registerComponent)(new we.wA("installations-internal",sl,"PRIVATE"))})(),(0,oe.registerVersion)(qn,"0.6.4"),(0,oe.registerVersion)(qn,"0.6.4","esm2017");const ol="@firebase/remote-config",er=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vd{constructor(S,M,G,ee){this.client=S,this.storage=M,this.storageCache=G,this.logger=ee}isCachedDataFresh(S,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-M,ee=G<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ee}.`),ee}fetch(S){var M=this;return(0,F.Z)(function*(){const[G,ee]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(ee&&M.isCachedDataFresh(S.cacheMaxAgeMillis,G))return ee;S.eTag=ee&&ee.eTag;const se=yield M.client.fetch(S),Te=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Te.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Te),se})()}}function lu(T=navigator){return T.languages&&T.languages[0]||T.language}class Ud{constructor(S,M,G,ee,se,Te){this.firebaseInstallations=S,this.sdkVersion=M,this.namespace=G,this.projectId=ee,this.apiKey=se,this.appId=Te}fetch(S){var M=this;return(0,F.Z)(function*(){const[G,ee]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},et={sdk_version:M.sdkVersion,app_instance_id:G,app_instance_id_token:ee,app_id:M.appId,language_code:lu()},at={method:"POST",headers:rt,body:JSON.stringify(et)},Zt=fetch(Te,at),qt=new Promise((Qs,Es)=>{S.signal.addEventListener(()=>{const zu=new Error("The operation was aborted.");zu.name="AbortError",Es(zu)})});let _r;try{yield Promise.race([Zt,qt]),_r=yield Zt}catch(Qs){let Es="fetch-client-network";throw"AbortError"===Qs?.name&&(Es="fetch-timeout"),er.create(Es,{originalErrorMessage:Qs?.message})}let Ct=_r.status;const $i=_r.headers.get("ETag")||void 0;let Hu,Cs;if(200===_r.status){let Qs;try{Qs=yield _r.json()}catch(Es){throw er.create("fetch-client-parse",{originalErrorMessage:Es?.message})}Hu=Qs.entries,Cs=Qs.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?Ct=500:"NO_CHANGE"===Cs?Ct=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(Hu={}),304!==Ct&&200!==Ct)throw er.create("fetch-status",{httpStatus:Ct});return{status:Ct,eTag:$i,config:Hu}})()}}class Bd{constructor(S,M){this.client=S,this.storage=M}fetch(S){var M=this;return(0,F.Z)(function*(){const G=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(S,G)})()}attemptFetch(S,{throttleEndTimeMillis:M,backoffCount:G}){var ee=this;return(0,F.Z)(function*(){yield function cl(T,S){return new Promise((M,G)=>{const ee=Math.max(S-Date.now(),0),se=setTimeout(M,ee);T.addEventListener(()=>{clearTimeout(se),G(er.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,M);try{const se=yield ee.client.fetch(S);return yield ee.storage.deleteThrottleMetadata(),se}catch(se){if(!function Mf(T){if(!(T instanceof he.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(se))throw se;const Te={throttleEndTimeMillis:Date.now()+(0,he.$s)(G),backoffCount:G+1};return yield ee.storage.setThrottleMetadata(Te),ee.attemptFetch(S,Te)}})()}}class jd{constructor(S,M,G,ee,se){this.app=S,this._client=M,this._storageCache=G,this._storage=ee,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Er(T,S){const M=T.target.error||void 0;return er.create(S,{originalErrorMessage:M&&M?.message})}const Mo="app_namespace_store";class sm{constructor(S,M,G,ee=function UC(){return new Promise((T,S)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=G=>{S(Er(G,"storage-open"))},M.onsuccess=G=>{T(G.target.result)},M.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(Mo,{keyPath:"compositeKey"})}}catch(M){S(er.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=S,this.appName=M,this.namespace=G,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var M=this;return(0,F.Z)(function*(){const G=yield M.openDbPromise;return new Promise((ee,se)=>{const rt=G.transaction([Mo],"readonly").objectStore(Mo),et=M.createCompositeKey(S);try{const at=rt.get(et);at.onerror=Zt=>{se(Er(Zt,"storage-get"))},at.onsuccess=Zt=>{const qt=Zt.target.result;ee(qt?qt.value:void 0)}}catch(at){se(er.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(S,M){var G=this;return(0,F.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((se,Te)=>{const et=ee.transaction([Mo],"readwrite").objectStore(Mo),at=G.createCompositeKey(S);try{const Zt=et.put({compositeKey:at,value:M});Zt.onerror=qt=>{Te(Er(qt,"storage-set"))},Zt.onsuccess=()=>{se()}}catch(Zt){Te(er.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(S){var M=this;return(0,F.Z)(function*(){const G=yield M.openDbPromise;return new Promise((ee,se)=>{const rt=G.transaction([Mo],"readwrite").objectStore(Mo),et=M.createCompositeKey(S);try{const at=rt.delete(et);at.onerror=Zt=>{se(Er(Zt,"storage-delete"))},at.onsuccess=()=>{ee()}}catch(at){se(er.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Wn{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const M=S.storage.getLastFetchStatus(),G=S.storage.getLastSuccessfulFetchTimestampMillis(),ee=S.storage.getActiveConfig(),se=yield M;se&&(S.lastFetchStatus=se);const Te=yield G;Te&&(S.lastSuccessfulFetchTimestampMillis=Te);const rt=yield ee;rt&&(S.activeConfig=rt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Ji(){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,F.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}let Bs,_i;!function mc(){(0,oe._registerComponent)(new we.wA("remote-config",function T(S,{instanceIdentifier:M}){const G=S.getProvider("app").getImmediate(),ee=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,he.hl)())throw er.create("indexed-db-unavailable");const{projectId:se,apiKey:Te,appId:rt}=G.options;if(!se)throw er.create("registration-project-id");if(!Te)throw er.create("registration-api-key");if(!rt)throw er.create("registration-app-id");const et=new sm(rt,G.name,M=M||"firebase"),at=new Wn(et),Zt=new ye.Yd(ol);Zt.logLevel=ye.in.ERROR;const qt=new Ud(ee,oe.SDK_VERSION,M,se,Te,rt),_r=new Bd(qt,et),Ct=new Vd(_r,et,at,Zt),$i=new jd(G,Ct,at,et,Zt);return function xf(T){const S=(0,he.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}($i),$i},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ol,"0.4.4"),(0,oe.registerVersion)(ol,"0.4.4","esm2017")}();const ll=new WeakMap,gs=new WeakMap,ci=new WeakMap,_c=new WeakMap,Wt=new WeakMap;let qd={get(T,S,M){if(T instanceof IDBTransaction){if("done"===S)return gs.get(T);if("objectStoreNames"===S)return T.objectStoreNames||ci.get(T);if("store"===S)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return js(T[S])},set:(T,S,M)=>(T[S]=M,!0),has:(T,S)=>T instanceof IDBTransaction&&("done"===S||"store"===S)||S in T};function fu(T){return"function"==typeof T?function om(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function du(){return _i||(_i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...S){return T.apply(pu(this),S),js(ll.get(this))}:function(...S){return js(T.apply(pu(this),S))}:function(S,...M){const G=T.call(pu(this),S,...M);return ci.set(G,S.sort?S.sort():[S]),js(G)}}(T):(T instanceof IDBTransaction&&function zd(T){if(gs.has(T))return;const S=new Promise((M,G)=>{const ee=()=>{T.removeEventListener("complete",se),T.removeEventListener("error",Te),T.removeEventListener("abort",Te)},se=()=>{M(),ee()},Te=()=>{G(T.error||new DOMException("AbortError","AbortError")),ee()};T.addEventListener("complete",se),T.addEventListener("error",Te),T.addEventListener("abort",Te)});gs.set(T,S)}(T),((T,S)=>S.some(M=>T instanceof M))(T,function Hd(){return Bs||(Bs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,qd):T)}function js(T){if(T instanceof IDBRequest)return function hu(T){const S=new Promise((M,G)=>{const ee=()=>{T.removeEventListener("success",se),T.removeEventListener("error",Te)},se=()=>{M(js(T.result)),ee()},Te=()=>{G(T.error),ee()};T.addEventListener("success",se),T.addEventListener("error",Te)});return S.then(M=>{M instanceof IDBCursor&&ll.set(M,T)}).catch(()=>{}),Wt.set(S,T),S}(T);if(_c.has(T))return _c.get(T);const S=fu(T);return S!==T&&(_c.set(T,S),Wt.set(S,T)),S}const pu=T=>Wt.get(T);function je(T,S,{blocked:M,upgrade:G,blocking:ee,terminated:se}={}){const Te=indexedDB.open(T,S),rt=js(Te);return G&&Te.addEventListener("upgradeneeded",et=>{G(js(Te.result),et.oldVersion,et.newVersion,js(Te.transaction))}),M&&Te.addEventListener("blocked",()=>M()),rt.then(et=>{se&&et.addEventListener("close",()=>se()),ee&&et.addEventListener("versionchange",()=>ee())}).catch(()=>{}),rt}function fn(T,{blocked:S}={}){const M=indexedDB.deleteDatabase(T);return S&&M.addEventListener("blocked",()=>S()),js(M).then(()=>{})}const Wd=["get","getKey","getAll","getAllKeys","count"],gu=["put","add","delete","clear"],wr=new Map;function ul(T,S){if(!(T instanceof IDBDatabase)||S in T||"string"!=typeof S)return;if(wr.get(S))return wr.get(S);const M=S.replace(/FromIndex$/,""),G=S!==M,ee=gu.includes(M);if(!(M in(G?IDBIndex:IDBObjectStore).prototype)||!ee&&!Wd.includes(M))return;const se=function(){var Te=(0,F.Z)(function*(rt,...et){const at=this.transaction(rt,ee?"readwrite":"readonly");let Zt=at.store;return G&&(Zt=Zt.index(et.shift())),(yield Promise.all([Zt[M](...et),ee&&at.done]))[0]});return function(et){return Te.apply(this,arguments)}}();return wr.set(S,se),se}!function kf(T){qd=T(qd)}(T=>({...T,get:(S,M,G)=>ul(S,M)||T.get(S,M,G),has:(S,M)=>!!ul(S,M)||T.has(S,M)}));const Jo="/firebase-messaging-sw.js",ms="/firebase-cloud-messaging-push-scope",dl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Of="google.c.a.c_id",lr="google.c.a.c_l",BC="google.c.a.ts",Zd="google.c.a.e";var Si=(()=>{return(T=Si||(Si={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Si;var T})();function es(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oa(T){const M=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(M),ee=new Uint8Array(G.length);for(let se=0;se<G.length;++se)ee[se]=G.charCodeAt(se);return ee}const ts="fcm_token_details_db",Nf="fcm_token_object_Store";function Lf(T){return _u.apply(this,arguments)}function _u(){return _u=(0,F.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(ts))return null;let S=null;return(yield je(ts,5,{upgrade:(G=(0,F.Z)(function*(ee,se,Te,rt){var et;if(se<2||!ee.objectStoreNames.contains(Nf))return;const at=rt.objectStore(Nf),Zt=yield at.index("fcmSenderId").get(T);if(yield at.clear(),Zt)if(2===se){const qt=Zt;if(!qt.auth||!qt.p256dh||!qt.endpoint)return;S={token:qt.fcmToken,createTime:null!==(et=qt.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:qt.auth,p256dh:qt.p256dh,endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:"string"==typeof qt.vapidKey?qt.vapidKey:es(qt.vapidKey)}}}else if(3===se){const qt=Zt;S={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:es(qt.auth),p256dh:es(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:es(qt.vapidKey)}}}else if(4===se){const qt=Zt;S={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:es(qt.auth),p256dh:es(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:es(qt.vapidKey)}}}}),function(se,Te,rt,et){return G.apply(this,arguments)})})).close(),yield fn(ts),yield fn("fcm_vapid_details_db"),yield fn("undefined"),fl(S)?S:null;var G}),_u.apply(this,arguments)}function fl(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Bi="firebase-messaging-store";let yu=null;function Qd(){return yu||(yu=je("firebase-messaging-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(Bi)}})),yu}function Na(T){return pl.apply(this,arguments)}function pl(){return(pl=(0,F.Z)(function*(T){const S=Vf(T),G=yield(yield Qd()).transaction(Bi).objectStore(Bi).get(S);if(G)return G;{const ee=yield Lf(T.appConfig.senderId);if(ee)return yield gl(T,ee),ee}})).apply(this,arguments)}function gl(T,S){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,F.Z)(function*(T,S){const M=Vf(T),ee=(yield Qd()).transaction(Bi,"readwrite");return yield ee.objectStore(Bi).put(S,M),yield ee.done,S})).apply(this,arguments)}function Ff(T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(T){const S=Vf(T),G=(yield Qd()).transaction(Bi,"readwrite");yield G.objectStore(Bi).delete(S),yield G.done})).apply(this,arguments)}function Vf({appConfig:T}){return T.appId}const xn=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function La(T,S){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,F.Z)(function*(T,S){const M=yield ml(T),G=Fa(S),ee={method:"POST",headers:M,body:JSON.stringify(G)};let se;try{se=yield(yield fetch(Bf(T.appConfig),ee)).json()}catch(Te){throw xn.create("token-subscribe-failed",{errorInfo:Te?.toString()})}if(se.error)throw xn.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw xn.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function am(T,S){return vu.apply(this,arguments)}function vu(){return(vu=(0,F.Z)(function*(T,S){const M=yield ml(T),G=Fa(S.subscriptionOptions),ee={method:"PATCH",headers:M,body:JSON.stringify(G)};let se;try{se=yield(yield fetch(`${Bf(T.appConfig)}/${S.token}`,ee)).json()}catch(Te){throw xn.create("token-update-failed",{errorInfo:Te?.toString()})}if(se.error)throw xn.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw xn.create("token-update-no-token");return se.token})).apply(this,arguments)}function Uf(T,S){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,F.Z)(function*(T,S){const G={method:"DELETE",headers:yield ml(T)};try{const se=yield(yield fetch(`${Bf(T.appConfig)}/${S}`,G)).json();if(se.error)throw xn.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(ee){throw xn.create("token-unsubscribe-failed",{errorInfo:ee?.toString()})}})).apply(this,arguments)}function Bf({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ml(T){return _l.apply(this,arguments)}function _l(){return(_l=(0,F.Z)(function*({appConfig:T,installations:S}){const M=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Fa({p256dh:T,auth:S,endpoint:M,vapidKey:G}){const ee={web:{endpoint:M,auth:S,p256dh:T}};return G!==dl&&(ee.web.applicationPubKey=G),ee}const Cu=6048e5;function Eu(T){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,F.Z)(function*(T){const S=yield $f(T.swRegistration,T.vapidKey),M={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:es(S.getKey("auth")),p256dh:es(S.getKey("p256dh"))},G=yield Na(T.firebaseDependencies);if(G){if(lm(G.subscriptionOptions,M))return Date.now()>=G.createTime+Cu?vc(T,{token:G.token,createTime:Date.now(),subscriptionOptions:M}):G.token;try{yield Uf(T.firebaseDependencies,G.token)}catch(ee){console.warn(ee)}return Ic(T.firebaseDependencies,M)}return Ic(T.firebaseDependencies,M)})).apply(this,arguments)}function cm(T){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(T){const S=yield Na(T.firebaseDependencies);S&&(yield Uf(T.firebaseDependencies,S.token),yield Ff(T.firebaseDependencies));const M=yield T.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function vc(T,S){return jf.apply(this,arguments)}function jf(){return(jf=(0,F.Z)(function*(T,S){try{const M=yield am(T.firebaseDependencies,S),G=Object.assign(Object.assign({},S),{token:M,createTime:Date.now()});return yield gl(T.firebaseDependencies,G),M}catch(M){throw yield cm(T),M}})).apply(this,arguments)}function Ic(T,S){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(T,S){const G={token:yield La(T,S),createTime:Date.now(),subscriptionOptions:S};return yield gl(T,G),G.token})).apply(this,arguments)}function $f(T,S){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,F.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oa(S)})})).apply(this,arguments)}function lm(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function Xd(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function wu(T,S){if(!S.notification)return;T.notification={};const M=S.notification.title;M&&(T.notification.title=M);const G=S.notification.body;G&&(T.notification.body=G);const ee=S.notification.image;ee&&(T.notification.image=ee);const se=S.notification.icon;se&&(T.notification.icon=se)}(S,T),function eh(T,S){!S.data||(T.data=S.data)}(S,T),function Tu(T,S){var M,G,ee,se,Te;if(!(S.fcmOptions||null!==(M=S.notification)&&void 0!==M&&M.click_action))return;T.fcmOptions={};const rt=null!==(ee=null===(G=S.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==ee?ee:null===(se=S.notification)||void 0===se?void 0:se.click_action;rt&&(T.fcmOptions.link=rt);const et=null===(Te=S.fcmOptions)||void 0===Te?void 0:Te.analytics_label;et&&(T.fcmOptions.analyticsLabel=et)}(S,T),S}function Hf(T){return"object"==typeof T&&!!T&&Of in T}function Cc(T,S){const M=[];for(let G=0;G<T.length;G++)M.push(T.charAt(G)),G<S.length&&M.push(S.charAt(G));return M.join("")}function th(T){return xn.create("missing-app-config-values",{valueName:T})}Cc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yl{constructor(S,M,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function um(T){if(!T||!T.options)throw th("App Configuration Object");if(!T.name)throw th("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:M}=T;for(const G of S)if(!M[G])throw th(G);return{appName:T.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ee,installations:M,analyticsProvider:G}}_delete(){return Promise.resolve()}}function dm(T){return fo.apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Jo,{scope:ms}),T.swRegistration.update().catch(()=>{})}catch(S){throw xn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function ea(T,S){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield dm(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function nh(T,S){return ta.apply(this,arguments)}function ta(){return(ta=(0,F.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=dl)})).apply(this,arguments)}function vl(){return(vl=(0,F.Z)(function*(T,S){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield nh(T,S?.vapidKey),yield ea(T,S?.serviceWorkerRegistration),Eu(T)})).apply(this,arguments)}function $s(T,S,M){return Au.apply(this,arguments)}function Au(){return(Au=(0,F.Z)(function*(T,S,M){const G=Ec(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:M[Of],message_name:M[lr],message_time:M[BC],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ec(T){switch(T){case Si.NOTIFICATION_CLICKED:return"notification_open";case Si.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ua(){return(Ua=(0,F.Z)(function*(T,S){const M=S.data;if(!M.isFirebaseMessaging)return;T.onMessageHandler&&M.messageType===Si.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Xd(M)):T.onMessageHandler.next(Xd(M)));const G=M.data;Hf(G)&&"1"===G[Zd]&&(yield $s(T,M.messageType,G))})).apply(this,arguments)}const Cl="@firebase/messaging",El=T=>{const S=new yl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Il(T,S){return Ua.apply(this,arguments)}(S,M)),S},rh=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:G=>function bu(T,S){return vl.apply(this,arguments)}(S,G)}};function wc(){return wl.apply(this,arguments)}function wl(){return(wl=(0,F.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hm(){(0,oe._registerComponent)(new we.wA("messaging",El,"PUBLIC")),(0,oe._registerComponent)(new we.wA("messaging-internal",rh,"PRIVATE")),(0,oe.registerVersion)(Cl,"0.12.4"),(0,oe.registerVersion)(Cl,"0.12.4","esm2017")}();const Tl="analytics",bl="firebase_id",qf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ro="https://www.googletagmanager.com/gtag/js",ur=new ye.Yd("@firebase/analytics"),$r=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Su(T){if(!T.startsWith(Ro)){const S=$r.create("invalid-gtag-resource",{gtagURL:T});return ur.warn(S.message),""}return T}function _s(T){return Promise.all(T.map(S=>S.catch(M=>M)))}function Wf(T,S){const M=function oh(T,S){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(T,S)),M}("firebase-js-sdk-policy",{createScriptURL:Su}),G=document.createElement("script"),ee=`${Ro}?l=${T}&id=${S}`;G.src=M?M?.createScriptURL(ee):ee,G.async=!0,document.head.appendChild(G)}function Zf(T,S,M,G,ee,se){return Al.apply(this,arguments)}function Al(){return(Al=(0,F.Z)(function*(T,S,M,G,ee,se){const Te=G[ee];try{if(Te)yield S[Te];else{const et=(yield _s(M)).find(at=>at.measurementId===ee);et&&(yield S[et.appId])}}catch(rt){ur.error(rt)}T("config",ee,se)})).apply(this,arguments)}function jC(T,S,M,G,ee){return Du.apply(this,arguments)}function Du(){return(Du=(0,F.Z)(function*(T,S,M,G,ee){try{let se=[];if(ee&&ee.send_to){let Te=ee.send_to;Array.isArray(Te)||(Te=[Te]);const rt=yield _s(M);for(const et of Te){const at=rt.find(qt=>qt.measurementId===et),Zt=at&&S[at.appId];if(!Zt){se=[];break}se.push(Zt)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),T("event",G,ee||{})}catch(se){ur.error(se)}})).apply(this,arguments)}function pm(T){const S=window.document.getElementsByTagName("script");for(const M of Object.values(S))if(M.src&&M.src.includes(Ro)&&M.src.includes(T))return M;return null}const Gr=new class $C{constructor(S={},M=1e3){this.throttleMetadata=S,this.intervalMillis=M}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,M){this.throttleMetadata[S]=M}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function xu(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function ys(T){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,F.Z)(function*(T){var S;const{appId:M,apiKey:G}=T,ee={method:"GET",headers:xu(G)},se=qf.replace("{app-id}",M),Te=yield fetch(se,ee);if(200!==Te.status&&304!==Te.status){let rt="";try{const et=yield Te.json();null!==(S=et.error)&&void 0!==S&&S.message&&(rt=et.error.message)}catch{}throw $r.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:rt})}return Te.json()})).apply(this,arguments)}function Mu(T){return li.apply(this,arguments)}function li(){return(li=(0,F.Z)(function*(T,S=Gr,M){const{appId:G,apiKey:ee,measurementId:se}=T.options;if(!G)throw $r.create("no-app-id");if(!ee){if(se)return{measurementId:se,appId:G};throw $r.create("no-api-key")}const Te=S.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Qf;return setTimeout((0,F.Z)(function*(){rt.abort()}),void 0!==M?M:6e4),Gs({appId:G,apiKey:ee,measurementId:se},Te,rt,S)})).apply(this,arguments)}function Gs(T,S,M){return ah.apply(this,arguments)}function ah(){return(ah=(0,F.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:M},G,ee=Gr){var se;const{appId:Te,measurementId:rt}=T;try{yield Sl(G,S)}catch(et){if(rt)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:Te,measurementId:rt};throw et}try{const et=yield ys(T);return ee.deleteThrottleMetadata(Te),et}catch(et){const at=et;if(!Ru(at)){if(ee.deleteThrottleMetadata(Te),rt)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:Te,measurementId:rt};throw et}const Zt=503===Number(null===(se=at?.customData)||void 0===se?void 0:se.httpStatus)?(0,he.$s)(M,ee.intervalMillis,30):(0,he.$s)(M,ee.intervalMillis),qt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:M+1};return ee.setThrottleMetadata(Te,qt),ur.debug(`Calling attemptFetch again in ${Zt} millis`),Gs(T,qt,G,ee)}})).apply(this,arguments)}function Sl(T,S){return new Promise((M,G)=>{const ee=Math.max(S-Date.now(),0),se=setTimeout(M,ee);T.addEventListener(()=>{clearTimeout(se),G($r.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ru(T){if(!(T instanceof he.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Qf{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Yf,Ou;function mm(){return(mm=(0,F.Z)(function*(T,S,M,G,ee){if(ee&&ee.global)T("event",M,G);else{const se=yield S;T("event",M,Object.assign(Object.assign({},G),{send_to:se}))}})).apply(this,arguments)}function Dl(T){Ou=T}function uh(T){Yf=T}function On(){return ji.apply(this,arguments)}function ji(){return(ji=(0,F.Z)(function*(){if(!(0,he.hl)())return ur.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(T){return ur.warn($r.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tr(){return(Tr=(0,F.Z)(function*(T,S,M,G,ee,se,Te){var rt;const et=Mu(T);et.then(Ct=>{M[Ct.measurementId]=Ct.appId,T.options.measurementId&&Ct.measurementId!==T.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ct.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ct=>ur.error(Ct)),S.push(et);const at=On().then(Ct=>{if(Ct)return G.getId()}),[Zt,qt]=yield Promise.all([et,at]);pm(se)||Wf(se,Zt.measurementId),Ou&&(ee("consent","default",Ou),Dl(void 0)),ee("js",new Date);const _r=null!==(rt=Te?.config)&&void 0!==rt?rt:{};return _r.origin="firebase",_r.update=!0,null!=qt&&(_r[bl]=qt),ee("config",Zt.measurementId,_r),Yf&&(ee("set",Yf),uh(void 0)),Zt.measurementId})).apply(this,arguments)}class Di{constructor(S){this.app=S}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},Pl=[];const vs={};let Dc,Pi,Sc="dataLayer",Pc=!1;function jt(T,S,M){!function ko(){const T=[];if((0,he.ru)()&&T.push("This is a browser extension environment."),(0,he.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((G,ee)=>`(${ee+1}) ${G}`).join(" "),M=$r.create("invalid-analytics-context",{errorInfo:S});ur.warn(M.message)}}();const G=T.options.appId;if(!G)throw $r.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw $r.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[G])throw $r.create("already-exists",{id:G});if(!Pc){!function Fn(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(Sc);const{wrappedGtag:se,gtagCore:Te}=function lv(T,S,M,G,ee){let se=function(...Te){window[G].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(se=window[ee]),window[ee]=function cv(T,S,M,G){function se(){return(se=(0,F.Z)(function*(Te,...rt){try{if("event"===Te){const[et,at]=rt;yield jC(T,S,M,et,at)}else if("config"===Te){const[et,at]=rt;yield Zf(T,S,M,G,et,at)}else if("consent"===Te){const[et]=rt;T("consent","update",et)}else if("get"===Te){const[et,at,Zt]=rt;T("get",et,at,Zt)}else if("set"===Te){const[et]=rt;T("set",et)}else T(Te,...rt)}catch(et){ur.error(et)}})).apply(this,arguments)}return function ee(Te){return se.apply(this,arguments)}}(se,T,S,M),{gtagCore:se,wrappedGtag:window[ee]}}(is,Pl,vs,Sc,"gtag");Pi=se,Dc=Te,Pc=!0}return is[G]=function xt(T,S,M,G,ee,se,Te){return Tr.apply(this,arguments)}(T,Pl,vs,S,Dc,Sc,M),new Di(T)}function tp(){return sa.apply(this,arguments)}function sa(){return(sa=(0,F.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const Vu="@firebase/analytics";!function xl(){(0,oe._registerComponent)(new we.wA(Tl,(S,{options:M})=>jt(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new we.wA("analytics-internal",function T(S){try{const M=S.getProvider(Tl).getImmediate();return{logEvent:(G,ee,se)=>function oa(T,S,M,G){T=(0,he.m9)(T),function uv(T,S,M,G,ee){return mm.apply(this,arguments)}(Pi,is[T.app.options.appId],S,M,G).catch(ee=>ur.error(ee))}(M,G,ee,se)}}catch(M){throw $r.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(Vu,"0.10.0"),(0,oe.registerVersion)(Vu,"0.10.0","esm2017")}();var go=$(4408),Uu=$(7565);const Bu=new class ui extends Uu.v{}(class Hs extends go.o{constructor(S,M){super(S,M),this.scheduler=S,this.work=M}schedule(S,M=0){return M>0?super.schedule(S,M):(this.delay=M,this.state=S,this.scheduler.flush(this),this)}execute(S,M){return M>0||this.closed?super.execute(S,M):this._execute(S,M)}requestAsyncId(S,M,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(S,M,G):(S.flush(this),0)}});var Mr=$(4986),ca=$(9751),xc=$(8505),xi=$(5363),Rr=$(9468);const Ga=new u.GfV("7.6.1"),ju="__angularfire_symbol__analyticsIsSupportedValue",Ml="__angularfire_symbol__analyticsIsSupported",zs="__angularfire_symbol__remoteConfigIsSupportedValue",qs="__angularfire_symbol__remoteConfigIsSupported",di="__angularfire_symbol__messagingIsSupportedValue",Ws="__angularfire_symbol__messagingIsSupported";function kl(T,S,M){if(S){if(1===S.length)return S[0];const se=S.filter(Te=>Te.app===M);if(1===se.length)return se[0]}return M.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ml]||(globalThis[Ml]=tp().then(T=>globalThis[ju]=T).catch(()=>globalThis[ju]=!1)),globalThis[Ws]||(globalThis[Ws]=wc().then(T=>globalThis[di]=T).catch(()=>globalThis[di]=!1)),globalThis[qs]||(globalThis[qs]=Ji().then(T=>globalThis[zs]=T).catch(()=>globalThis[zs]=!1));const fv=(T,S)=>{const M=S?[S]:(0,W.C6)(),G=[];return M.forEach(ee=>{ee.container.getProvider(T).instances.forEach(Te=>{G.includes(Te)||G.push(Te)})}),G};function Ha(){}class ln{constructor(S,M=Bu){this.zone=S,this.delegate=M}now(){return this.delegate.now()}schedule(S,M,G){const ee=this.zone;return this.delegate.schedule(function(Te){ee.runGuarded(()=>{S.apply(this,[Te])})},M,G)}}class $u{constructor(S){this.zone=S,this.task=null}call(S,M){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ha,{},Ha,Ha)),M.pipe((0,xc.b)({next:G,complete:G,error:G})).subscribe(S).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fh=(()=>{class T{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ln(Zone.current)),this.insideAngular=M.run(()=>new ln(Zone.current,Mr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(M){return new(M||T)(u.LFG(u.R0b))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Is(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function sp(T){return Is().ngZone.runOutsideAngular(()=>T())}function Oo(T){return Is().ngZone.run(()=>T())}function Zs(T){return T.pipe((0,xi.Q)(Is().outsideAngular))}function Gu(T){return Is(),function Ks(T){return function(M){return(M=M.lift(new $u(T.ngZone))).pipe((0,Rr.R)(T.outsideAngular),(0,xi.Q)(T.insideAngular))}}(Is())(T)}const pv=(T,S)=>function(){const G=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Oo(()=>T.apply(void 0,G))},qr=(T,S)=>function(){let M;const G=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof G[se]&&(S&&(M||(M=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ha,{},Ha,Ha)))),G[se]=pv(G[se],M));const ee=sp(()=>T.apply(this,G));if(!S){if(ee instanceof ca.y){const se=Is();return ee.pipe((0,Rr.R)(se.outsideAngular),(0,xi.Q)(se.insideAngular))}return Oo(()=>ee)}return ee instanceof ca.y?ee.pipe(Gu):ee instanceof Promise?Oo(()=>new Promise((se,Te)=>ee.then(rt=>Oo(()=>se(rt)),rt=>Oo(()=>Te(rt))))):"function"==typeof ee&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),ee.apply(this,arguments)}:Oo(()=>ee)}},9500:(Rt,Fe,$)=>{$.d(Fe,{$:()=>Jo,A:()=>Y,D:()=>Be,I:()=>Cr,J:()=>xo,L:()=>uo,N:()=>St,P:()=>xt,Q:()=>sm,R:()=>rs,U:()=>ka,V:()=>Ji,W:()=>Rf,X:()=>$d,Y:()=>Hd,Z:()=>du,_:()=>Wt,a:()=>ra,a0:()=>dl,a1:()=>Of,a2:()=>Xi,a3:()=>Nf,a4:()=>_u,a5:()=>Kd,a6:()=>Bi,a7:()=>Qd,a8:()=>pl,a9:()=>Yd,aA:()=>X,aB:()=>Ml,aC:()=>We,aD:()=>En,aE:()=>xc,aF:()=>rp,aG:()=>Fu,aH:()=>mr,aL:()=>ia,aO:()=>Bs,aa:()=>Ff,ab:()=>Vf,ac:()=>ov,ad:()=>am,ae:()=>Uf,af:()=>Bf,ai:()=>Cu,aj:()=>Jd,ak:()=>cm,an:()=>om,ao:()=>wu,aq:()=>ta,ar:()=>Cl,as:()=>Xe,at:()=>Re,au:()=>ke,av:()=>$e,aw:()=>qt,ax:()=>Ws,ay:()=>mt,az:()=>Me,b:()=>zf,c:()=>Pi,d:()=>jt,e:()=>Hr,f:()=>Vu,g:()=>ui,h:()=>go,i:()=>gm,j:()=>Mr,k:()=>Cs,l:()=>Jf,m:()=>zu,o:()=>Wu,p:()=>ve,r:()=>ep,s:()=>_m,u:()=>On});var u=$(5861),W=$(2090),F=$(9752),oe=$(7582),he=$(1877);$(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Be=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=Ye,dt=new W.LL("auth","Firebase",Ye()),_e=new he.Yd("@firebase/auth");function bt(w,...m){_e.logLevel<=he.in.ERROR&&_e.error(`Auth (${F.SDK_VERSION}): ${w}`,...m)}function $e(w,...m){throw Qe(w,...m)}function Me(w,...m){return Qe(w,...m)}function Ne(w,m,v){const b=Object.assign(Object.assign({},xe()),{[m]:v});return new W.LL("auth","Firebase",b).create(m,{appName:w.name})}function qe(w,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&$e(w,"argument-error"),Ne(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(w,...m){if("string"!=typeof w){const v=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(v,...b)}return dt.create(w,...m)}function X(w,m,...v){if(!w)throw Qe(m,...v)}function Se(w){const m="INTERNAL ASSERTION FAILED: "+w;throw bt(m),new Error(m)}function Xe(w,m){w||Se(m)}function nt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Lt(){return"http:"===lt()||"https:"===lt()}function lt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class kn{constructor(m,v){this.shortDelay=m,this.longDelay=v,Xe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ur(w,m){Xe(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ae{static initialize(m,v,b){this.fetchImpl=m,v&&(this.headersImpl=v),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new kn(3e4,6e4);function pe(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Ve(w,m,v,b){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(w,m,v,b,R={}){return ht(w,R,(0,u.Z)(function*(){let V={},ne={};b&&("GET"===m?ne=b:V={body:JSON.stringify(b)});const me=(0,W.xO)(Object.assign({key:w.config.apiKey},ne)).slice(1),Ke=yield w._getAdditionalHeaders();return Ke["Content-Type"]="application/json",w.languageCode&&(Ke["X-Firebase-Locale"]=w.languageCode),ae.fetch()(pn(w,w.config.apiHost,v,me),Object.assign({method:m,headers:Ke,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function ht(w,m,v){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(w,m,v){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},ce),m);try{const R=new rn(w),V=yield Promise.race([v(),R.promise]);R.clearNetworkTimeout();const ne=yield V.json();if("needConfirmation"in ne)throw Tn(w,"account-exists-with-different-credential",ne);if(V.ok&&!("errorMessage"in ne))return ne;{const me=V.ok?ne.errorMessage:ne.error.message,[Ke,ft]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Tn(w,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Ke)throw Tn(w,"email-already-in-use",ne);if("USER_DISABLED"===Ke)throw Tn(w,"user-disabled",ne);const Ft=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Ne(w,Ft,ft);$e(w,Ft)}}catch(R){if(R instanceof W.ZR)throw R;$e(w,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function cn(w,m,v,b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(w,m,v,b,R={}){const V=yield Ve(w,m,v,b,R);return"mfaPendingCredential"in V&&$e(w,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function pn(w,m,v,b){const R=`${m}${v}?${b}`;return w.config.emulator?Ur(w.config,R):`${w.config.apiScheme}://${R}`}class rn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(w,m,v){const b={appName:w.name};v.email&&(b.email=v.email),v.phoneNumber&&(b.phoneNumber=v.phoneNumber);const R=Me(w,m,b);return R.customData._tokenResponse=v,R}function Nn(){return(Nn=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function nr(w,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ui(w,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Kn(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Zi(){return(Zi=(0,u.Z)(function*(w,m=!1){const v=(0,W.m9)(w),b=yield v.getIdToken(m),R=bn(b);X(R&&R.exp&&R.auth_time&&R.iat,v.auth,"internal-error");const V="object"==typeof R.firebase?R.firebase:void 0,ne=V?.sign_in_provider;return{claims:R,token:b,authTime:Kn(fs(R.auth_time)),issuedAtTime:Kn(fs(R.iat)),expirationTime:Kn(fs(R.exp)),signInProvider:ne||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function fs(w){return 1e3*Number(w)}function bn(w){const[m,v,b]=w.split(".");if(void 0===m||void 0===v||void 0===b)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,W.tV)(v);return R?JSON.parse(R):(bt("Failed to decode base64 JWT payload"),null)}catch(R){return bt("Caught error parsing JWT payload as JSON",R?.toString()),null}}function on(w,m){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(w,m,v=!1){if(v)return m;try{return yield m}catch(b){throw b instanceof W.ZR&&Pt(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}function Pt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class gn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const R=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),b)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class Br{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(w){var m;const v=w.auth,b=yield w.getIdToken(),R=yield on(w,Ui(v,{idToken:b}));X(R?.users.length,v,"internal-error");const V=R.users[0];w._notifyReloadListener(V);const ne=null!==(m=V.providerUserInfo)&&void 0!==m&&m.length?Ki(V.providerUserInfo):[],me=Xt(w.providerData,ne),Ft=!!w.isAnonymous&&!(w.email&&V.passwordHash||me?.length),wn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:me,metadata:new Br(V.createdAt,V.lastLoginAt),isAnonymous:Ft};Object.assign(w,wn)})).apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(w){const m=(0,W.m9)(w);yield cr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Xt(w,m){return[...w.filter(b=>!m.some(R=>R.providerId===b.providerId)),...m]}function Ki(w){return w.map(m=>{var{providerId:v}=m,b=(0,oe._T)(m,["providerId"]);return{providerId:v,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Qn(){return(Qn=(0,u.Z)(function*(w,m){const v=yield ht(w,{},(0,u.Z)(function*(){const b=(0,W.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:V}=w.config,ne=pn(w,R,"/v1/token",`key=${V}`),me=yield w._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(ne,{method:"POST",headers:me,body:b})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){X(m.idToken,"internal-error"),X(typeof m.idToken<"u","internal-error"),X(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Xn(w){const m=bn(w);return X(m,"internal-error"),X(typeof m.exp<"u","internal-error"),X(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var b=this;return(0,u.Z)(function*(){return X(!b.accessToken||b.refreshToken,m,"user-token-expired"),v||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var b=this;return(0,u.Z)(function*(){const{accessToken:R,refreshToken:V,expiresIn:ne}=yield function mn(w,m){return Qn.apply(this,arguments)}(m,v);b.updateTokensAndExpiration(R,V,Number(ne))})()}updateTokensAndExpiration(m,v,b){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,v){const{refreshToken:b,accessToken:R,expirationTime:V}=v,ne=new Ln;return b&&(X("string"==typeof b,"internal-error",{appName:m}),ne.refreshToken=b),R&&(X("string"==typeof R,"internal-error",{appName:m}),ne.accessToken=R),V&&(X("number"==typeof V,"internal-error",{appName:m}),ne.expirationTime=V),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ln,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Ce(w,m){X("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class J{constructor(m){var{uid:v,auth:b,stsTokenManager:R}=m,V=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=b,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Br(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,u.Z)(function*(){const b=yield on(v,v.stsTokenManager.getToken(v.auth,m));return X(b,v.auth,"internal-error"),v.accessToken!==b&&(v.accessToken=b,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),b})()}getIdTokenResult(m){return function ar(w){return Zi.apply(this,arguments)}(this,m)}reload(){return function Bt(w){return mi.apply(this,arguments)}(this)}_assign(m){this!==m&&(X(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new J(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var b=this;return(0,u.Z)(function*(){let R=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),R=!0),v&&(yield cr(b)),yield b.auth._persistUserIfCurrent(b),R&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,u.Z)(function*(){const v=yield m.getIdToken();return yield on(m,function or(w,m){return Nn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var b,R,V,ne,me,Ke,ft,Ft;const wn=null!==(b=v.displayName)&&void 0!==b?b:void 0,ws=null!==(R=v.email)&&void 0!==R?R:void 0,Mc=null!==(V=v.phoneNumber)&&void 0!==V?V:void 0,za=null!==(ne=v.photoURL)&&void 0!==ne?ne:void 0,Rc=null!==(me=v.tenantId)&&void 0!==me?me:void 0,qa=null!==(Ke=v._redirectEventId)&&void 0!==Ke?Ke:void 0,yh=null!==(ft=v.createdAt)&&void 0!==ft?ft:void 0,Im=null!==(Ft=v.lastLoginAt)&&void 0!==Ft?Ft:void 0,{uid:lp,emailVerified:kc,isAnonymous:Cm,providerData:Wa,stsTokenManager:up}=v;X(lp&&up,m,"internal-error");const _v=Ln.fromJSON(this.name,up);X("string"==typeof lp,m,"internal-error"),Ce(wn,m.name),Ce(ws,m.name),X("boolean"==typeof kc,m,"internal-error"),X("boolean"==typeof Cm,m,"internal-error"),Ce(Mc,m.name),Ce(za,m.name),Ce(Rc,m.name),Ce(qa,m.name),Ce(yh,m.name),Ce(Im,m.name);const vh=new J({uid:lp,auth:m,email:ws,emailVerified:kc,displayName:wn,isAnonymous:Cm,photoURL:za,phoneNumber:Mc,tenantId:Rc,stsTokenManager:_v,createdAt:yh,lastLoginAt:Im});return Wa&&Array.isArray(Wa)&&(vh.providerData=Wa.map(dp=>Object.assign({},dp))),qa&&(vh._redirectEventId=qa),vh}static _fromIdTokenResponse(m,v,b=!1){return(0,u.Z)(function*(){const R=new Ln;R.updateFromServerResponse(v);const V=new J({uid:v.localId,auth:m,stsTokenManager:R,isAnonymous:b});return yield cr(V),V})()}}const De=new Map;function We(w){Xe(w instanceof Function,"Expected a class definition");let m=De.get(w);return m?(Xe(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,De.set(w,m),m)}const St=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,b){var R=this;return(0,u.Z)(function*(){R.storage[v]=b})()}_get(v){var b=this;return(0,u.Z)(function*(){const R=b.storage[v];return void 0===R?null:R})()}_remove(v){var b=this;return(0,u.Z)(function*(){delete b.storage[v]})()}_addListener(v,b){}_removeListener(v,b){}}return w.type="NONE",w})();function En(w,m,v){return`firebase:${w}:${m}:${v}`}function U(w=(0,W.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ke(w=(0,W.z$)()){return/android/i.test(w)}function Re(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function mt(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function en(w=(0,W.z$)()){return Re(w)||ke(w)||function kt(w=(0,W.z$)()){return/webos/i.test(w)}(w)||function st(w=(0,W.z$)()){return/blackberry/i.test(w)}(w)||/windows phone/i.test(w)||function re(w=(0,W.z$)()){return/iemobile/i.test(w)}(w)}function Do(){return(Do=(0,u.Z)(function*(w){return(yield Ve(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Aa(w,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(w,m){return Ve(w,"GET","/v2/recaptchaConfig",pe(w,m))})).apply(this,arguments)}function Po(w){return void 0!==w&&void 0!==w.getResponse}function Ko(w){return void 0!==w&&void 0!==w.enterprise}class iu{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function xr(w){return new Promise((m,v)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=m,b.onerror=R=>{const V=Me("internal-error");V.customData=R,v(V)},b.type="text/javascript",b.charset="UTF-8",function Sa(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(b)})}function Qo(w){return`__${w}${Math.floor(1e6*Math.random())}`}class nl{constructor(m){this.type="recaptcha-enterprise",this.auth=mr(m)}verify(m="verify",v=!1){var b=this;return(0,u.Z)(function*(){function V(){return V=(0,u.Z)(function*(me){if(!v){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var Ke=(0,u.Z)(function*(ft,Ft){Aa(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wn=>{if(void 0!==wn.recaptchaKey){const ws=new iu(wn);return null==me.tenantId?me._agentRecaptchaConfig=ws:me._tenantRecaptchaConfigs[me.tenantId]=ws,ft(ws.siteKey)}Ft(new Error("recaptcha Enterprise site key undefined"))}).catch(wn=>{Ft(wn)})});return function(ft,Ft){return Ke.apply(this,arguments)}}())}),V.apply(this,arguments)}function ne(me,Ke,ft){const Ft=window.grecaptcha;Ko(Ft)?Ft.enterprise.ready(()=>{Ft.enterprise.execute(me,{action:m}).then(wn=>{Ke(wn)}).catch(()=>{Ke("NO_RECAPTCHA")})}):ft(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,Ke)=>{(function R(me){return V.apply(this,arguments)})(b.auth).then(ft=>{if(!v&&Ko(window.grecaptcha))ne(ft,me,Ke);else{if(typeof window>"u")return void Ke(new Error("RecaptchaVerifier is only supported in browser"));xr("https://www.google.com/recaptcha/enterprise.js?render="+ft).then(()=>{ne(ft,me,Ke)}).catch(Ft=>{Ke(Ft)})}}).catch(ft=>{Ke(ft)})})})()}}function An(w,m,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(w,m,v,b=!1){const R=new nl(w);let V;try{V=yield R.verify(v)}catch{V=yield R.verify(v,!0)}const ne=Object.assign({},m);return Object.assign(ne,b?{captchaResp:V}:{captchaResponse:V}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}function mr(w){return(0,W.m9)(w)}function Cr(w,m,v){const b=mr(w);X(b._canInitEmulator,b,"emulator-config-failed"),X(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const R=!!v?.disableWarnings,V=bf(m),{host:ne,port:me}=function ai(w){const m=bf(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!v)return{host:"",port:null};const b=v[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(b);if(R){const V=R[1];return{host:V,port:Ai(b.substr(V.length+1))}}{const[V,ne]=b.split(":");return{host:V,port:Ai(ne)}}}(m);b.config.emulator={url:`${V}//${ne}${null===me?"":`:${me}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ne,port:me,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function il(){function w(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function bf(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Ai(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class xo{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Se("not implemented")}_getIdTokenResponse(m){return Se("not implemented")}_linkToIdToken(m,v){return Se("not implemented")}_getReauthenticationResolver(m){return Se("not implemented")}}function sl(w,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:resetPassword",pe(w,m))})).apply(this,arguments)}function ol(w,m){return Od.apply(this,arguments)}function Od(){return(Od=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function em(w,m){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:update",pe(w,m))})).apply(this,arguments)}function tm(w,m){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithPassword",pe(w,m))})).apply(this,arguments)}function Nd(w,m){return Af.apply(this,arguments)}function Af(){return(Af=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:sendOobCode",pe(w,m))})).apply(this,arguments)}function rv(w,m){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,u.Z)(function*(w,m){return Nd(w,m)})).apply(this,arguments)}function Sf(w,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(w,m){return Nd(w,m)})).apply(this,arguments)}function nm(w,m){return Df.apply(this,arguments)}function Df(){return(Df=(0,u.Z)(function*(w,m){return Nd(w,m)})).apply(this,arguments)}function Pf(w,m){return xf.apply(this,arguments)}function xf(){return(xf=(0,u.Z)(function*(w,m){return Nd(w,m)})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithEmailLink",pe(w,m))})).apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithEmailLink",pe(w,m))})).apply(this,arguments)}class Fd extends xo{constructor(m,v,b,R=null){super("password",b),this._email=m,this._password=v,this._tenantId=R}static _fromEmailAndPassword(m,v){return new Fd(m,v,"password")}static _fromEmailAndCode(m,v,b=null){return new Fd(m,v,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,u.Z)(function*(){var b;switch(v.signInMethod){case"password":const R={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=m._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const V=yield An(m,R,"signInWithPassword");return tm(m,V)}return tm(m,R).catch(function(){var V=(0,u.Z)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield An(m,R,"signInWithPassword");return tm(m,me)}return Promise.reject(ne)});return function(ne){return V.apply(this,arguments)}}());case"emailLink":return function iv(w,m){return au.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:$e(m,"internal-error")}})()}_linkToIdToken(m,v){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return ol(m,{idToken:v,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function rm(w,m){return cu.apply(this,arguments)}(m,{idToken:v,email:b._email,oobCode:b._password});default:$e(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ma(w,m){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithIdp",pe(w,m))})).apply(this,arguments)}class uo extends xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new uo(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):$e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:R}=v,V=(0,oe._T)(v,["providerId","signInMethod"]);if(!b||!R)return null;const ne=new uo(b,R);return ne.idToken=V.idToken||void 0,ne.accessToken=V.accessToken||void 0,ne.secret=V.secret,ne.nonce=V.nonce,ne.pendingToken=V.pendingToken||null,ne}_getIdTokenResponse(m){return Ma(m,this.buildRequest())}_linkToIdToken(m,v){const b=this.buildRequest();return b.idToken=v,Ma(m,b)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ma(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,W.xO)(v)}return m}}function Vd(w,m){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:sendVerificationCode",pe(w,m))})).apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithPhoneNumber",pe(w,m))})).apply(this,arguments)}function Bd(){return(Bd=(0,u.Z)(function*(w,m){const v=yield cn(w,"POST","/v1/accounts:signInWithPhoneNumber",pe(w,m));if(v.temporaryProof)throw Tn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const im={USER_NOT_FOUND:"user-not-found"};function jd(){return(jd=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithPhoneNumber",pe(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),im)})).apply(this,arguments)}class Er extends xo{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Er({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Er({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Ud(w,m){return cl.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Mf(w,m){return Bd.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function uu(w,m){return jd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:b,verificationCode:R}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:b,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:b,phoneNumber:R,temporaryProof:V}=m;return b||v||R||V?new Er({verificationId:v,verificationCode:b,phoneNumber:R,temporaryProof:V}):null}}class Yo{constructor(m){var v,b,R,V,ne,me;const Ke=(0,W.zd)((0,W.pd)(m)),ft=null!==(v=Ke.apiKey)&&void 0!==v?v:null,Ft=null!==(b=Ke.oobCode)&&void 0!==b?b:null,wn=function Mo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Ke.mode)&&void 0!==R?R:null);X(ft&&Ft&&wn,"argument-error"),this.apiKey=ft,this.operation=wn,this.code=Ft,this.continueUrl=null!==(V=Ke.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ne=Ke.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(me=Ke.tenantId)&&void 0!==me?me:null}static parseLink(m){const v=function sv(w){const m=(0,W.zd)((0,W.pd)(w)).link,v=m?(0,W.zd)((0,W.pd)(m)).deep_link_id:null,b=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(b?(0,W.zd)((0,W.pd)(b)).link:null)||b||v||m||w}(m);try{return new Yo(v)}catch{return null}}}let sm=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,b){return Fd._fromEmailAndPassword(v,b)}static credentialWithLink(v,b){const R=Yo.parseLink(b);return X(R,"argument-error"),Fd._fromEmailAndCode(v,R.code,R.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Wn{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class mc extends Wn{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class $d extends mc{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return X("providerId"in v&&"signInMethod"in v,"argument-error"),uo._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return X(m.idToken||m.accessToken,"argument-error"),uo._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return $d.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return $d.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:b,oauthTokenSecret:R,pendingToken:V,nonce:ne,providerId:me}=m;if(!b&&!R&&!v&&!V||!me)return null;try{return new $d(me)._credential({idToken:v,accessToken:b,nonce:ne,pendingToken:V})}catch{return null}}}let ka=(()=>{class w extends mc{constructor(){super("facebook.com")}static credential(v){return uo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ji=(()=>{class w extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,b){return uo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:b})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:R}=v;if(!b&&!R)return null;try{return w.credential(b,R)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Rf=(()=>{class w extends mc{constructor(){super("github.com")}static credential(v){return uo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Bs extends xo{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Ma(m,this.buildRequest())}_linkToIdToken(m,v){const b=this.buildRequest();return b.idToken=v,Ma(m,b)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ma(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:R,pendingToken:V}=v;return b&&R&&V&&b===R?new Bs(b,V):null}static _create(m,v){return new Bs(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hd extends Wn{constructor(m){X(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Hd.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Hd.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Bs.fromJSON(m);return X(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:b}=m;if(!v||!b)return null;try{return Bs._create(b,v)}catch{return null}}}let du=(()=>{class w extends mc{constructor(){super("twitter.com")}static credential(v,b){return uo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:b})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:b,oauthTokenSecret:R}=v;if(!b||!R)return null;try{return w.credential(b,R)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ll(w,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signUp",pe(w,m))})).apply(this,arguments)}class ci{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,b,R=!1){return(0,u.Z)(function*(){const V=yield J._fromIdTokenResponse(m,b,R),ne=_c(b);return new ci({user:V,providerId:ne,_tokenResponse:b,operationType:v})})()}static _forOperation(m,v,b){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const R=_c(b);return new ci({user:m,providerId:R,_tokenResponse:b,operationType:v})})()}}function _c(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Wt(w){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(w){var m;const v=mr(w);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new ci({user:v.currentUser,providerId:null,operationType:"signIn"});const b=yield ll(v,{returnSecureToken:!0}),R=yield ci._fromIdTokenResponse(v,"signIn",b,!0);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}class zd extends W.ZR{constructor(m,v,b,R){var V;super(v.code,v.message),this.operationType=b,this.user=R,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:v.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(m,v,b,R){return new zd(m,v,b,R)}}function qd(w,m,v,b){return("reauthenticate"===m?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?zd._fromErrorAndOperation(w,V,m,b):V})}function kf(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function om(w,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);yield je(!0,v,m);const{providerUserInfo:b}=yield nr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),R=kf(b||[]);return v.providerData=v.providerData.filter(V=>R.has(V.providerId)),R.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function js(w,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(w,m,v=!1){const b=yield on(w,m._linkToIdToken(w.auth,yield w.getIdToken()),v);return ci._forOperation(w,"link",b)})).apply(this,arguments)}function je(w,m,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(w,m,v){yield cr(m);const R=!1===w?"provider-already-linked":"no-such-provider";X(kf(m.providerData).has(v)===w,m.auth,R)})).apply(this,arguments)}function Wd(w,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,u.Z)(function*(w,m,v=!1){const{auth:b}=w,R="reauthenticate";try{const V=yield on(w,qd(b,R,m,w),v);X(V.idToken,b,"internal-error");const ne=bn(V.idToken);X(ne,b,"internal-error");const{sub:me}=ne;return X(w.uid===me,b,"user-mismatch"),ci._forOperation(w,R,V)}catch(V){throw"auth/user-not-found"===V?.code&&$e(b,"user-mismatch"),V}})).apply(this,arguments)}function wr(w,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(w,m,v=!1){const b="signIn",R=yield qd(w,b,m),V=yield ci._fromIdTokenResponse(w,b,R);return v||(yield w._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Jo(w,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(w,m){return wr(mr(w),m)})).apply(this,arguments)}function dl(w,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);return yield je(!1,v,m.providerId),js(v,m)})).apply(this,arguments)}function Of(w,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(w,m){return Wd((0,W.m9)(w),m)})).apply(this,arguments)}function BC(w,m){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(w,m){return cn(w,"POST","/v1/accounts:signInWithCustomToken",pe(w,m))})).apply(this,arguments)}function Xi(w,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(w,m){const v=mr(w),b=yield BC(v,{token:m,returnSecureToken:!0}),R=yield ci._fromIdTokenResponse(v,"signIn",b);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}class es{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Oa._fromServerResponse(m,v):"totpInfo"in v?ts._fromServerResponse(m,v):$e(m,"internal-error")}}class Oa extends es{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Oa(v)}}class ts extends es{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new ts(v)}}function hl(w,m,v){var b;X((null===(b=v.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),X(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(X(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(X(v.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Nf(w,m,v){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,u.Z)(function*(w,m,v){var b;const R=mr(w),V={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=R._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ne=yield An(R,V,"getOobCode",!0);v&&hl(R,ne,v),yield Sf(R,ne)}else v&&hl(R,V,v),yield Sf(R,V).catch(function(){var ne=(0,u.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ke=yield An(R,V,"getOobCode",!0);v&&hl(R,Ke,v),yield Sf(R,Ke)}});return function(me){return ne.apply(this,arguments)}}())}),Lf.apply(this,arguments)}function _u(w,m,v){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(w,m,v){yield sl((0,W.m9)(w),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Kd(w,m){return yc.apply(this,arguments)}function yc(){return(yc=(0,u.Z)(function*(w,m){yield em((0,W.m9)(w),{oobCode:m})})).apply(this,arguments)}function Bi(w,m){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),b=yield sl(v,{oobCode:m}),R=b.requestType;switch(X(R,v,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(b.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(b.mfaInfo,v,"internal-error");default:X(b.email,v,"internal-error")}let V=null;return b.mfaInfo&&(V=es._fromServerResponse(mr(v),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:V},operation:R}})).apply(this,arguments)}function Qd(w,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(w,m){const{data:v}=yield Bi((0,W.m9)(w),m);return v.email})).apply(this,arguments)}function pl(w,m,v){return gl.apply(this,arguments)}function gl(){return gl=(0,u.Z)(function*(w,m,v){var b;const R=mr(w),V={returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"};let ne;if(null!==(b=R._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ft=yield An(R,V,"signUpPassword");ne=ll(R,ft)}else ne=ll(R,V).catch(function(){var ft=(0,u.Z)(function*(Ft){if("auth/missing-recaptcha-token"===Ft.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wn=yield An(R,V,"signUpPassword");return ll(R,wn)}return Promise.reject(Ft)});return function(Ft){return ft.apply(this,arguments)}}());const me=yield ne.catch(ft=>Promise.reject(ft)),Ke=yield ci._fromIdTokenResponse(R,"signIn",me);return yield R._updateCurrentUser(Ke.user),Ke}),gl.apply(this,arguments)}function Yd(w,m,v){return Jo((0,W.m9)(w),sm.credential(m,v))}function Ff(w,m,v){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,u.Z)(function*(w,m,v){var b;const R=mr(w),V={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function ne(me,Ke){X(Ke.handleCodeInApp,R,"argument-error"),Ke&&hl(R,me,Ke)}if(null!==(b=R._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const me=yield An(R,V,"getOobCode",!0);ne(me,v),yield nm(R,me)}else ne(V,v),yield nm(R,V).catch(function(){var me=(0,u.Z)(function*(Ke){if("auth/missing-recaptcha-token"!==Ke.code)return Promise.reject(Ke);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ft=yield An(R,V,"getOobCode",!0);ne(ft,v),yield nm(R,ft)}});return function(Ke){return me.apply(this,arguments)}}())}),Xo.apply(this,arguments)}function Vf(w,m){return"EMAIL_SIGNIN"===Yo.parseLink(m)?.operation}function ov(w,m,v){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w),R=sm.credentialWithLink(m,v||nt());return X(R._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Jo(b,R)})).apply(this,arguments)}function La(w,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:createAuthUri",pe(w,m))})).apply(this,arguments)}function am(w,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(w,m){const b={identifier:m,continueUri:Lt()?nt():"http://localhost"},{signinMethods:R}=yield La((0,W.m9)(w),b);return R||[]})).apply(this,arguments)}function Uf(w,m){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),R={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&hl(v.auth,R,m);const{email:V}=yield rv(v.auth,R);V!==w.email&&(yield w.reload())})).apply(this,arguments)}function Bf(w,m,v){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};v&&hl(b.auth,V,v);const{email:ne}=yield Pf(b.auth,V);ne!==w.email&&(yield w.reload())})).apply(this,arguments)}function _l(w,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(w,m){return Ve(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cu(w,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,u.Z)(function*(w,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const b=(0,W.m9)(w),V={idToken:yield b.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ne=yield on(b,_l(b.auth,V));b.displayName=ne.displayName||null,b.photoURL=ne.photoUrl||null;const me=b.providerData.find(({providerId:Ke})=>"password"===Ke);me&&(me.displayName=b.displayName,me.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Jd(w,m){return ho((0,W.m9)(w),m,null)}function cm(w,m){return ho((0,W.m9)(w),null,m)}function ho(w,m,v){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(w,m,v){const{auth:b}=w,V={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(V.email=m),v&&(V.password=v);const ne=yield on(w,ol(b,V));yield w._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Ic{constructor(m,v,b={}){this.isNewUser=m,this.providerId=v,this.profile=b}}class Va extends Ic{constructor(m,v,b,R){super(m,v,b),this.username=R}}class $f extends Ic{constructor(m,v){super(m,"facebook.com",v)}}class Gf extends Va{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class lm extends Ic{constructor(m,v){super(m,"google.com",v)}}class Xd extends Va{constructor(m,v,b){super(m,"twitter.com",v,b)}}function wu(w){const{user:m,_tokenResponse:v}=w;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function jf(w){var m,v;if(!w)return null;const{providerId:b}=w,R=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},V=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const ne=null===(v=null===(m=bn(w.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ne)return new Ic(V,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!b)return null;switch(b){case"facebook.com":return new $f(V,R);case"github.com":return new Gf(V,R);case"google.com":return new lm(V,R);case"twitter.com":return new Xd(V,R,w.screenName||null);case"custom":case"anonymous":return new Ic(V,null);default:return new Ic(V,b,R)}}(v)}class ns{constructor(m,v,b){this.type=m,this.credential=v,this.auth=b}static _fromIdtoken(m,v){return new ns("enroll",m,v)}static _fromMfaPendingCredential(m){return new ns("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,b;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ns._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.idToken)return ns._fromIdtoken(m.multiFactorSession.idToken)}return null}}class nh{constructor(m,v,b){this.session=m,this.hints=v,this.signInResolver=b}static _fromError(m,v){const b=mr(m),R=v.customData._serverResponse,V=(R.mfaInfo||[]).map(me=>es._fromServerResponse(b,me));X(R.mfaPendingCredential,b,"internal-error");const ne=ns._fromMfaPendingCredential(R.mfaPendingCredential);return new nh(ne,V,function(){var me=(0,u.Z)(function*(Ke){const ft=yield Ke._process(b,ne);delete R.mfaInfo,delete R.mfaPendingCredential;const Ft=Object.assign(Object.assign({},R),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(v.operationType){case"signIn":const wn=yield ci._fromIdTokenResponse(b,v.operationType,Ft);return yield b._updateCurrentUser(wn.user),wn;case"reauthenticate":return X(v.user,b,"internal-error"),ci._forOperation(v.user,v.operationType,Ft);default:$e(b,"internal-error")}});return function(Ke){return me.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,u.Z)(function*(){return v.signInResolver(m)})()}}function ta(w,m){var v;const b=(0,W.m9)(w),R=m;return X(m.customData.operationType,b,"argument-error"),X(null===(v=R.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,b,"argument-error"),nh._fromError(b,R)}function bu(w,m){return Ve(w,"POST","/v2/accounts/mfaEnrollment:start",pe(w,m))}class Il{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(b=>es._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new Il(m)}getSession(){var m=this;return(0,u.Z)(function*(){return ns._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var b=this;return(0,u.Z)(function*(){const R=m,V=yield b.getSession(),ne=yield on(b.user,R._process(b.user.auth,V,v));return yield b.user._updateTokensIfNecessary(ne),b.user.reload()})()}unenroll(m){var v=this;return(0,u.Z)(function*(){const b="string"==typeof m?m:m.uid,R=yield v.user.getIdToken();try{const V=yield on(v.user,function Ec(w,m){return Ve(w,"POST","/v2/accounts/mfaEnrollment:withdraw",pe(w,m))}(v.user.auth,{idToken:R,mfaEnrollmentId:b}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ne})=>ne!==b),yield v.user._updateTokensIfNecessary(V),yield v.user.reload()}catch(V){throw V}})()}}const Ua=new WeakMap;function Cl(w){const m=(0,W.m9)(w);return Ua.has(m)||Ua.set(m,Il._fromUser(m)),Ua.get(m)}const na="__sak";class El{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const zf=(()=>{class w extends El{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,b)=>this.onStorageEvent(v,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rh(){const w=(0,W.z$)();return U(w)||Re(w)}()&&function Pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const b of Object.keys(this.listeners)){const R=this.storage.getItem(b),V=this.localCache[b];R!==V&&v(b,V,R)}}onStorageEvent(v,b=!1){if(!v.key)return void this.forAllChangedKeys((me,Ke,ft)=>{this.notifyListeners(me,ft)});const R=v.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(R);if(v.newValue!==me)null!==v.newValue?this.storage.setItem(R,v.newValue):this.storage.removeItem(R);else if(this.localCache[R]===v.newValue&&!b)return}const V=()=>{const me=this.storage.getItem(R);!b&&this.localCache[R]===me||this.notifyListeners(R,me)},ne=this.storage.getItem(R);!function yn(){return(0,W.w1)()&&10===document.documentMode}()||ne===v.newValue||v.newValue===v.oldValue?V():setTimeout(V,10)}notifyListeners(v,b){this.localCache[v]=b;const R=this.listeners[v];if(R)for(const V of Array.from(R))V(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,b,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:b,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,b){var R=()=>super._set,V=this;return(0,u.Z)(function*(){yield R().call(V,v,b),V.localCache[v]=JSON.stringify(b)})()}_get(v){var b=()=>super._get,R=this;return(0,u.Z)(function*(){const V=yield b().call(R,v);return R.localCache[v]=JSON.stringify(V),V})()}_remove(v){var b=()=>super._remove,R=this;return(0,u.Z)(function*(){yield b().call(R,v),delete R.localCache[v]})()}}return w.type="LOCAL",w})(),ra=(()=>{class w extends El{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,b){}_removeListener(v,b){}}return w.type="SESSION",w})();let fm=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const b=this.receivers.find(V=>V.isListeningto(v));if(b)return b;const R=new w(v);return this.receivers.push(R),R}isListeningto(v){return this.eventTarget===v}handleEvent(v){var b=this;return(0,u.Z)(function*(){const R=v,{eventId:V,eventType:ne,data:me}=R.data,Ke=b.handlersMap[ne];if(!Ke?.size)return;R.ports[0].postMessage({status:"ack",eventId:V,eventType:ne});const ft=Array.from(Ke).map(function(){var wn=(0,u.Z)(function*(ws){return ws(R.origin,me)});return function(ws){return wn.apply(this,arguments)}}()),Ft=yield function av(w){return Promise.all(w.map(function(){var m=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(b){return{fulfilled:!1,reason:b}}});return function(v){return m.apply(this,arguments)}}()))}(ft);R.ports[0].postMessage({status:"done",eventId:V,eventType:ne,response:Ft})})()}_subscribe(v,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(b)}_unsubscribe(v,b){this.handlersMap[v]&&b&&this.handlersMap[v].delete(b),(!b||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ia(w="",m=10){let v="";for(let b=0;b<m;b++)v+=Math.floor(10*Math.random());return w+v}class bc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,b=50){var R=this;return(0,u.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ne,me;return new Promise((Ke,ft)=>{const Ft=ia("",20);V.port1.start();const wn=setTimeout(()=>{ft(new Error("unsupported_event"))},b);me={messageChannel:V,onMessage(ws){const Mc=ws;if(Mc.data.eventId===Ft)switch(Mc.data.status){case"ack":clearTimeout(wn),ne=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Ke(Mc.data.response);break;default:clearTimeout(wn),clearTimeout(ne),ft(new Error("invalid_response"))}}},R.handlers.add(me),V.port1.addEventListener("message",me.onMessage),R.target.postMessage({eventType:m,eventId:Ft,data:v},[V.port2])}).finally(()=>{me&&R.removeMessageHandler(me)})})()}}function jr(){return window}function bl(){return typeof jr().WorkerGlobalScope<"u"&&"function"==typeof jr().importScripts}function sh(){return(sh=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ur="firebaseLocalStorageDb",$r="firebaseLocalStorage",Su="fbase_key";class _s{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function oh(w,m){return w.transaction([$r],m?"readwrite":"readonly").objectStore($r)}function Fn(){const w=indexedDB.open(ur,1);return new Promise((m,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore($r,{keyPath:Su})}catch(R){v(R)}}),w.addEventListener("success",(0,u.Z)(function*(){const b=w.result;b.objectStoreNames.contains($r)?m(b):(b.close(),yield function Wf(){const w=indexedDB.deleteDatabase(ur);return new _s(w).toPromise()}(),m(yield Fn()))}))})}function Zf(w,m,v){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(w,m,v){const b=oh(w,!0).put({[Su]:m,value:v});return new _s(b).toPromise()})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(w,m){const v=oh(w,!1).get(m),b=yield new _s(v).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function cv(w,m){const v=oh(w,!0).delete(m);return new _s(v).toPromise()}const gm=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield Fn()),v.db})()}_withRetries(v){var b=this;return(0,u.Z)(function*(){let R=0;for(;;)try{const V=yield b._openDb();return yield v(V)}catch(V){if(R++>3)throw V;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return bl()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=fm._getInstance(function Ro(){return bl()?self:null}()),v.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(R,V){return{keyProcessed:(yield v._poll()).includes(V.key)}});return function(R,V){return b.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(R,V){return["keyChanged"]});return function(R,V){return b.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var b,R;if(v.activeServiceWorker=yield function ih(){return sh.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new bc(v.activeServiceWorker);const V=yield v.sender._send("ping",{},800);!V||(null===(b=V[0])||void 0===b?void 0:b.fulfilled)&&(null===(R=V[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function qf(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:v},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Fn();return yield Zf(v,na,"1"),yield cv(v,na),!0}catch{}return!1})()}_withPendingWrite(v){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield v()}finally{b.pendingWrites--}})()}_set(v,b){var R=this;return(0,u.Z)(function*(){return R._withPendingWrite((0,u.Z)(function*(){return yield R._withRetries(V=>Zf(V,v,b)),R.localCache[v]=b,R.notifyServiceWorker(v)}))})()}_get(v){var b=this;return(0,u.Z)(function*(){const R=yield b._withRetries(V=>function jC(w,m){return Du.apply(this,arguments)}(V,v));return b.localCache[v]=R,R})()}_remove(v){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(R=>cv(R,v)),delete b.localCache[v],b.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const b=yield v._withRetries(ne=>{const me=oh(ne,!1).getAll();return new _s(me).toPromise()});if(!b)return[];if(0!==v.pendingWrites)return[];const R=[],V=new Set;for(const{fbase_key:ne,value:me}of b)V.add(ne),JSON.stringify(v.localCache[ne])!==JSON.stringify(me)&&(v.notifyListeners(ne,me),R.push(ne));for(const ne of Object.keys(v.localCache))v.localCache[ne]&&!V.has(ne)&&(v.notifyListeners(ne,null),R.push(ne));return R})()}notifyListeners(v,b){this.localCache[v]=b;const R=this.listeners[v];if(R)for(const V of Array.from(R))V(b)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function $C(w,m){return Ve(w,"POST","/v2/accounts/mfaSignIn:start",pe(w,m))}const Mu=1e12;class li{constructor(m){this.auth=m,this.counter=Mu,this._widgets=new Map}render(m,v){const b=this.counter;return this._widgets.set(b,new Gs(m,this.auth.name,v||{})),this.counter++,b}reset(m){var v;const b=m||Mu;null===(v=this._widgets.get(b))||void 0===v||v.delete(),this._widgets.delete(b)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Mu))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,u.Z)(function*(){var b;return null===(b=v._widgets.get(m||Mu))||void 0===b||b.execute(),""})()}}class Gs{constructor(m,v,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;X(R,"argument-error",{appName:v}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ah(w){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sl=Qo("rcb"),Ru=new kn(3e4,6e4);class Yf{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=jr().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return X(function uv(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Po(jr().grecaptcha)?Promise.resolve(jr().grecaptcha):new Promise((b,R)=>{const V=jr().setTimeout(()=>{R(Me(m,"network-request-failed"))},Ru.get());jr()[Sl]=()=>{jr().clearTimeout(V),delete jr()[Sl];const me=jr().grecaptcha;if(!me||!Po(me))return void R(Me(m,"internal-error"));const Ke=me.render;me.render=(ft,Ft)=>{const wn=Ke(ft,Ft);return this.counter++,wn},this.hostLanguage=v,b(me)},xr(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Sl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(V),R(Me(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=jr().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mm{load(m){return(0,u.Z)(function*(){return new li(m)})()}clearedOneInstance(){}}const dv="recaptcha",ch={theme:"light",type:"image"};class rs{constructor(m,v=Object.assign({},ch),b){this.parameters=v,this.type=dv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(b),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;X(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mm:new Yf,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(v)||new Promise(V=>{const ne=me=>{!me||(m.tokenChangeListeners.delete(ne),V(me))};m.tokenChangeListeners.add(ne),m.isInvisible&&b.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(b=>b(v)),"function"==typeof m)m(v);else if("string"==typeof m){const b=jr()[m];"function"==typeof b&&b(v)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const b=document.createElement("div");v.appendChild(b),v=b}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){X(Lt()&&!bl(),m.auth,"internal-error"),yield function ku(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function rr(w){return Do.apply(this,arguments)}(m.auth);X(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ba{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Er._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function _m(w,m,v){return lh.apply(this,arguments)}function lh(){return(lh=(0,u.Z)(function*(w,m,v){const b=mr(w),R=yield Dl(b,m,(0,W.m9)(v));return new Ba(R,V=>Jo(b,V))})).apply(this,arguments)}function Jf(w,m,v){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w);yield je(!1,b,"phone");const R=yield Dl(b.auth,m,(0,W.m9)(v));return new Ba(R,V=>dl(b,V))})).apply(this,arguments)}function ep(w,m,v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w),R=yield Dl(b.auth,m,(0,W.m9)(v));return new Ba(R,V=>Of(b,V))})).apply(this,arguments)}function Dl(w,m,v){return uh.apply(this,arguments)}function uh(){return(uh=(0,u.Z)(function*(w,m,v){var b;const R=yield v.verify();try{let V;if(X("string"==typeof R,w,"argument-error"),X(v.type===dv,w,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const ne=V.session;if("phoneNumber"in V)return X("enroll"===ne.type,w,"internal-error"),(yield bu(w,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{X("signin"===ne.type,w,"internal-error");const me=(null===(b=V.multiFactorHint)||void 0===b?void 0:b.uid)||V.multiFactorUid;return X(me,w,"missing-multi-factor-info"),(yield $C(w,{mfaPendingCredential:ne.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Vd(w,{phoneNumber:V.phoneNumber,recaptchaToken:R});return ne}}finally{v._reset()}})).apply(this,arguments)}function On(w,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(w,m){yield js((0,W.m9)(w),m)})).apply(this,arguments)}let xt=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=mr(v)}verifyPhoneNumber(v,b){return Dl(this.auth,v,(0,W.m9)(b))}static credential(v,b){return Er._fromVerification(v,b)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:b,temporaryProof:R}=v;return b&&R?Er._fromTokenResponse(b,R):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Tr(w,m){return m?We(m):(X(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Di extends xo{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ma(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Ma(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Ma(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function is(w){return wr(w.auth,new Di(w),w.bypassAuthState)}function Pl(w){const{auth:m,user:v}=w;return X(v,m,"internal-error"),Wd(v,new Di(w),w.bypassAuthState)}function vs(w){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(w){const{auth:m,user:v}=w;return X(v,m,"internal-error"),js(v,new Di(w),w.bypassAuthState)})).apply(this,arguments)}class Nu{constructor(m,v,b,R,V=!1){this.auth=m,this.resolver=b,this.user=R,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,u.Z)(function*(b,R){m.pendingPromise={resolve:b,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(b,R){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:R,postBody:V,tenantId:ne,error:me,type:Ke}=m;if(me)return void v.reject(me);const ft={auth:v.auth,requestUri:b,sessionId:R,tenantId:ne||void 0,postBody:V||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ke)(ft))}catch(Ft){v.reject(Ft)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return is;case"linkViaPopup":case"linkViaRedirect":return vs;case"reauthViaPopup":case"reauthViaRedirect":return Pl;default:$e(this.auth,"internal-error")}}resolve(m){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dc=new kn(2e3,1e4);function Pi(w,m,v){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(w,m,v){const b=mr(w);qe(w,m,Wn);const R=Tr(b,v);return new ja(b,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function Hr(w,m,v){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w);qe(b.auth,m,Wn);const R=Tr(b.auth,v);return new ja(b.auth,"reauthViaPopup",m,R,b).executeNotNull()})).apply(this,arguments)}function jt(w,m,v){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w);qe(b.auth,m,Wn);const R=Tr(b.auth,v);return new ja(b.auth,"linkViaPopup",m,R,b).executeNotNull()})).apply(this,arguments)}let ja=(()=>{class w extends Nu{constructor(v,b,R,V,ne){super(v,b,V,ne),this.provider=R,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const b=yield v.execute();return X(b,v.auth,"internal-error"),b})()}onExecution(){var v=this;return(0,u.Z)(function*(){Xe(1===v.filter.length,"Popup operations only handle one event");const b=ia();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],b),v.authWindow.associatedEvent=b,v.resolver._originValidation(v.auth).catch(R=>{v.reject(R)}),v.resolver._isIframeWebStorageSupported(v.auth,R=>{R||v.reject(Me(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var b,R;this.pollId=null!==(R=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Dc.get())};v()}}return w.currentPopupAction=null,w})();const sa=new Map;class zr extends Nu{constructor(m,v,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,u.Z)(function*(){let b=sa.get(v.auth._key());if(!b){try{const V=(yield function np(w,m){return po.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;b=()=>Promise.resolve(V)}catch(R){b=()=>Promise.reject(R)}sa.set(v.auth._key(),b)}return v.bypassAuthState||sa.set(v.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(b,m);if("unknown"!==m.type){if(m.eventId){const R=yield b.auth._redirectUserForId(m.eventId);if(R)return b.user=R,v().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function po(){return(po=(0,u.Z)(function*(w,m){const v=aa(m),b=oa(w);if(!(yield b._isAvailable()))return!1;const R="true"===(yield b._get(v));return yield b._remove(v),R})).apply(this,arguments)}function dh(w,m){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(w,m){return oa(w)._set(aa(m),"true")})).apply(this,arguments)}function Fu(){sa.clear()}function rp(w,m){sa.set(w._key(),m)}function oa(w){return We(w._redirectPersistence)}function aa(w){return En("pendingRedirect",w.config.apiKey,w.name)}function Vu(w,m,v){return function ip(w,m,v){return xl.apply(this,arguments)}(w,m,v)}function xl(){return(xl=(0,u.Z)(function*(w,m,v){const b=mr(w);qe(w,m,Wn),yield b._initializationPromise;const R=Tr(b,v);return yield dh(R,b),R._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function go(w,m,v){return function Hs(w,m,v){return Uu.apply(this,arguments)}(w,m,v)}function Uu(){return(Uu=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w);qe(b.auth,m,Wn),yield b.auth._initializationPromise;const R=Tr(b.auth,v);yield dh(R,b.auth);const V=yield Rr(b);return R._openRedirect(b.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function ui(w,m,v){return function Bu(w,m,v){return hh.apply(this,arguments)}(w,m,v)}function hh(){return(hh=(0,u.Z)(function*(w,m,v){const b=(0,W.m9)(w);qe(b.auth,m,Wn),yield b.auth._initializationPromise;const R=Tr(b.auth,v);yield je(!1,b,m.providerId),yield dh(R,b.auth);const V=yield Rr(b);return R._openRedirect(b.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Mr(w,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(w,m){return yield mr(w)._initializationPromise,xc(w,m,!1)})).apply(this,arguments)}function xc(w,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(w,m,v=!1){const b=mr(w),R=Tr(b,m),ne=yield new zr(b,R,v).execute();return ne&&!v&&(delete ne.user._redirectEventId,yield b._persistUserIfCurrent(ne.user),yield b._setRedirectUser(null,m)),ne})).apply(this,arguments)}function Rr(w){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(w){const m=ia(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Ml{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(v=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function di(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var b;if(m.error&&!qs(m)){const R=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";v.onError(Me(this.auth,R))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const b=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zs(m))}saveEventToCache(m){this.cachedEventUids.add(zs(m)),this.lastProcessedEventTime=Date.now()}}function zs(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function qs({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Ws(w){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,u.Z)(function*(w,m={}){return Ve(w,"GET","/v1/projects",m)})).apply(this,arguments)}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ym=/^https?/;function kl(){return(kl=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Ws(w);for(const v of m)try{if(fv(v))return}catch{}$e(w,"unauthorized-domain")})).apply(this,arguments)}function fv(w){const m=nt(),{protocol:v,hostname:b}=new URL(m);if(w.startsWith("chrome-extension://")){const ne=new URL(w);return""===ne.hostname&&""===b?"chrome-extension:"===v&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ne.hostname===b}if(!ym.test(v))return!1;if(la.test(w))return b===w;const R=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(b)}const Ha=new kn(3e4,6e4);function ln(){const w=jr().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let fh=null;function Is(w){return fh=fh||function $u(w){return new Promise((m,v)=>{var b,R,V;function ne(){ln(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ln(),v(Me(w,"network-request-failed"))},timeout:Ha.get()})}if(null!==(R=null===(b=jr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==R&&R.Iframe)m(gapi.iframes.getContext());else{if(null===(V=jr().gapi)||void 0===V||!V.load){const me=Qo("iframefcb");return jr()[me]=()=>{gapi.load?ne():v(Me(w,"network-request-failed"))},xr(`https://apis.google.com/js/api.js?onload=${me}`).catch(Ke=>v(Ke))}ne()}}).catch(m=>{throw fh=null,m})}(w),fh}const sp=new kn(5e3,15e3),op={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ks(w){const m=w.config;X(m.authDomain,w,"auth-domain-config-required");const v=m.emulator?Ur(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,b={apiKey:m.apiKey,appName:w.name,v:F.SDK_VERSION},R=Gu.get(w.config.apiHost);R&&(b.eid=R);const V=w._getFrameworks();return V.length&&(b.fw=V.join(",")),`${v}?${(0,W.xO)(b).slice(1)}`}function qr(){return qr=(0,u.Z)(function*(w){const m=yield Is(w),v=jr().gapi;return X(v,w,"internal-error"),m.open({where:document.body,url:Ks(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:op,dontclear:!0},b=>new Promise(function(){var R=(0,u.Z)(function*(V,ne){yield b.restyle({setHideOnLeave:!1});const me=Me(w,"network-request-failed"),Ke=jr().setTimeout(()=>{ne(me)},sp.get());function ft(){jr().clearTimeout(Ke),V(b)}b.ping(ft).then(ft,()=>{ne(me)})});return function(V,ne){return R.apply(this,arguments)}}()))}),qr.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class se{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Te(w,m,v,b=500,R=600){const V=Math.max((window.screen.availHeight-R)/2,0).toString(),ne=Math.max((window.screen.availWidth-b)/2,0).toString();let me="";const Ke=Object.assign(Object.assign({},T),{width:b.toString(),height:R.toString(),top:V,left:ne}),ft=(0,W.z$)().toLowerCase();v&&(me=function N(w=(0,W.z$)()){return/crios\//i.test(w)}(ft)?"_blank":v),function B(w=(0,W.z$)()){return/firefox\//i.test(w)}(ft)&&(m=m||"http://localhost",Ke.scrollbars="yes");const Ft=Object.entries(Ke).reduce((ws,[Mc,za])=>`${ws}${Mc}=${za},`,"");if(function Tt(w=(0,W.z$)()){var m;return Re(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(ft)&&"_self"!==me)return function rt(w,m){const v=document.createElement("a");v.href=w,v.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(b)}(m||"",me),new se(null);const wn=window.open(m||"",me,Ft);X(wn,w,"popup-blocked");try{wn.focus()}catch{}return new se(wn)}const Zt=encodeURIComponent("fac");function qt(w,m,v,b,R,V){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(w,m,v,b,R,V){X(w.config.authDomain,w,"auth-domain-config-required"),X(w.config.apiKey,w,"invalid-api-key");const ne={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:b,v:F.SDK_VERSION,eventId:R};if(m instanceof Wn){m.setDefaultLanguage(w.languageCode),ne.providerId=m.providerId||"",(0,W.xb)(m.getCustomParameters())||(ne.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Ft,wn]of Object.entries(V||{}))ne[Ft]=wn}if(m instanceof mc){const Ft=m.getScopes().filter(wn=>""!==wn);Ft.length>0&&(ne.scopes=Ft.join(","))}w.tenantId&&(ne.tid=w.tenantId);const me=ne;for(const Ft of Object.keys(me))void 0===me[Ft]&&delete me[Ft];const Ke=yield w._getAppCheckToken(),ft=Ke?`#${Zt}=${encodeURIComponent(Ke)}`:"";return`${Ct(w)}?${(0,W.xO)(me).slice(1)}${ft}`})).apply(this,arguments)}function Ct({config:w}){return w.emulator?Ur(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const $i="webStorageSupport",Cs=class Hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ra,this._completeRedirectFn=xc,this._overrideRedirectResult=rp}_openPopup(m,v,b,R){var V=this;return(0,u.Z)(function*(){var ne;Xe(null===(ne=V.eventManagers[m._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const me=yield qt(m,v,b,nt(),R);return Te(m,me,ia())})()}_openRedirect(m,v,b,R){var V=this;return(0,u.Z)(function*(){return yield V._originValidation(m),function Tl(w){jr().location.href=w}(yield qt(m,v,b,nt(),R)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:R,promise:V}=this.eventManagers[v];return R?Promise.resolve(R):(Xe(V,"If manager is not set, promise should be"),V)}const b=this.initAndGetManager(m);return this.eventManagers[v]={promise:b},b.catch(()=>{delete this.eventManagers[v]}),b}initAndGetManager(m){var v=this;return(0,u.Z)(function*(){const b=yield function pv(w){return qr.apply(this,arguments)}(m),R=new Ml(m);return b.register("authEvent",V=>(X(V?.authEvent,m,"invalid-auth-event"),{status:R.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:R},v.iframes[m._key()]=b,R})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send($i,{type:$i},R=>{var V;const ne=null===(V=R?.[0])||void 0===V?void 0:V[$i];void 0!==ne&&v(!!ne),$e(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function hv(w){return kl.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return en()||U()||Re()}};class Es extends class Qs{constructor(m){this.factorId=m}_process(m,v,b){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,b);case"signin":return this._finalizeSignIn(m,v.credential);default:return Se("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Es(m)}_finalizeEnroll(m,v,b){return function vl(w,m){return Ve(w,"POST","/v2/accounts/mfaEnrollment:finalize",pe(w,m))}(m,{idToken:v,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function Gr(w,m){return Ve(w,"POST","/v2/accounts/mfaSignIn:finalize",pe(w,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zu=(()=>{class w{constructor(){}static assertion(v){return Es._fromCredential(v)}}return w.FACTOR_ID="phone",w})();const _h=(0,W.Pz)("authIdTokenMaxAge")||300;let mv=null;const HC=w=>function(){var m=(0,u.Z)(function*(v){const b=v&&(yield v.getIdTokenResult()),R=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(R&&R>_h)return;const V=b?.token;mv!==V&&(mv=V,yield fetch(w,{method:V?"POST":"DELETE",headers:V?{Authorization:`Bearer ${V}`}:{}}))});return function(v){return m.apply(this,arguments)}}();function Wu(w=(0,F.getApp)()){const m=(0,F._getProvider)(w,"auth");if(m.isInitialized())return m.getImmediate();const v=function xa(w,m){const v=(0,F._getProvider)(w,"auth");if(v.isInitialized()){const R=v.getImmediate(),V=v.getOptions();if((0,W.vZ)(V,m??{}))return R;$e(R,"already-initialized")}return v.initialize({options:m})}(w,{popupRedirectResolver:Cs,persistence:[gm,zf,ra]}),b=(0,W.Pz)("authTokenSyncURL");if(b){const V=HC(b);(function Cc(w,m,v){(0,W.m9)(w).beforeAuthStateChanged(m,v)})(v,V,()=>V(v.currentUser)),function Hf(w,m,v,b){(0,W.m9)(w).onIdTokenChanged(m,v,b)}(v,ne=>V(ne))}const R=(0,W.q4)("auth");return R&&Cr(v,`http://${R}`),v}},2090:(Rt,Fe,$)=>{$.d(Fe,{$s:()=>We,BH:()=>Ne,DV:()=>Ir,Dv:()=>cr,G6:()=>Ur,GJ:()=>Nn,L:()=>Ae,LL:()=>Ue,P0:()=>bt,Pz:()=>Me,Sg:()=>qe,UG:()=>Se,UI:()=>pt,US:()=>we,Wj:()=>mi,Wl:()=>Ut,Yr:()=>kn,ZB:()=>ie,ZR:()=>Ve,aH:()=>$e,b$:()=>Lt,cI:()=>cn,dS:()=>Ki,eu:()=>ce,g5:()=>F,gK:()=>gr,gQ:()=>Xn,h$:()=>ve,hl:()=>ae,hu:()=>W,jU:()=>Xe,lb:()=>Xt,m9:()=>En,ne:()=>on,p$:()=>Y,pd:()=>bn,q4:()=>wt,r3:()=>nr,ru:()=>nt,tV:()=>Q,uI:()=>X,ug:()=>mn,vZ:()=>Kn,w1:()=>qn,w9:()=>or,xO:()=>Zi,xb:()=>Ui,z$:()=>Qe,zI:()=>be,zd:()=>fs});const W=function(K,Z){if(!K)throw F(Z)},F=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},oe=function(K){const Z=[];let B=0;for(let U=0;U<K.length;U++){let N=K.charCodeAt(U);N<128?Z[B++]=N:N<2048?(Z[B++]=N>>6|192,Z[B++]=63&N|128):55296==(64512&N)&&U+1<K.length&&56320==(64512&K.charCodeAt(U+1))?(N=65536+((1023&N)<<10)+(1023&K.charCodeAt(++U)),Z[B++]=N>>18|240,Z[B++]=N>>12&63|128,Z[B++]=N>>6&63|128,Z[B++]=63&N|128):(Z[B++]=N>>12|224,Z[B++]=N>>6&63|128,Z[B++]=63&N|128)}return Z},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,Z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let N=0;N<K.length;N+=3){const re=K[N],ke=N+1<K.length,st=ke?K[N+1]:0,kt=N+2<K.length,Re=kt?K[N+2]:0;let yn=(15&st)<<2|Re>>6,en=63&Re;kt||(en=64,ke||(yn=64)),U.push(B[re>>2],B[(3&re)<<4|st>>4],B[yn],B[en])}return U.join("")},encodeString(K,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(K):this.encodeByteArray(oe(K),Z)},decodeString(K,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(K):function(K){const Z=[];let B=0,U=0;for(;B<K.length;){const N=K[B++];if(N<128)Z[U++]=String.fromCharCode(N);else if(N>191&&N<224){const re=K[B++];Z[U++]=String.fromCharCode((31&N)<<6|63&re)}else if(N>239&&N<365){const kt=((7&N)<<18|(63&K[B++])<<12|(63&K[B++])<<6|63&K[B++])-65536;Z[U++]=String.fromCharCode(55296+(kt>>10)),Z[U++]=String.fromCharCode(56320+(1023&kt))}else{const re=K[B++],ke=K[B++];Z[U++]=String.fromCharCode((15&N)<<12|(63&re)<<6|63&ke)}}return Z.join("")}(this.decodeStringToByteArray(K,Z))},decodeStringToByteArray(K,Z){this.init_();const B=Z?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let N=0;N<K.length;){const re=B[K.charAt(N++)],st=N<K.length?B[K.charAt(N)]:0;++N;const Re=N<K.length?B[K.charAt(N)]:64;++N;const Tt=N<K.length?B[K.charAt(N)]:64;if(++N,null==re||null==st||null==Re||null==Tt)throw new ye;U.push(re<<2|st>>4),64!==Re&&(U.push(st<<4&240|Re>>2),64!==Tt&&U.push(Re<<6&192|Tt))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(K){const Z=oe(K);return we.encodeByteArray(Z,!0)},Ae=function(K){return ve(K).replace(/\./g,"")},Q=function(K){try{return we.decodeString(K,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function Y(K){return ie(void 0,K)}function ie(K,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return Z}for(const B in Z)!Z.hasOwnProperty(B)||!Ye(B)||(K[B]=ie(K[B],Z[B]));return K}function Ye(K){return"__proto__"!==K}const _e=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=K&&Q(K[1]);return Z&&JSON.parse(Z)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},wt=K=>{var Z,B;return null===(B=null===(Z=_e())||void 0===Z?void 0:Z.emulatorHosts)||void 0===B?void 0:B[K]},bt=K=>{const Z=wt(K);if(!Z)return;const B=Z.lastIndexOf(":");if(B<=0||B+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const U=parseInt(Z.substring(B+1),10);return"["===Z[0]?[Z.substring(1,B-1),U]:[Z.substring(0,B),U]},$e=()=>{var K;return null===(K=_e())||void 0===K?void 0:K.config},Me=K=>{var Z;return null===(Z=_e())||void 0===Z?void 0:Z[`_${K}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,B)=>{this.resolve=Z,this.reject=B})}wrapCallback(Z){return(B,U)=>{B?this.reject(B):this.resolve(U),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(B):Z(B,U))}}}function qe(K,Z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=Z||"demo-project",N=K.iat||0,re=K.sub||K.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:N,exp:N+3600,auth_time:N,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(ke)),""].join(".")}function Qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function Se(){var K;const Z=null===(K=_e())||void 0===K?void 0:K.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function nt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qn(){const K=Qe();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function kn(){return!1}function Ur(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((K,Z)=>{try{let B=!0;const U="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(U);N.onsuccess=()=>{N.result.close(),B||self.indexedDB.deleteDatabase(U),K(!0)},N.onupgradeneeded=()=>{B=!1},N.onerror=()=>{var re;Z((null===(re=N.error)||void 0===re?void 0:re.message)||"")}}catch(B){Z(B)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ve extends Error{constructor(Z,B,U){super(B),this.code=Z,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(Z,B,U){this.service=Z,this.serviceName=B,this.errors=U}create(Z,...B){const U=B[0]||{},N=`${this.service}/${Z}`,re=this.errors[Z],ke=re?function ht(K,Z){return K.replace(Ot,(B,U)=>{const N=Z[U];return null!=N?String(N):`<${U}?>`})}(re,U):"Error";return new Ve(N,`${this.serviceName}: ${ke} (${N}).`,U)}}const Ot=/\{\$([^}]+)}/g;function cn(K){return JSON.parse(K)}function Ut(K){return JSON.stringify(K)}const pn=function(K){let Z={},B={},U={},N="";try{const re=K.split(".");Z=cn(Q(re[0])||""),B=cn(Q(re[1])||""),N=re[2],U=B.d||{},delete B.d}catch{}return{header:Z,claims:B,data:U,signature:N}},or=function(K){const B=pn(K).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},Nn=function(K){const Z=pn(K).claims;return"object"==typeof Z&&!0===Z.admin};function nr(K,Z){return Object.prototype.hasOwnProperty.call(K,Z)}function Ir(K,Z){if(Object.prototype.hasOwnProperty.call(K,Z))return K[Z]}function Ui(K){for(const Z in K)if(Object.prototype.hasOwnProperty.call(K,Z))return!1;return!0}function pt(K,Z,B){const U={};for(const N in K)Object.prototype.hasOwnProperty.call(K,N)&&(U[N]=Z.call(B,K[N],N,K));return U}function Kn(K,Z){if(K===Z)return!0;const B=Object.keys(K),U=Object.keys(Z);for(const N of B){if(!U.includes(N))return!1;const re=K[N],ke=Z[N];if(pr(re)&&pr(ke)){if(!Kn(re,ke))return!1}else if(re!==ke)return!1}for(const N of U)if(!B.includes(N))return!1;return!0}function pr(K){return null!==K&&"object"==typeof K}function Zi(K){const Z=[];for(const[B,U]of Object.entries(K))Array.isArray(U)?U.forEach(N=>{Z.push(encodeURIComponent(B)+"="+encodeURIComponent(N))}):Z.push(encodeURIComponent(B)+"="+encodeURIComponent(U));return Z.length?"&"+Z.join("&"):""}function fs(K){const Z={};return K.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[N,re]=U.split("=");Z[decodeURIComponent(N)]=decodeURIComponent(re)}}),Z}function bn(K){const Z=K.indexOf("?");if(!Z)return"";const B=K.indexOf("#",Z);return K.substring(Z,B>0?B:void 0)}class Xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,B){B||(B=0);const U=this.W_;if("string"==typeof Z)for(let Tt=0;Tt<16;Tt++)U[Tt]=Z.charCodeAt(B)<<24|Z.charCodeAt(B+1)<<16|Z.charCodeAt(B+2)<<8|Z.charCodeAt(B+3),B+=4;else for(let Tt=0;Tt<16;Tt++)U[Tt]=Z[B]<<24|Z[B+1]<<16|Z[B+2]<<8|Z[B+3],B+=4;for(let Tt=16;Tt<80;Tt++){const yn=U[Tt-3]^U[Tt-8]^U[Tt-14]^U[Tt-16];U[Tt]=4294967295&(yn<<1|yn>>>31)}let Re,mt,N=this.chain_[0],re=this.chain_[1],ke=this.chain_[2],st=this.chain_[3],kt=this.chain_[4];for(let Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(Re=st^re&(ke^st),mt=1518500249):(Re=re^ke^st,mt=1859775393):Tt<60?(Re=re&ke|st&(re|ke),mt=2400959708):(Re=re^ke^st,mt=3395469782);const yn=(N<<5|N>>>27)+Re+kt+mt+U[Tt]&4294967295;kt=st,st=ke,ke=4294967295&(re<<30|re>>>2),re=N,N=yn}this.chain_[0]=this.chain_[0]+N&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+st&4294967295,this.chain_[4]=this.chain_[4]+kt&4294967295}update(Z,B){if(null==Z)return;void 0===B&&(B=Z.length);const U=B-this.blockSize;let N=0;const re=this.buf_;let ke=this.inbuf_;for(;N<B;){if(0===ke)for(;N<=U;)this.compress_(Z,N),N+=this.blockSize;if("string"==typeof Z){for(;N<B;)if(re[ke]=Z.charCodeAt(N),++ke,++N,ke===this.blockSize){this.compress_(re),ke=0;break}}else for(;N<B;)if(re[ke]=Z[N],++ke,++N,ke===this.blockSize){this.compress_(re),ke=0;break}}this.inbuf_=ke,this.total_+=B}digest(){const Z=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let N=this.blockSize-1;N>=56;N--)this.buf_[N]=255&B,B/=256;this.compress_(this.buf_);let U=0;for(let N=0;N<5;N++)for(let re=24;re>=0;re-=8)Z[U]=this.chain_[N]>>re&255,++U;return Z}}function on(K,Z){const B=new At(K,Z);return B.subscribe.bind(B)}class At{constructor(Z,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{Z(this)}).catch(U=>{this.error(U)})}next(Z){this.forEachObserver(B=>{B.next(Z)})}error(Z){this.forEachObserver(B=>{B.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,B,U){let N;if(void 0===Z&&void 0===B&&void 0===U)throw new Error("Missing Observer.");N=function gn(K,Z){if("object"!=typeof K||null===K)return!1;for(const B of Z)if(B in K&&"function"==typeof K[B])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:B,complete:U},void 0===N.next&&(N.next=Br),void 0===N.error&&(N.error=Br),void 0===N.complete&&(N.complete=Br);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),re}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,Z)}sendOne(Z,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{B(this.observers[Z])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}const cr=function(K,Z,B,U){let N;if(U<Z?N="at least "+Z:U>B&&(N=0===B?"none":"no more than "+B),N)throw new Error(K+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+N+".")};function gr(K,Z){return`${K} failed: ${Z} argument `}function mi(K,Z,B,U){if((!U||B)&&"function"!=typeof B)throw new Error(gr(K,Z)+"must be a valid function.")}function Xt(K,Z,B,U){if((!U||B)&&("object"!=typeof B||null===B))throw new Error(gr(K,Z)+"must be a valid context object.")}const Ki=function(K){const Z=[];let B=0;for(let U=0;U<K.length;U++){let N=K.charCodeAt(U);if(N>=55296&&N<=56319){const re=N-55296;U++,W(U<K.length,"Surrogate pair missing trail surrogate."),N=65536+(re<<10)+(K.charCodeAt(U)-56320)}N<128?Z[B++]=N:N<2048?(Z[B++]=N>>6|192,Z[B++]=63&N|128):N<65536?(Z[B++]=N>>12|224,Z[B++]=N>>6&63|128,Z[B++]=63&N|128):(Z[B++]=N>>18|240,Z[B++]=N>>12&63|128,Z[B++]=N>>6&63|128,Z[B++]=63&N|128)}return Z},mn=function(K){let Z=0;for(let B=0;B<K.length;B++){const U=K.charCodeAt(B);U<128?Z++:U<2048?Z+=2:U>=55296&&U<=56319?(Z+=4,B++):Z+=3}return Z};function We(K,Z=1e3,B=2){const U=Z*Math.pow(B,K),N=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+N)}function En(K){return K&&K._delegate?K._delegate:K}},2334:(Rt,Fe,$)=>{var u=$(4650);let W=null;function F(){return W}const ye=new u.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),n})();const Q=new u.OlP("Location Initialized");let Y=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ie()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ie()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ye(){return new Y((0,u.LFG)(ye))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function dt(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(wt)},providedIn:"root"}),n})();const _e=new u.OlP("appBaseHref");let wt=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+dt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+dt(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+dt(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ve),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bt=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+dt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+dt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ve),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=xe(qe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+dt(r))}normalize(t){return n.stripTrailingSlash(function Ne(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=dt,n.joinWithSlash=Be,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(u.LFG(Pe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new $e((0,u.LFG)(Pe))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}class mr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Us=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mr(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,o),xa(l,i)}});for(let i=0,s=r.length;i<s;i++){const l=r.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xa(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xa(n,e){n.context.$implicit=e.item}let Cr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ai("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ai("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bf{constructor(){this.$implicit=null,this.ngIf=null}}function ai(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Yo(n){return"server"===n}let mc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new $d((0,u.LFG)(ye),window)}),n})();class $d{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ji(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ka(this.window.history)||ka(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ka(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xd extends class lm extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function he(n){W||(W=n)}(new Xd)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function eh(){return wu=wu||document.querySelector("base"),wu?wu.getAttribute("href"):null}();return null==t?null:function Hf(n){Tu=Tu||document.createElement("a"),Tu.setAttribute("href",n);const e=Tu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Tu,wu=null;const Cc=new u.OlP("TRANSITION_ID"),th=[{provide:u.ip1,useFactory:function um(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Cc,ye,u.zs3],multi:!0}];let dm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fo=new u.OlP("EventManagerPlugins");let ea=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ns{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let nh=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ta=(()=>{class n extends nh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bu))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function bu(n){F().remove(n)}const vl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$s=/%COMP%/g;function El(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?El(n,i,t):(i=i.replace($s,n),t.push(i))}return t}function rh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wc=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new wl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new av(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new fm(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=El(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ea),u.LFG(ta),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ra(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ra(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=vl[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vl[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rh(r)):this.eventManager.addEventListener(e,t,rh(r))}}function ra(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class av extends wl{constructor(e,t,r,i){super(e),this.component=r;const s=El(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Cl(n){return"_ngcontent-%COMP%".replace($s,n)}(i+"-"+r.id),this.hostAttr=function na(n){return"_nghost-%COMP%".replace($s,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fm extends wl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=El(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ia=(()=>{class n extends ns{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bc=["alt","control","meta","shift"],jr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bl=(()=>{class n extends ns{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),o="code."),bc.forEach(p=>{const y=r.indexOf(p);y>-1&&(r.splice(y,1),o+=p+".")}),o+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=o,h}static matchEventFullKeyCode(t,r){let i=jr[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bc.forEach(o=>{o!==i&&(0,Tl[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ac(){Xd.makeCurrent()},multi:!0},{provide:ye,useFactory:function Su(){return(0,u.RDi)(document),document},deps:[]}]),Wf=new u.OlP(""),Fn=[{provide:u.rWj,useClass:class yl{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const l=function(h){o=o||h,s--,0==s&&r(o)};i.forEach(function(h){h.whenStable(l)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Zf=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function $r(){return new u.qLn},deps:[]},{provide:fo,useClass:ia,multi:!0,deps:[ye,u.R0b,u.Lbi]},{provide:fo,useClass:bl,multi:!0,deps:[ye]},{provide:wc,useClass:wc,deps:[ea,ta,u.AFp]},{provide:u.FYo,useExisting:wc},{provide:nh,useExisting:ta},{provide:ta,useClass:ta,deps:[ye]},{provide:ea,useClass:ea,deps:[fo,u.R0b]},{provide:class Gd{},useClass:dm,deps:[]},[]];let Al=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Cc,useExisting:u.AFp},th]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wf,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Zf,...Fn],imports:[im,u.hGG]}),n})(),pm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function lv(){return new pm((0,u.LFG)(ye))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var On=$(8996),ji=$(7669);function xt(...n){const e=(0,ji.yG)(n);return(0,On.D)(n,e)}var Tr=$(7579);class Di extends Tr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Pl=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vs=$(9751);const{isArray:Sc}=Array,{getPrototypeOf:Nu,prototype:Dc,keys:Pi}=Object;function Pc(n){if(1===n.length){const e=n[0];if(Sc(e))return{args:e,keys:null};if(function Hr(n){return n&&"object"==typeof n&&Nu(n)===Dc}(e)){const t=Pi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ko=$(4671),jt=$(4004);const{isArray:Lu}=Array;function tp(n){return(0,jt.U)(e=>function ja(n,e){return Lu(e)?n(...e):n(e)}(n,e))}function sa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var zr=$(5403),np=$(9672);function po(...n){const e=(0,ji.yG)(n),t=(0,ji.jO)(n),{args:r,keys:i}=Pc(n);if(0===r.length)return(0,On.D)([],e);const s=new vs.y(function dh(n,e,t=ko.y){return r=>{$a(e,()=>{const{length:i}=n,s=new Array(i);let o=i,l=i;for(let h=0;h<i;h++)$a(e,()=>{const p=(0,On.D)(n[h],e);let y=!1;p.subscribe((0,zr.x)(r,C=>{s[h]=C,y||(y=!0,l--),l||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sa(i,o):ko.y));return t?s.pipe(tp(t)):s}function $a(n,e,t){n?(0,np.f)(t,n,e):e()}var Fu=$(8189);function oa(...n){return function rp(){return(0,Fu.J)(1)}()((0,On.D)(n,(0,ji.yG)(n)))}var aa=$(8421);function Vu(n){return new vs.y(e=>{(0,aa.Xf)(n()).subscribe(e)})}var ip=$(9635),xl=$(576);function go(n,e){const t=(0,xl.m)(n)?n:()=>n,r=i=>i.error(t());return new vs.y(e?i=>e.schedule(r,0,i):r)}var Hs=$(515),Uu=$(727),ui=$(4482);function Bu(){return(0,ui.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hh extends vs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return Bu()(this)}}function Mr(n,e){return(0,ui.e)((t,r)=>{let i=null,s=0,o=!1;const l=()=>o&&!i&&r.complete();t.subscribe((0,zr.x)(r,h=>{i?.unsubscribe();let p=0;const y=s++;(0,aa.Xf)(n(h,y)).subscribe(i=(0,zr.x)(r,C=>r.next(e?e(h,C,y,p++):C),()=>{i=null,l()}))},()=>{o=!0,l()}))})}function ca(n){return n<=0?()=>Hs.E:(0,ui.e)((e,t)=>{let r=0;e.subscribe((0,zr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xc(...n){const e=(0,ji.yG)(n);return(0,ui.e)((t,r)=>{(e?oa(n,t,e):oa(n,t)).subscribe(r)})}function xi(n,e){return(0,ui.e)((t,r)=>{let i=0;t.subscribe((0,zr.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Rr=$(5577);function Ga(n){return(0,ui.e)((e,t)=>{let r=!1;e.subscribe((0,zr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ju(n=Ml){return(0,ui.e)((e,t)=>{let r=!1;e.subscribe((0,zr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ml(){return new Pl}function zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xi((i,s)=>n(i,s,r)):ko.y,ca(1),t?Ga(e):ju(()=>new Pl))}function qs(n,e){return(0,xl.m)(e)?(0,Rr.z)(n,e,1):(0,Rr.z)(n,1)}var di=$(8505);function Ws(n){return(0,ui.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,zr.x)(t,void 0,void 0,o=>{s=(0,aa.Xf)(n(o,Ws(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Rl(n,e,t,r,i){return(s,o)=>{let l=t,h=e,p=0;s.subscribe((0,zr.x)(o,y=>{const C=p++;h=l?n(h,y,C):(l=!0,y),r&&o.next(h)},i&&(()=>{l&&o.next(h),o.complete()})))}}function la(n,e){return(0,ui.e)(Rl(n,e,arguments.length>=2,!0))}function ym(n){return n<=0?()=>Hs.E:(0,ui.e)((e,t)=>{let r=[];e.subscribe((0,zr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function hv(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xi((i,s)=>n(i,s,r)):ko.y,ym(1),t?Ga(e):ju(()=>new Pl))}function Ha(n){return(0,ui.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ln="primary",$u=Symbol("RouteTitle");class fh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Is(n){return new fh(n)}function sp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=n[s];if(o.startsWith(":"))i[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!op(n[i],e[i]))return!1;return!0}function op(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Gu(n){return Array.prototype.concat.apply([],n)}function Ks(n){return n.length>0?n[n.length-1]:null}function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function T(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,On.D)(Promise.resolve(n)):xt(n)}const S=!1,G={exact:function rt(n,e,t){if(!Cs(n.segments,e.segments)||!qt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rt(n.children[r],e.children[r],t))return!1;return!0},subset:at},ee={exact:function Te(n,e){return Zs(n,e)},subset:function et(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>op(n[t],e[t]))},ignored:()=>!0};function se(n,e,t){return G[t.paths](n.root,e.root,t.matrixParams)&&ee[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function at(n,e,t){return Zt(n,e,e.segments,t)}function Zt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Cs(i,t)||e.hasChildren()||!qt(i,t,r))}if(n.segments.length===t.length){if(!Cs(n.segments,t)||!qt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!at(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Cs(n.segments,i)&&qt(n.segments,i,r)&&n.children[ln])&&Zt(n.children[ln],e,s,r)}}function qt(n,e,t){return e.every((r,i)=>ee[t](n[i].parameters,r.parameters))}class _r{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return GC.serialize(this)}}class Ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qu(this)}}class $i{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return gv(this)}}function Cs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Es=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new zu},providedIn:"root"}),n})();class zu{parse(e){const t=new R(e);return new _r(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ol(e.root,!0)}`,r=function mv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${gh(t)}=${gh(i)}`).join("&"):`${gh(t)}=${gh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ap(n){return encodeURI(n)}(e.fragment)}`:""}`}}const GC=new zu;function qu(n){return n.segments.map(e=>gv(e)).join("/")}function Ol(n,e){if(!n.hasChildren())return qu(n);if(e){const t=n.children[ln]?Ol(n.children[ln],!1):"",r=[];return qr(n.children,(i,s)=>{s!==ln&&r.push(`${s}:${Ol(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qs(n,e){let t=[];return qr(n.children,(r,i)=>{i===ln&&(t=t.concat(e(r,i)))}),qr(n.children,(r,i)=>{i!==ln&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ln?[Ol(n.children[ln],!1)]:[`${i}:${Ol(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${qu(n)}/${t[0]}`:`${qu(n)}/(${t.join("//")})`}}function ph(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gh(n){return ph(n).replace(/%3B/gi,";")}function mh(n){return ph(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cp(n){return decodeURIComponent(n)}function vm(n){return cp(n.replace(/\+/g,"%20"))}function gv(n){return`${mh(n.path)}${function _h(n){return Object.keys(n).map(e=>`;${mh(e)}=${mh(n[e])}`).join("")}(n.parameters)}`}const HC=/^[^\/()?;=#]+/;function Wu(n){const e=n.match(HC);return e?e[0]:""}const w=/^[^=?&#]+/,v=/^[^&#]+/;class R{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ln]=new Ct(e,t)),r}parseSegment(){const e=Wu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,S);return this.capture(e),new $i(cp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Wu(this.remaining);i&&(r=i,this.capture(r))}e[cp(t)]=cp(r)}parseQueryParam(e){const t=function m(n){const e=n.match(w);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function b(n){const e=n.match(v);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=vm(t),s=vm(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,S);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ln);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ln]:new Ct([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,S)}}function V(n){return n.segments.length>0?new Ct([],{[ln]:n}):n}function ne(n){const e={};for(const r of Object.keys(n.children)){const s=ne(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function me(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new Ct(n.segments.concat(e.segments),e.children)}return n}(new Ct(n.segments,e))}function Ke(n){return n instanceof _r}function Mc(n,e,t,r,i){if(0===t.length)return qa(e.root,e.root,e.root,r,i);const s=function lp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Im(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return qr(s.outlets,(h,p)=>{l[p]="string"==typeof h?h.split("/"):h}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((l,h)=>{0==h&&"."===l||(0==h&&""===l?t=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,s]},[]);return new Im(t,e,r)}(t);return s.toRoot()?qa(e.root,e.root,new Ct([],{}),r,i):function o(h){const p=function Wa(n,e,t,r){if(n.isAbsolute)return new kc(e.root,!0,0);if(-1===r)return new kc(t,t===e.root,0);return function up(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new kc(r,!1,i-s)}(t,r+(za(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,h),y=p.processChildren?dp(p.segmentGroup,p.index,s.commands):vh(p.segmentGroup,p.index,s.commands);return qa(e.root,p.segmentGroup,y,r,i)}(n.snapshot?._lastPathIndex)}function za(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rc(n){return"object"==typeof n&&null!=n&&n.outlets}function qa(n,e,t,r,i){let o,s={};r&&qr(r,(h,p)=>{s[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),o=n===e?t:yh(n,e,t);const l=V(ne(o));return new _r(l,s,i)}function yh(n,e,t){const r={};return qr(n.children,(i,s)=>{r[s]=i===e?t:yh(i,e,t)}),new Ct(n.segments,r)}class Im{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&za(r[0]))throw new u.vHH(4003,!1);const i=r.find(Rc);if(i&&i!==Ks(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function vh(n,e,t){if(n||(n=new Ct([],{})),0===n.segments.length&&n.hasChildren())return dp(n,e,t);const r=function yv(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],l=t[r];if(Rc(l))break;const h=`${l}`,p=r<t.length-1?t[r+1]:null;if(i>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!WC(h,p,o))return s;r+=2}else{if(!WC(h,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ct(n.segments.slice(0,r.pathIndex),{});return s.children[ln]=new Ct(n.segments.slice(r.pathIndex),n.children),dp(s,0,i)}return r.match&&0===i.length?new Ct(n.segments,{}):r.match&&!n.hasChildren()?zC(n,e,t):r.match?dp(n,0,i):zC(n,e,t)}function dp(n,e,t){if(0===t.length)return new Ct(n.segments,{});{const r=function _v(n){return Rc(n[0])?n[0].outlets:{[ln]:n}}(t),i={};return qr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=vh(n.children[o],e,s))}),qr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ct(n.segments,i)}}function zC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Rc(s)){const h=JS(s.outlets);return new Ct(r,h)}if(0===i&&za(t[0])){r.push(new $i(n.segments[e].path,qC(t[0]))),i++;continue}const o=Rc(s)?s.outlets[ln]:`${s}`,l=i<t.length-1?t[i+1]:null;o&&l&&za(l)?(r.push(new $i(o,qC(l))),i+=2):(r.push(new $i(o,{})),i++)}return new Ct(r,{})}function JS(n){const e={};return qr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zC(new Ct([],{}),0,t))}),e}function qC(n){const e={};return qr(n,(t,r)=>e[r]=`${t}`),e}function WC(n,e,t){return n==t.path&&Zs(e,t.parameters)}class Za{constructor(e,t){this.id=e,this.url=t}}class vv extends Za{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends Za{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ih extends Za{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZC extends Za{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KC extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC extends Za{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Em extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dO extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hO{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fO{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nD(e,this._root).map(t=>t.value)}}function XC(n,e){if(n===e.value)return e;for(const t of e.children){const r=XC(n,t);if(r)return r}return null}function nD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=nD(n,t);if(r.length)return r.unshift(e),r}return[]}class Nl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rD extends tD{constructor(e,t){super(e),this.snapshot=t,rE(this,e)}toString(){return this.snapshot.toString()}}function eE(n,e){const t=function Ev(n,e){const o=new wm([],{},{},"",{},ln,e,null,n.root,-1,{});return new nE("",new Nl(o,[]))}(n,e),r=new Di([new $i("",{})]),i=new Di({}),s=new Di({}),o=new Di({}),l=new Di(""),h=new No(r,i,o,l,s,ln,e,t.root);return h.snapshot=t.root,new rD(new Nl(h,[]),t)}class No{constructor(e,t,r,i,s,o,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe((0,jt.U)(p=>p[$u]))??xt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(e=>Is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(e=>Is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function iD(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wm{constructor(e,t,r,i,s,o,l,h,p,y,C,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.[$u],this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=y,this._correctedLastPathIndex=D??y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nE extends tD{constructor(e,t){super(t),this.url=e,rE(this,t)}toString(){return sD(this._root)}}function rE(n,e){e.value._routerState=n,e.children.forEach(t=>rE(n,t))}function sD(n){const e=n.children.length>0?` { ${n.children.map(sD).join(", ")} } `:"";return`${n.value}${e}`}function iE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zs(e.params,t.params)||n.params.next(t.params),function Oo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sE(n,e){const t=Zs(n.params,e.params)&&function Hu(n,e){return Cs(n,e)&&n.every((t,r)=>Zs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sE(n.parent,e.parent))}function ua(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ua(n,r,i);return ua(n,r)})}(n,e,t);return new Nl(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>ua(n,l)),o}}const r=function gO(n){return new No(new Di(n.url),new Di(n.params),new Di(n.queryParams),new Di(n.fragment),new Di(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ua(n,s));return new Nl(r,i)}}const oD="ngNavigationCancelingError";function mO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ke(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_O(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function _O(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[oD]=!0,r.cancellationCode=e,t&&(r.url=t),r}function yO(n){return vO(n)&&Ke(n.url)}function vO(n){return n&&n[oD]}class aD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bm,this.attachRef=null}}let bm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new aD,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wv=!1;let oE=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||ln,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,wv);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,wv);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,wv);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,wv);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new IO(t,l,i.injector);if(r&&function aE(n){return!!n.resolveComponentFactory}(r)){const p=r.resolveComponentFactory(o);this.activated=i.createComponent(p,i.length,h)}else this.activated=i.createComponent(o,{index:i.length,injector:h,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bm),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class IO{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===No?this.route:e===bm?this.childContexts:this.parent.get(e,t)}}let Ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[oE],encapsulation:2}),n})();function hp(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function lD(n){const e=n.children&&n.children.map(lD),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=Ka),t}function Qa(n){return n.outlet||ln}function uE(n,e){const t=n.filter(r=>Qa(r)===e);return t.push(...n.filter(r=>Qa(r)!==e)),t}function Am(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class bO{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),qr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Iv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eD(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(iE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),iE(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=Am(i.snapshot),h=l?.get(u._Vd)??null;o.attachRef=null,o.route=i,o.resolver=h,o.injector=l,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sm{constructor(e,t){this.component=e,this.route=t}}function Tv(n,e,t){const r=n._root;return Dm(r,e?e._root:null,t,[r.value])}function Ku(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Dm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zu(e);return n.children.forEach(o=>{(function yi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function SO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cs(n.url,e.url)||!Zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sE(n,e)||!Zs(n.queryParams,e.queryParams);default:return!sE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new uD(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dm(n,e,s.component?l?l.children:null:t,r,i),h&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Sm(l.outlet.component,o))}else o&&Pm(e,l,i),i.canActivateChecks.push(new uD(r)),Dm(n,null,s.component?l?l.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),qr(s,(o,l)=>Pm(o,t.getContext(l),i)),i}function Pm(n,e,t){const r=Zu(n),i=n.value;qr(r,(s,o)=>{Pm(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Sm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Eh(n){return"function"==typeof n}function wh(n){return n instanceof Pl||"EmptyError"===n?.name}const fp=Symbol("INITIAL_VALUE");function Th(){return Mr(n=>po(n.map(e=>e.pipe(ca(1),xc(fp)))).pipe((0,jt.U)(e=>{for(const t of e)if(!0!==t){if(t===fp)return fp;if(!1===t||t instanceof _r)return t}return!0}),xi(e=>e!==fp),ca(1)))}function fE(n){return(0,ip.z)((0,di.b)(e=>{if(Ke(e))throw mO(0,e)}),(0,jt.U)(e=>!0===e))}const Ll={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _D(n,e,t,r,i){const s=xm(n,e,t);return s.matched?function mD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?xt(i.map(o=>{const l=Ku(o,n);return T(function RO(n){return n&&Eh(n.canMatch)}(l)?l.canMatch(e,t):n.runInContext(()=>l(e,t)))})).pipe(Th(),fE()):xt(!0)}(r=hp(e,r),e,t).pipe((0,jt.U)(o=>!0===o?s:{...Ll})):xt(s)}function xm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ll}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sp)(t,n,e);if(!i)return{...Ll};const s={};qr(i.posParams,(l,h)=>{s[h]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function bh(n,e,t,r,i="corrected"){if(t.length>0&&function bv(n,e,t){return t.some(r=>Mm(n,e,r)&&Qa(r)!==ln)}(n,t,r)){const o=new Ct(e,function pE(n,e,t,r){const i={};i[ln]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Qa(s)!==ln){const o=new Ct([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Qa(s)]=o}return i}(n,e,r,new Ct(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Ah(n,e,t){return t.some(r=>Mm(n,e,r))}(n,t,r)){const o=new Ct(n.segments,function NO(n,e,t,r,i,s){const o={};for(const l of r)if(Mm(n,t,l)&&!i[Qa(l)]){const h=new Ct([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Qa(l)]=h}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ct(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Mm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Av(n,e,t,r){return!!(Qa(n)===r||r!==ln&&Mm(e,t,n))&&("**"===n.path||xm(e,n,t).matched)}function yD(n,e,t){return 0===e.length&&!n.children[t]}const Sv=!1;class Rm{constructor(e){this.segmentGroup=e||null}}class Sh{constructor(e){this.urlTree=e}}function km(n){return go(new Rm(n))}function vD(n){return go(new Sh(n))}class VO{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=bh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ct(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ln).pipe((0,jt.U)(s=>this.createUrlTree(ne(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ws(s=>{if(s instanceof Sh)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ln).pipe((0,jt.U)(i=>this.createUrlTree(ne(i),e.queryParams,e.fragment))).pipe(Ws(i=>{throw i instanceof Rm?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Sv)}createUrlTree(e,t,r){const i=V(e);return new _r(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,jt.U)(s=>new Ct([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,On.D)(i).pipe(qs(s=>{const o=r.children[s],l=uE(t,s);return this.expandSegmentGroup(e,l,o,s).pipe((0,jt.U)(h=>({segment:h,outlet:s})))}),la((s,o)=>(s[o.outlet]=o.segment,s),{}),hv())}expandSegment(e,t,r,i,s,o){return(0,On.D)(r).pipe(qs(l=>this.expandSegmentAgainstRoute(e,t,r,l,i,s,o).pipe(Ws(p=>{if(p instanceof Rm)return xt(null);throw p}))),zs(l=>!!l),Ws((l,h)=>{if(wh(l))return yD(t,i,s)?xt(new Ct([],{})):km(t);throw l}))}expandSegmentAgainstRoute(e,t,r,i,s,o,l){return Av(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):km(t):km(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vD(s):this.lineralizeSegments(r,s).pipe((0,Rr.z)(o=>{const l=new Ct(o,{});return this.expandSegment(e,l,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:l,consumedSegments:h,remainingSegments:p,positionalParamSegments:y}=xm(t,i,s);if(!l)return km(t);const C=this.applyRedirectCommands(h,i.redirectTo,y);return i.redirectTo.startsWith("/")?vD(C):this.lineralizeSegments(i,C).pipe((0,Rr.z)(D=>this.expandSegment(e,t,r,D.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=hp(r,e),r.loadChildren?(r._loadedRoutes?xt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,jt.U)(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Ct(i,{})))):xt(new Ct(i,{}))):_D(t,r,i,e).pipe(Mr(({matched:o,consumedSegments:l,remainingSegments:h})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Rr.z)(y=>{const C=y.injector??e,D=y.routes,{segmentGroup:x,slicedSegments:L}=bh(t,l,h,D),z=new Ct(x.segments,x.children);if(0===L.length&&z.hasChildren())return this.expandChildren(C,D,z).pipe((0,jt.U)(ge=>new Ct(l,ge)));if(0===D.length&&0===L.length)return xt(new Ct(l,{}));const q=Qa(r)===s;return this.expandSegment(C,z,D,L,q?ln:s,!0).pipe((0,jt.U)(Ee=>new Ct(l.concat(Ee.segments),Ee.children)))})):km(t)))}getChildConfig(e,t,r){return t.children?xt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xt({routes:t._loadedRoutes,injector:t._loadedInjector}):function hE(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?xt(!0):xt(i.map(o=>{const l=Ku(o,n);return T(function DO(n){return n&&Eh(n.canLoad)}(l)?l.canLoad(e,t):n.runInContext(()=>l(e,t)))})).pipe(Th(),fE())}(e,t,r).pipe((0,Rr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,di.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function FO(n){return go(_O(Sv,3))}())):xt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return xt(r);if(i.numberOfChildren>1||!i.children[ln])return go(new u.vHH(4e3,Sv));i=i.children[ln]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new _r(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[s]=t[l]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return qr(t.children,(l,h)=>{o[h]=this.createSegmentGroup(e,l,r,i)}),new Ct(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Sv);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class CD{}class Om{constructor(e,t,r,i,s,o,l,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=l,this.urlSerializer=h}recognize(){const e=bh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ln).pipe((0,jt.U)(t=>{if(null===t)return null;const r=new wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Nl(r,t),s=new nE(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=tE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,On.D)(Object.keys(r.children)).pipe(qs(i=>{const s=r.children[i],o=uE(t,i);return this.processSegmentGroup(e,o,s,i)}),la((i,s)=>i&&s?(i.push(...s),i):null),function kl(n,e=!1){return(0,ui.e)((t,r)=>{let i=0;t.subscribe((0,zr.x)(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Ga(null),hv(),(0,jt.U)(i=>{if(null===i)return null;const s=ED(i);return function BO(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,On.D)(t).pipe(qs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),zs(o=>!!o),Ws(o=>{if(wh(o))return yD(r,i,s)?xt([]):xt(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Av(t,r,i,s))return xt(null);let o;if("**"===t.path){const l=i.length>0?Ks(i).parameters:{},h=wD(r)+i.length;o=xt({snapshot:new wm(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bD(t),Qa(t),t.component??t._loadedComponent??null,t,mE(r),h,_E(t),h),consumedSegments:[],remainingSegments:[]})}else o=_D(r,t,i,e).pipe((0,jt.U)(({matched:l,consumedSegments:h,remainingSegments:p,parameters:y})=>{if(!l)return null;const C=wD(r)+h.length;return{snapshot:new wm(h,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bD(t),Qa(t),t.component??t._loadedComponent??null,t,mE(r),C,_E(t),C),consumedSegments:h,remainingSegments:p}}));return o.pipe(Mr(l=>{if(null===l)return xt(null);const{snapshot:h,consumedSegments:p,remainingSegments:y}=l;e=t._injector??e;const C=t._loadedInjector??e,D=function pp(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:L}=bh(r,p,y,D.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===L.length&&x.hasChildren())return this.processChildren(C,D,x).pipe((0,jt.U)(q=>null===q?null:[new Nl(h,q)]));if(0===D.length&&0===L.length)return xt([new Nl(h,[])]);const z=Qa(t)===s;return this.processSegment(C,D,x,L,z?ln:s).pipe((0,jt.U)(q=>null===q?null:[new Nl(h,q)]))}))}}function Nm(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ED(n){const e=[],t=new Set;for(const r of n){if(!Nm(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ED(r.children);e.push(new Nl(r.value,i))}return e.filter(r=>!t.has(r))}function mE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wD(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bD(n){return n.data||{}}function _E(n){return n.resolve||{}}function SD(n){return"string"==typeof n.title||null===n.title}function CE(n){return Mr(e=>{const t=n(e);return t?(0,On.D)(t).pipe((0,jt.U)(()=>e)):xt(e)})}let DD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ln);return r}getResolvedTitleForRoute(t){return t.data[$u]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(PD)},providedIn:"root"}),n})(),PD=(()=>{class n extends DD{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $O{}class gp extends class GO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Pv=new u.OlP("",{providedIn:"root",factory:()=>({})}),MD=new u.OlP("ROUTES");let RD=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=T(t.loadComponent()).pipe((0,di.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ha(()=>{this.componentLoaders.delete(t)})),i=new hh(r,()=>new Tr.x).pipe(Bu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,jt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,p,y=!1;Array.isArray(l)?p=l:(h=l.create(t).injector,p=Gu(h.get(MD,[],u.XFs.Self|u.XFs.Optional)));return{routes:p.map(lD),injector:h}}),Ha(()=>{this.childrenLoaders.delete(r)})),o=new hh(s,()=>new Tr.x).pipe(Bu());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return T(t()).pipe((0,Rr.z)(r=>r instanceof u.YKP||Array.isArray(r)?xt(r):(0,On.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kD{}class N9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function L9(n){throw n}function OD(n,e,t){return e.parse("/")}const HO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ND={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function LD(){const n=(0,u.f3M)(Es),e=(0,u.f3M)(bm),t=(0,u.f3M)($e),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),s=(0,u.f3M)(MD,{optional:!0})??[],o=(0,u.f3M)(Pv,{optional:!0})??{},l=(0,u.f3M)(PD),h=(0,u.f3M)(DD,{optional:!0}),p=(0,u.f3M)(kD,{optional:!0}),y=(0,u.f3M)($O,{optional:!0}),C=new vn(null,n,e,t,r,i,Gu(s));return p&&(C.urlHandlingStrategy=p),y&&(C.routeReuseStrategy=y),C.titleStrategy=h??l,function zO(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,C),C}let vn=(()=>{class n{constructor(t,r,i,s,o,l,h){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tr.x,this.errorHandler=L9,this.malformedUriErrorHandler=OD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>xt(void 0),this.urlHandlingStrategy=new N9,this.routeReuseStrategy=new gp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(RD),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new hO(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new XS(D)),this.ngModule=o.get(u.h0i),this.console=o.get(u.c2e);const C=o.get(u.R0b);this.isNgZoneEnabled=C instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function M(){return new _r(new Ct([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eE(this.currentUrlTree,this.rootComponentType),this.transitions=new Di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xi(i=>0!==i.id),(0,jt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Mr(i=>{let s=!1,o=!1;return xt(i).pipe((0,di.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(l=>{const h=this.browserUrlTree.toString(),p=!this.navigated||l.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return EE(l.source)&&(this.browserUrlTree=l.extractedUrl),xt(l).pipe(Mr(C=>{const D=this.transitions.getValue();return r.next(new vv(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?Hs.E:Promise.resolve(C)}),function ID(n,e,t,r){return Mr(i=>function gE(n,e,t,r,i){return new VO(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,jt.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,di.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function AD(n,e,t,r,i,s){return(0,Rr.z)(o=>function UO(n,e,t,r,i,s,o="emptyOnly",l="legacy"){return new Om(n,e,t,r,i,o,l,s).recognize().pipe(Mr(h=>null===h?function R9(n){return new vs.y(e=>e.error(n))}(new CD):xt(h)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe((0,jt.U)(l=>({...o,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,di.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(x,C)}this.browserUrlTree=C.urlAfterRedirects}const D=new KC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(D)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:x,source:L,restoredState:z,extras:q}=l,de=new vv(D,this.serializeUrl(x),L,z);r.next(de);const Ee=eE(x,this.rootComponentType).snapshot;return xt(i={...l,targetSnapshot:Ee,urlAfterRedirects:x,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),Hs.E}),(0,di.b)(l=>{const h=new QC(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),(0,jt.U)(l=>i={...l,guards:Tv(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function hD(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?xt({...t,guardsResult:!0}):function fD(n,e,t,r){return(0,On.D)(n).pipe((0,Rr.z)(i=>function OO(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?xt(s.map(l=>{const h=Am(e)??i,p=Ku(l,h);return T(function MO(n){return n&&Eh(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,r):h.runInContext(()=>p(n,e,t,r))).pipe(zs())})).pipe(Th()):xt(!0)}(i.component,i.route,t,e,r)),zs(i=>!0!==i,!0))}(o,r,i,n).pipe((0,Rr.z)(l=>l&&function dD(n){return"boolean"==typeof n}(l)?function kO(n,e,t,r){return(0,On.D)(e).pipe(qs(i=>oa(function gD(n,e){return null!==n&&e&&e(new fO(n)),xt(!0)}(i.route.parent,r),function pD(n,e){return null!==n&&e&&e(new JC(n)),xt(!0)}(i.route,r),function M9(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function AO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Vu(()=>xt(o.guards.map(h=>{const p=Am(o.node)??t,y=Ku(h,p);return T(function xO(n){return n&&Eh(n.canActivateChild)}(y)?y.canActivateChild(r,n):p.runInContext(()=>y(r,n))).pipe(zs())})).pipe(Th())));return xt(s).pipe(Th())}(n,i.path,t),function dE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return xt(!0);const i=r.map(s=>Vu(()=>{const o=Am(e)??t,l=Ku(s,o);return T(function PO(n){return n&&Eh(n.canActivate)}(l)?l.canActivate(e,n):o.runInContext(()=>l(e,n))).pipe(zs())}));return xt(i).pipe(Th())}(n,i.route,t))),zs(i=>!0!==i,!0))}(r,s,n,e):xt(l)),(0,jt.U)(l=>({...t,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),(0,di.b)(l=>{if(i.guardsResult=l.guardsResult,Ke(l.guardsResult))throw mO(0,l.guardsResult);const h=new YC(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(h)}),xi(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),CE(l=>{if(l.guards.canActivateChecks.length)return xt(l).pipe((0,di.b)(h=>{const p=new Em(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Mr(h=>{let p=!1;return xt(h).pipe(function yE(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return xt(t);let s=0;return(0,On.D)(i).pipe(qs(o=>function vE(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!SD(i)&&(s[$u]=i.title),function jO(n,e,t,r){const i=function IE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return xt({});const s={};return(0,On.D)(i).pipe((0,Rr.z)(o=>function Lm(n,e,t,r){const i=Am(e)??r,s=Ku(n,i);return T(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(zs(),(0,di.b)(l=>{s[o]=l}))),ym(1),function fv(n){return(0,jt.U)(()=>n)}(s),Ws(o=>wh(o)?Hs.E:go(o)))}(s,n,e,r).pipe((0,jt.U)(o=>(n._resolvedData=o,n.data=tE(n,t).resolve,i&&SD(i)&&(n.data[$u]=i.title),null)))}(o.route,r,n,e)),(0,di.b)(()=>s++),ym(1),(0,Rr.z)(o=>s===i.length?xt(t):Hs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,di.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,di.b)(h=>{const p=new dO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),CE(l=>{const h=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,di.b)(C=>{p.component=C}),(0,jt.U)(()=>{})));for(const C of p.children)y.push(...h(C));return y};return po(h(l.targetSnapshot.root)).pipe(Ga(),ca(1))}),CE(()=>this.afterPreactivation()),(0,jt.U)(l=>{const h=function pO(n,e,t){const r=ua(n,e._root,t?t._root:void 0);return new rD(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:h}}),(0,di.b)(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,jt.U)(r=>(new bO(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),(0,di.b)({next(){s=!0},complete(){s=!0}}),Ha(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ws(l=>{if(o=!0,vO(l)){yO(l)||(this.navigated=!0,this.restoreHistory(i,!0));const h=new Ih(i.id,this.serializeUrl(i.extractedUrl),l.message,l.cancellationCode);if(r.next(h),yO(l)){const p=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EE(i.source)};this.scheduleNavigation(p,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new ZC(i.id,this.serializeUrl(i.extractedUrl),l,i.targetSnapshot??void 0);r.next(h);try{i.resolve(this.errorHandler(l))}catch(p){i.reject(p)}}return Hs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(lD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:h}=r,p=i||this.routerState.root,y=h?this.currentUrlTree.fragment:o;let C=null;switch(l){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),Mc(p,this.currentUrlTree,t,C,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ke(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function qO(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HO}:!1===r?{...ND}:r,Ke(t))return se(this.currentUrlTree,t,i);const s=this.parseUrl(t);return se(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let l,h,p;o?(l=o.resolve,h=o.reject,p=o.promise):p=new Promise((D,x)=>{l=D,h=x});const y=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:y,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:l,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Ih(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return LD()},providedIn:"root"}),n})();function EE(n){return"imperative"!==n}class bE{}let KO=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xi(t=>t instanceof Oc),qs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return(0,On.D)(i).pipe((0,Fu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):xt(null);const s=i.pipe((0,Rr.z)(o=>null===o?xt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){const o=this.loader.loadComponent(r);return(0,On.D)([s,o]).pipe((0,Fu.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(bE),u.LFG(RD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sn=new u.OlP("");let AE=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Cv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mp(n,e){return{\u0275kind:n,\u0275providers:e}}function xv(n){return[{provide:MD,multi:!0,useValue:n}]}function SE(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(vn),i=n.get(VD);1===n.get(DE)&&r.initialNavigation(),n.get(Qu,null,u.XFs.Optional)?.setUpPreloading(),n.get(sn,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const VD=new u.OlP("",{factory:()=>new Tr.x}),DE=new u.OlP("",{providedIn:"root",factory:()=>1});const Qu=new u.OlP("");function YO(n){return mp(0,[{provide:Qu,useExisting:KO},{provide:bE,useExisting:n}])}const JO=new u.OlP("ROUTER_FORROOT_GUARD"),$9=[$e,{provide:Es,useClass:zu},{provide:vn,useFactory:LD},bm,{provide:No,useFactory:function FD(n){return n.routerState.root},deps:[vn]},RD];function G9(){return new u.PXZ("Router",vn)}let $D=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$9,[],xv(t),{provide:JO,useFactory:yp,deps:[[vn,new u.FiY,new u.tp0]]},{provide:Pv,useValue:r||{}},r?.useHash?{provide:Pe,useClass:bt}:{provide:Pe,useClass:wt},{provide:sn,useFactory:()=>{const n=(0,u.f3M)(vn),e=(0,u.f3M)(mc),t=(0,u.f3M)(Pv);return t.scrollOffset&&e.setOffset(t.scrollOffset),new AE(n,e,t)}},r?.preloadingStrategy?YO(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:G9},r?.initialNavigation?eN(r):[],[{provide:PE,useFactory:SE},{provide:u.tb,multi:!0,useExisting:PE}]]}}static forChild(t){return{ngModule:n,providers:[xv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JO,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ka]}),n})();function yp(n){return"guarded"}function eN(n){return["disabled"===n.initialNavigation?mp(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(vn);return()=>{e.setUpLocationChangeListener()}}},{provide:DE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mp(2,[{provide:DE,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Q,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(vn),l=e.get(VD);(function i(s){e.get(vn).events.pipe(xi(l=>l instanceof Oc||l instanceof Ih||l instanceof ZC),(0,jt.U)(l=>l instanceof Oc||l instanceof Ih&&(0===l.code||1===l.code)&&null),xi(l=>null!==l),ca(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||l.closed?xt(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const PE=new u.OlP("");let Rv=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}navigate(t){this.router.navigate([t])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:0,consts:[[1,"wave-header"],[1,"wave-header-content"],[1,"wave-headerbtn",3,"click"],["id","wave","viewBox","0 0 1440 420","version","1.1","xmlns","http://www.w3.org/2000/svg",2,"transform","rotate(0deg)","transition","0.3s"],["id","sw-gradient-0","x1","0","x2","0","y1","1","y2","0"],["stop-color","rgba(251, 133, 0, 1)","offset","0%"],["stop-color","rgba(255, 183, 3, 1)","offset","100%"],["fill","url(#sw-gradient-0)","d","M0,84L40,77C80,70,160,56,240,70C320,84,400,126,480,161C560,196,640,224,720,238C800,252,880,252,960,245C1040,238,1120,224,1200,203C1280,182,1360,154,1440,147C1520,140,1600,154,1680,189C1760,224,1840,280,1920,259C2000,238,2080,140,2160,119C2240,98,2320,154,2400,168C2480,182,2560,154,2640,126C2720,98,2800,70,2880,49C2960,28,3040,14,3120,21C3200,28,3280,56,3360,105C3440,154,3520,224,3600,259C3680,294,3760,294,3840,280C3920,266,4000,238,4080,238C4160,238,4240,266,4320,273C4400,280,4480,266,4560,245C4640,224,4720,196,4800,217C4880,238,4960,308,5040,280C5120,252,5200,126,5280,77C5360,28,5440,56,5520,98C5600,140,5680,196,5720,224L5760,252L5760,420L5720,420C5680,420,5600,420,5520,420C5440,420,5360,420,5280,420C5200,420,5120,420,5040,420C4960,420,4880,420,4800,420C4720,420,4640,420,4560,420C4480,420,4400,420,4320,420C4240,420,4160,420,4080,420C4000,420,3920,420,3840,420C3760,420,3680,420,3600,420C3520,420,3440,420,3360,420C3280,420,3200,420,3120,420C3040,420,2960,420,2880,420C2800,420,2720,420,2640,420C2560,420,2480,420,2400,420C2320,420,2240,420,2160,420C2080,420,2000,420,1920,420C1840,420,1760,420,1680,420C1600,420,1520,420,1440,420C1360,420,1280,420,1200,420C1120,420,1040,420,960,420C880,420,800,420,720,420C640,420,560,420,480,420C400,420,320,420,240,420C160,420,80,420,40,420L0,420Z",2,"transform","translate(0, 0px)","opacity","1"],["id","sw-gradient-1","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-1)","d","M0,378L40,350C80,322,160,266,240,224C320,182,400,154,480,119C560,84,640,42,720,63C800,84,880,168,960,224C1040,280,1120,308,1200,266C1280,224,1360,112,1440,70C1520,28,1600,56,1680,91C1760,126,1840,168,1920,217C2000,266,2080,322,2160,343C2240,364,2320,350,2400,301C2480,252,2560,168,2640,119C2720,70,2800,56,2880,84C2960,112,3040,182,3120,231C3200,280,3280,308,3360,294C3440,280,3520,224,3600,182C3680,140,3760,112,3840,140C3920,168,4000,252,4080,301C4160,350,4240,364,4320,336C4400,308,4480,238,4560,231C4640,224,4720,280,4800,252C4880,224,4960,112,5040,70C5120,28,5200,56,5280,84C5360,112,5440,140,5520,126C5600,112,5680,56,5720,28L5760,0L5760,420L5720,420C5680,420,5600,420,5520,420C5440,420,5360,420,5280,420C5200,420,5120,420,5040,420C4960,420,4880,420,4800,420C4720,420,4640,420,4560,420C4480,420,4400,420,4320,420C4240,420,4160,420,4080,420C4000,420,3920,420,3840,420C3760,420,3680,420,3600,420C3520,420,3440,420,3360,420C3280,420,3200,420,3120,420C3040,420,2960,420,2880,420C2800,420,2720,420,2640,420C2560,420,2480,420,2400,420C2320,420,2240,420,2160,420C2080,420,2000,420,1920,420C1840,420,1760,420,1680,420C1600,420,1520,420,1440,420C1360,420,1280,420,1200,420C1120,420,1040,420,960,420C880,420,800,420,720,420C640,420,560,420,480,420C400,420,320,420,240,420C160,420,80,420,40,420L0,420Z",2,"transform","translate(0, 50px)","opacity","0.9"],["id","sw-gradient-2","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-2)","d","M0,378L40,364C80,350,160,322,240,294C320,266,400,238,480,210C560,182,640,154,720,126C800,98,880,70,960,105C1040,140,1120,238,1200,238C1280,238,1360,140,1440,112C1520,84,1600,126,1680,147C1760,168,1840,168,1920,189C2000,210,2080,252,2160,238C2240,224,2320,154,2400,126C2480,98,2560,112,2640,112C2720,112,2800,98,2880,119C2960,140,3040,196,3120,245C3200,294,3280,336,3360,343C3440,350,3520,322,3600,287C3680,252,3760,210,3840,203C3920,196,4000,224,4080,259C4160,294,4240,336,4320,329C4400,322,4480,266,4560,259C4640,252,4720,294,4800,273C4880,252,4960,168,5040,119C5120,70,5200,56,5280,77C5360,98,5440,154,5520,161C5600,168,5680,126,5720,105L5760,84L5760,420L5720,420C5680,420,5600,420,5520,420C5440,420,5360,420,5280,420C5200,420,5120,420,5040,420C4960,420,4880,420,4800,420C4720,420,4640,420,4560,420C4480,420,4400,420,4320,420C4240,420,4160,420,4080,420C4000,420,3920,420,3840,420C3760,420,3680,420,3600,420C3520,420,3440,420,3360,420C3280,420,3200,420,3120,420C3040,420,2960,420,2880,420C2800,420,2720,420,2640,420C2560,420,2480,420,2400,420C2320,420,2240,420,2160,420C2080,420,2000,420,1920,420C1840,420,1760,420,1680,420C1600,420,1520,420,1440,420C1360,420,1280,420,1200,420C1120,420,1040,420,960,420C880,420,800,420,720,420C640,420,560,420,480,420C400,420,320,420,240,420C160,420,80,420,40,420L0,420Z",2,"transform","translate(0, 100px)","opacity","0.8"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Flashcardz"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"Search for study sets or create your own. Improve your learning with Flashcardz."),u.qZA(),u.TgZ(6,"button",2),u.NdJ("click",function(){return r.navigate("login")}),u._uU(7,"Get Started"),u.qZA()(),u.O4$(),u.TgZ(8,"svg",3)(9,"defs")(10,"linearGradient",4),u._UZ(11,"stop",5)(12,"stop",6),u.qZA()(),u._UZ(13,"path",7),u.TgZ(14,"defs")(15,"linearGradient",8),u._UZ(16,"stop",5)(17,"stop",6),u.qZA()(),u._UZ(18,"path",9),u.TgZ(19,"defs")(20,"linearGradient",10),u._UZ(21,"stop",5)(22,"stop",6),u.qZA()(),u._UZ(23,"path",11),u.qZA()())},styles:[".wave-header[_ngcontent-%COMP%]{min-height:90vh;width:100%;position:relative}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]{max-width:400px;min-height:200px;margin:0 auto;padding-top:50px;text-align:center}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--orange-color);font-size:3.8rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-weight:bolder}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--darkblue-color);font-size:1.4rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]   .wave-headerbtn[_ngcontent-%COMP%]{color:var(--white-color);font-size:1.4rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;border:none;background-color:#219dbcb3;width:200px;height:50px;border-radius:30px;transition:.3s ease;z-index:20;position:relative}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]   .wave-headerbtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}#wave[_ngcontent-%COMP%]{position:absolute;z-index:5;bottom:0;left:0}.homecontent-bluespace[_ngcontent-%COMP%]{width:100%;min-height:350px;background-color:var(--teal-color)}.homecontent2[_ngcontent-%COMP%]{width:100%;min-height:600px;background-color:var(--white-color)}@media screen and (max-width: 730px){.wave-header[_ngcontent-%COMP%]{min-height:70vh}}@media screen and (max-width: 450px){.wave-header[_ngcontent-%COMP%]{min-height:85vh}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]{padding:30px}.wave-header[_ngcontent-%COMP%]   .wave-header-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:25px;height:80px;width:270px;border-radius:50px}}"]}),n})();var j=$(5861),un=$(9681);(0,un.registerVersion)("firebase","10.5.2","app");var k=$(2090),br=$(1877),HD=$(7582),Ts=$(4859);const WD=function Dh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Um=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bm=new br.Yd("@firebase/auth");function vp(n,...e){Bm.logLevel<=br.in.ERROR&&Bm.error(`Auth (${un.SDK_VERSION}): ${n}`,...e)}function ti(n,...e){throw ZD(n,...e)}function da(n,...e){return ZD(n,...e)}function xE(n,e,t){const r=Object.assign(Object.assign({},WD()),{[e]:t});return new k.LL("auth","Firebase",r).create(e,{appName:n.name})}function ZD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Um.create(n,...e)}function it(n,e,...t){if(!n)throw ZD(e,...t)}function Vl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vp(e),new Error(e)}function Ya(n,e){n||Vl(e)}function Ju(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function kv(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class $m{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ya(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function ME(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function jm(){return"http:"===kv()||"https:"===kv()}()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function RE(n,e){Ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class KD{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},QD=new $m(3e4,6e4);function Wr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zr(n,e,t,r){return YD.apply(this,arguments)}function YD(){return(YD=(0,j.Z)(function*(n,e,t,r,i={}){return kE(n,i,(0,j.Z)(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const l=(0,k.xO)(Object.assign({key:n.config.apiKey},o)).slice(1),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode),KD.fetch()(aN(n,n.config.apiHost,t,l),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function kE(n,e,t){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,j.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},oN),e);try{const i=new K9(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Nv(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[h,p]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===h)throw Nv(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===h)throw Nv(n,"email-already-in-use",o);if("USER_DISABLED"===h)throw Nv(n,"user-disabled",o);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw xE(n,y,p);ti(n,y)}}catch(i){if(i instanceof k.ZR)throw i;ti(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ul(n,e,t,r){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,j.Z)(function*(n,e,t,r,i={}){const s=yield Zr(n,e,t,r,i);return"mfaPendingCredential"in s&&ti(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function aN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?RE(n.config,i):`${n.config.apiScheme}://${i}`}function Z9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),QD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nv(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=da(n,e,r);return i.customData._tokenResponse=t,i}function lN(n){return void 0!==n&&void 0!==n.enterprise}class uN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z9(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function dN(n,e){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,j.Z)(function*(n,e){return Zr(n,"GET","/v2/recaptchaConfig",Wr(n,e))})).apply(this,arguments)}function NE(){return(NE=(0,j.Z)(function*(n,e){return Zr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function eP(n,e){return zm.apply(this,arguments)}function zm(){return(zm=(0,j.Z)(function*(n,e){return Zr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function qm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LE(){return(LE=(0,j.Z)(function*(n,e=!1){const t=(0,k.m9)(n),r=yield t.getIdToken(e),i=Wm(r);it(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qm(FE(i.auth_time)),issuedAtTime:qm(FE(i.iat)),expirationTime:qm(FE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function FE(n){return 1e3*Number(n)}function Wm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,k.tV)(t);return i?JSON.parse(i):(vp("Failed to decode base64 JWT payload"),null)}catch(i){return vp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bl(n,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,j.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof k.ZR&&Cp(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Cp({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class VE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,j.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,j.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class xh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qm(this.lastLoginAt),this.creationTime=qm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mh(n){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,j.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Bl(n,eP(t,{idToken:r}));it(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?BE(s.providerUserInfo):[],l=UE(n.providerData,o),y=!!n.isAnonymous&&!(n.email&&s.passwordHash||l?.length),C={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new xh(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,C)})).apply(this,arguments)}function Lv(){return(Lv=(0,j.Z)(function*(n){const e=(0,k.m9)(n);yield Mh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UE(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BE(n){return n.map(e=>{var{providerId:t}=e,r=(0,HD._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Zm(){return(Zm=(0,j.Z)(function*(n,e){const t=yield kE(n,{},(0,j.Z)(function*(){const r=(0,k.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=aN(n,i,"/v1/token",`key=${s}`),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",KD.fetch()(o,{method:"POST",headers:l,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Km{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function hN(n){const e=Wm(n);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,j.Z)(function*(){return it(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,j.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function rP(n,e){return Zm.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Km;return r&&(it("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(it("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(it("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Km,this.toJSON())}_performRefresh(){return Vl("not implemented")}}function Rh(n,e){it("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class kh{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,HD._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xh(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,j.Z)(function*(){const r=yield Bl(t,t.stsTokenManager.getToken(t.auth,e));return it(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function tP(n){return LE.apply(this,arguments)}(this,e)}reload(){return function nP(n){return Lv.apply(this,arguments)}(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,j.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Mh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,j.Z)(function*(){const t=yield e.getIdToken();return yield Bl(e,function OE(n,e){return NE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,l,h,p,y;const C=null!==(r=t.displayName)&&void 0!==r?r:void 0,D=null!==(i=t.email)&&void 0!==i?i:void 0,x=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,L=null!==(o=t.photoURL)&&void 0!==o?o:void 0,z=null!==(l=t.tenantId)&&void 0!==l?l:void 0,q=null!==(h=t._redirectEventId)&&void 0!==h?h:void 0,de=null!==(p=t.createdAt)&&void 0!==p?p:void 0,Ee=null!==(y=t.lastLoginAt)&&void 0!==y?y:void 0,{uid:ge,emailVerified:Le,isAnonymous:ot,providerData:tt,stsTokenManager:zt}=t;it(ge&&zt,e,"internal-error");const $n=Km.fromJSON(this.name,zt);it("string"==typeof ge,e,"internal-error"),Rh(C,e.name),Rh(D,e.name),it("boolean"==typeof Le,e,"internal-error"),it("boolean"==typeof ot,e,"internal-error"),Rh(x,e.name),Rh(L,e.name),Rh(z,e.name),Rh(q,e.name),Rh(de,e.name),Rh(Ee,e.name);const bi=new kh({uid:ge,auth:e,email:D,emailVerified:Le,displayName:C,isAnonymous:ot,photoURL:L,phoneNumber:x,tenantId:z,stsTokenManager:$n,createdAt:de,lastLoginAt:Ee});return tt&&Array.isArray(tt)&&(bi.providerData=tt.map(ba=>Object.assign({},ba))),q&&(bi._redirectEventId=q),bi}static _fromIdTokenResponse(e,t,r=!1){return(0,j.Z)(function*(){const i=new Km;i.updateFromServerResponse(t);const s=new kh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mh(s),s})()}}const jE=new Map;function jl(n){Ya(n instanceof Function,"Expected a class definition");let e=jE.get(n);return e?(Ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jE.set(n,e),e)}const $E=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,j.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,j.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,j.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Fv(n,e,t){return`firebase:${n}:${e}:${t}`}class Gi{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,j.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?kh._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,j.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,j.Z)(function*(){if(!t.length)return new Gi(jl($E),e,r);const i=(yield Promise.all(t.map(function(){var p=(0,j.Z)(function*(y){if(yield y._isAvailable())return y});return function(y){return p.apply(this,arguments)}}()))).filter(p=>p);let s=i[0]||jl($E);const o=Fv(r,e.config.apiKey,e.name);let l=null;for(const p of t)try{const y=yield p._get(o);if(y){const C=kh._fromJSON(e,y);p!==s&&(l=C),s=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&h.length?(s=h[0],l&&(yield s._set(o,l.toJSON())),yield Promise.all(t.map(function(){var p=(0,j.Z)(function*(y){if(y!==s)try{yield y._remove(o)}catch{}});return function(y){return p.apply(this,arguments)}}())),new Gi(s,e,r)):new Gi(s,e,r)})()}}function GE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aP(e))return"Blackberry";if(cP(e))return"Webos";if(sP(e))return"Safari";if((e.includes("chrome/")||oP(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iP(n=(0,k.z$)()){return/firefox\//i.test(n)}function sP(n=(0,k.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oP(n=(0,k.z$)()){return/crios\//i.test(n)}function Vv(n=(0,k.z$)()){return/iemobile/i.test(n)}function HE(n=(0,k.z$)()){return/android/i.test(n)}function aP(n=(0,k.z$)()){return/blackberry/i.test(n)}function cP(n=(0,k.z$)()){return/webos/i.test(n)}function Uv(n=(0,k.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uP(n=(0,k.z$)()){return Uv(n)||HE(n)||cP(n)||aP(n)||/windows phone/i.test(n)||Vv(n)}function zE(n,e=[]){let t;switch(n){case"Browser":t=GE((0,k.z$)());break;case"Worker":t=`${GE((0,k.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${un.SDK_VERSION}/${r}`}class dP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,l)=>{try{o(e(s))}catch(h){l(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,j.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ha(){return(ha=(0,j.Z)(function*(n,e={}){return Zr(n,"GET","/v2/passwordPolicy",Wr(n,e))})).apply(this,arguments)}class yN{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,l;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=null===(t=h.meetsMinPasswordLength)||void 0===t||t),h.isValid&&(h.isValid=null===(r=h.meetsMaxPasswordLength)||void 0===r||r),h.isValid&&(h.isValid=null===(i=h.containsLowercaseLetter)||void 0===i||i),h.isValid&&(h.isValid=null===(s=h.containsUppercaseLetter)||void 0===s||s),h.isValid&&(h.isValid=null===(o=h.containsNumericCharacter)||void 0===o||o),h.isValid&&(h.isValid=null===(l=h.containsNonAlphanumericCharacter)||void 0===l||l),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class vN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WE(this),this.idTokenSubscription=new WE(this),this.beforeStateQueue=new dP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Um,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=jl(t)),this._initializationPromise=this.queue((0,j.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Gi.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,j.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,j.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const l=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,h=s?._redirectEventId,p=yield t.tryRedirectSignIn(e);(!l||l===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(l){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(l))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return it(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,j.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,j.Z)(function*(){try{yield Mh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function W9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,j.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,j.Z)(function*(){const r=e?(0,k.m9)(e):null;return r&&it(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,j.Z)(function*(){if(!r._deleted)return e&&it(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,j.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,j.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,j.Z)(function*(){yield t.assertedPersistence.setPersistence(jl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,j.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,j.Z)(function*(){const t=yield function _N(n){return ha.apply(this,arguments)}(e),r=new yN(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new k.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,j.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,j.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&jl(e)||t._popupRedirectResolver;it(r,t,"argument-error"),t.redirectPersistenceManager=yield Gi.create(t,[jl(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,j.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,j.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,j.Z)(function*(){if(e===t.currentUser)return t.queue((0,j.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const h=e.addObserver(t,r,i);return()=>{o=!0,h()}}{const h=e.addObserver(t);return()=>{o=!0,h()}}}directlySetCurrentUser(e){var t=this;return(0,j.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,j.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return(0,j.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function sN(n,...e){Bm.logLevel<=br.in.WARN&&Bm.warn(`Auth (${un.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Mi(n){return(0,k.m9)(n)}class WE{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,k.ne)(t=>this.observer=t)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ZE(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=da("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function IN(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function hP(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Qm{constructor(e){this.type="recaptcha-enterprise",this.auth=Mi(e)}verify(e="verify",t=!1){var r=this;return(0,j.Z)(function*(){function s(){return s=(0,j.Z)(function*(l){if(!t){if(null==l.tenantId&&null!=l._agentRecaptchaConfig)return l._agentRecaptchaConfig.siteKey;if(null!=l.tenantId&&void 0!==l._tenantRecaptchaConfigs[l.tenantId])return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(function(){var h=(0,j.Z)(function*(p,y){dN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(C=>{if(void 0!==C.recaptchaKey){const D=new uN(C);return null==l.tenantId?l._agentRecaptchaConfig=D:l._tenantRecaptchaConfigs[l.tenantId]=D,p(D.siteKey)}y(new Error("recaptcha Enterprise site key undefined"))}).catch(C=>{y(C)})});return function(p,y){return h.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(l,h,p){const y=window.grecaptcha;lN(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(C=>{h(C)}).catch(()=>{h("NO_RECAPTCHA")})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,h)=>{(function i(l){return s.apply(this,arguments)})(r.auth).then(p=>{if(!t&&lN(window.grecaptcha))o(p,l,h);else{if(typeof window>"u")return void h(new Error("RecaptchaVerifier is only supported in browser"));ZE("https://www.google.com/recaptcha/enterprise.js?render="+p).then(()=>{o(p,l,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})})()}}function Bv(n,e,t){return wp.apply(this,arguments)}function wp(){return(wp=(0,j.Z)(function*(n,e,t,r=!1){const i=new Qm(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function Ym(){return Ym=(0,j.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield Bv(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=(0,j.Z)(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=yield Bv(n,e,t,"getOobCode"===t);return r(n,l)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),Ym.apply(this,arguments)}function $v(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jm(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Tp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vl("not implemented")}_getIdTokenResponse(e){return Vl("not implemented")}_linkToIdToken(e,t){return Vl("not implemented")}_getReauthenticationResolver(e){return Vl("not implemented")}}function JE(){return(JE=(0,j.Z)(function*(n,e){return Zr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function TN(n,e){return _P.apply(this,arguments)}function _P(){return(_P=(0,j.Z)(function*(n,e){return Ul(n,"POST","/v1/accounts:signInWithPassword",Wr(n,e))})).apply(this,arguments)}function iw(){return(iw=(0,j.Z)(function*(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))})).apply(this,arguments)}function sw(){return(sw=(0,j.Z)(function*(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))})).apply(this,arguments)}class e_ extends Tp{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new e_(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new e_(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,j.Z)(function*(){switch(t.signInMethod){case"password":return function QE(n,e,t,r){return Ym.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",TN);case"emailLink":return function SN(n,e){return iw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ti(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,j.Z)(function*(){switch(r.signInMethod){case"password":return function YE(n,e){return JE.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function DN(n,e){return sw.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ti(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function fa(n,e){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,j.Z)(function*(n,e){return Ul(n,"POST","/v1/accounts:signInWithIdp",Wr(n,e))})).apply(this,arguments)}class Vc{constructor(e){var t,r,i,s,o,l;const h=(0,k.zd)((0,k.pd)(e)),p=null!==(t=h.apiKey)&&void 0!==t?t:null,y=null!==(r=h.oobCode)&&void 0!==r?r:null,C=function lw(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=h.mode)&&void 0!==i?i:null);it(p&&y&&C,"argument-error"),this.apiKey=p,this.operation=C,this.code=y,this.continueUrl=null!==(s=h.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=h.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(l=h.tenantId)&&void 0!==l?l:null}static parseLink(e){const t=function Ap(n){const e=(0,k.zd)((0,k.pd)(n)).link,t=e?(0,k.zd)((0,k.pd)(e)).deep_link_id:null,r=(0,k.zd)((0,k.pd)(n)).deep_link_id;return(r?(0,k.zd)((0,k.pd)(r)).link:null)||r||t||e||n}(e);try{return new Vc(t)}catch{return null}}}let Fh=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return e_._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Vc.parseLink(r);return it(i,"argument-error"),e_._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Lo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sp extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,j.Z)(function*(){const s=yield kh._fromIdTokenResponse(e,r,i),o=CP(r);return new Fo({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,j.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=CP(r);return new Fo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function CP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Kv extends k.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Kv(e,t,r,i)}}function dw(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Kv._fromErrorAndOperation(n,s,e,r):s})}function Pp(n,e){return xp.apply(this,arguments)}function xp(){return(xp=(0,j.Z)(function*(n,e,t=!1){const r=yield Bl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fo._forOperation(n,"link",r)})).apply(this,arguments)}function i_(){return(i_=(0,j.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Bl(n,dw(r,i,e,n),t);it(s.idToken,r,"internal-error");const o=Wm(s.idToken);it(o,r,"internal-error");const{sub:l}=o;return it(n.uid===l,r,"user-mismatch"),Fo._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&ti(r,"user-mismatch"),s}})).apply(this,arguments)}function pw(n,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,j.Z)(function*(n,e,t=!1){const r="signIn",i=yield dw(n,r,e),s=yield Fo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Xv(){return(Xv=(0,j.Z)(function*(n,e){return pw(Mi(n),e)})).apply(this,arguments)}function n0(){return(n0=(0,j.Z)(function*(n){const e=Mi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}const f0="__sak";class VP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(f0,"1"),this.storage.removeItem(f0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JN=(()=>{class n extends VP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function KN(){const n=(0,k.z$)();return sP(n)||Uv(n)}()&&function mN(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((l,h,p)=>{this.notifyListeners(l,p)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(t.newValue!==l)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const l=this.storage.getItem(i);!r&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);!function lP(){return(0,k.w1)()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,j.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,j.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,j.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),UP=(()=>{class n extends VP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let e2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,j.Z)(function*(){const i=t,{eventId:s,eventType:o,data:l}=i.data,h=r.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(function(){var C=(0,j.Z)(function*(D){return D(i.origin,l)});return function(D){return C.apply(this,arguments)}}()),y=yield function XN(n){return Promise.all(n.map(function(){var e=(0,j.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Dw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,j.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((h,p)=>{const y=Dw("",20);s.port1.start();const C=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(D){const x=D;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(C),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(C),clearTimeout(o),p(new Error("invalid_response"))}}},i.handlers.add(l),s.port1.addEventListener("message",l.onMessage),i.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{l&&i.removeMessageHandler(l)})})()}}function vi(){return window}function p0(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function g0(){return(g0=(0,j.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pw="firebaseLocalStorageDb",u_="firebaseLocalStorage",xw="fbase_key";class Op{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function d_(n,e){return n.transaction([u_],e?"readwrite":"readonly").objectStore(u_)}function Mw(){const n=indexedDB.open(Pw,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(u_,{keyPath:xw})}catch(i){t(i)}}),n.addEventListener("success",(0,j.Z)(function*(){const r=n.result;r.objectStoreNames.contains(u_)?e(r):(r.close(),yield function Vh(){const n=indexedDB.deleteDatabase(Pw);return new Op(n).toPromise()}(),e(yield Mw()))}))})}function HP(n,e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,j.Z)(function*(n,e,t){const r=d_(n,!0).put({[xw]:e,value:t});return new Op(r).toPromise()})).apply(this,arguments)}function h_(){return(h_=(0,j.Z)(function*(n,e){const t=d_(n,!1).get(e),r=yield new Op(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function r2(n,e){const t=d_(n,!0).delete(e);return new Op(t).toPromise()}const Qt=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,j.Z)(function*(){return t.db||(t.db=yield Mw()),t.db})()}_withRetries(t){var r=this;return(0,j.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,j.Z)(function*(){return p0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,j.Z)(function*(){t.receiver=e2._getInstance(function $P(){return p0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,j.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,j.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,j.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function BP(){return g0.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new t2(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,j.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function jP(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Mw();return yield HP(t,f0,"1"),yield r2(t,f0),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,j.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,j.Z)(function*(){return i._withPendingWrite((0,j.Z)(function*(){return yield i._withRetries(s=>HP(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,j.Z)(function*(){const i=yield r._withRetries(s=>function hj(n,e){return h_.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,j.Z)(function*(){return r._withPendingWrite((0,j.Z)(function*(){return yield r._withRetries(i=>r2(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,j.Z)(function*(){const r=yield t._withRetries(o=>{const l=d_(o,!1).getAll();return new Op(l).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:l}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(l)&&(t.notifyListeners(o,l),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,j.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function $h(n,e){return e?jl(e):(it(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}hP("rcb"),new $m(3e4,6e4);class Nw extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YP(n){return pw(n.auth,new Nw(n),n.bypassAuthState)}function JP(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),function Yv(n,e){return i_.apply(this,arguments)}(t,new Nw(n),n.bypassAuthState)}function XP(n){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,j.Z)(function*(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),Pp(t,new Nw(n),n.bypassAuthState)})).apply(this,arguments)}new $m(2e3,1e4);const f_=new Map;class rx extends class ex{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,j.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,j.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:l,type:h}=e;if(l)return void t.reject(l);const p={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(h)(p))}catch(y){t.reject(y)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YP;case"linkViaPopup":case"linkViaRedirect":return XP;case"reauthViaPopup":case"reauthViaRedirect":return JP;default:ti(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,j.Z)(function*(){let r=f_.get(t.auth._key());if(!r){try{const s=(yield function p_(n,e){return Fw.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}f_.set(t.auth._key(),r)}return t.bypassAuthState||f_.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,j.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,j.Z)(function*(){})()}cleanUp(){}}function Fw(){return(Fw=(0,j.Z)(function*(n,e){const t=ix(e),r=Bw(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function f2(n,e){f_.set(n._key(),e)}function Bw(n){return jl(n._redirectPersistence)}function ix(n){return Fv("pendingRedirect",n.config.apiKey,n.name)}function Hw(n,e){return w0.apply(this,arguments)}function w0(){return(w0=(0,j.Z)(function*(n,e,t=!1){const r=Mi(n),i=$h(r,e),o=yield new rx(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class qw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ww(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ww(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(da(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cx(e))}saveEventToCache(e){this.cachedEventUids.add(cx(e)),this.lastProcessedEventTime=Date.now()}}function cx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ww({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function y2(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,j.Z)(function*(n,e={}){return Zr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const v2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;function Kw(){return(Kw=(0,j.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield y2(n);for(const t of e)try{if(E2(t))return}catch{}ti(n,"unauthorized-domain")})).apply(this,arguments)}function E2(n){const e=Ju(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!I2.test(t))return!1;if(v2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lx=new $m(3e4,6e4);function Qw(){const n=vi().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let T0=null;function ux(n){return T0=T0||function w2(n){return new Promise((e,t)=>{var r,i,s;function o(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),t(da(n,"network-request-failed"))},timeout:lx.get()})}if(null!==(i=null===(r=vi().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=vi().gapi)||void 0===s||!s.load){const l=hP("iframefcb");return vi()[l]=()=>{gapi.load?o():t(da(n,"network-request-failed"))},ZE(`https://apis.google.com/js/api.js?onload=${l}`).catch(h=>t(h))}o()}}).catch(e=>{throw T0=null,e})}(n),T0}const T2=new $m(5e3,15e3),Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(n){const e=n.config;it(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?RE(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:un.SDK_VERSION},i=Jw.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,k.xO)(r).slice(1)}`}function eT(){return eT=(0,j.Z)(function*(n){const e=yield ux(n),t=vi().gapi;return it(t,n,"internal-error"),e.open({where:document.body,url:dx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},r=>new Promise(function(){var i=(0,j.Z)(function*(s,o){yield r.restyle({setHideOnLeave:!1});const l=da(n,"network-request-failed"),h=vi().setTimeout(()=>{o(l)},T2.get());function p(){vi().clearTimeout(h),s(r)}r.ping(p).then(p,()=>{o(l)})});return function(s,o){return i.apply(this,arguments)}}()))}),eT.apply(this,arguments)}const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x2=encodeURIComponent("fac");function b0(n,e,t,r,i,s){return iT.apply(this,arguments)}function iT(){return(iT=(0,j.Z)(function*(n,e,t,r,i,s){it(n.config.authDomain,n,"auth-domain-config-required"),it(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:un.SDK_VERSION,eventId:i};if(e instanceof Lo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",(0,k.xb)(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,C]of Object.entries(s||{}))o[y]=C}if(e instanceof Sp){const y=e.getScopes().filter(C=>""!==C);y.length>0&&(o.scopes=y.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const y of Object.keys(l))void 0===l[y]&&delete l[y];const h=yield n._getAppCheckToken(),p=h?`#${x2}=${encodeURIComponent(h)}`:"";return`${px(n)}?${(0,k.xO)(l).slice(1)}${p}`})).apply(this,arguments)}function px({config:n}){return n.emulator?RE(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const m_="webStorageSupport",mx=class gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UP,this._completeRedirectFn=Hw,this._overrideRedirectResult=f2}_openPopup(e,t,r,i){var s=this;return(0,j.Z)(function*(){var o;Ya(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const l=yield b0(e,t,r,Ju(),i);return function P2(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const h=Object.assign(Object.assign({},S2),{width:r.toString(),height:i.toString(),top:s,left:o}),p=(0,k.z$)().toLowerCase();t&&(l=oP(p)?"_blank":t),iP(p)&&(e=e||"http://localhost",h.scrollbars="yes");const y=Object.entries(h).reduce((D,[x,L])=>`${D}${x}=${L},`,"");if(function gN(n=(0,k.z$)()){var e;return Uv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(p)&&"_self"!==l)return function wj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",l),new nT(null);const C=window.open(e||"",l,y);it(C,n,"popup-blocked");try{C.focus()}catch{}return new nT(C)}(e,l,Dw())})()}_openRedirect(e,t,r,i){var s=this;return(0,j.Z)(function*(){return yield s._originValidation(e),function n2(n){vi().location.href=n}(yield b0(e,t,r,Ju(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ya(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,j.Z)(function*(){const r=yield function Xw(n){return eT.apply(this,arguments)}(e),i=new qw(e);return r.register("authEvent",s=>(it(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m_,{type:m_},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[m_];void 0!==o&&t(!!o),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function C2(n){return Kw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uP()||sP()||Uv()}};var R2="@firebase/auth";class k2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,j.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const N2=(0,k.Pz)("authIdTokenMaxAge")||300;let yx=null;const L2=n=>function(){var e=(0,j.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>N2)return;const s=r?.token;yx!==s&&(yx=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Gh(n=(0,un.getApp)()){const e=(0,un._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function fP(n,e){const t=(0,un._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if((0,k.vZ)(s,e??{}))return i;ti(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:mx,persistence:[Qt,JN,UP]}),r=(0,k.Pz)("authTokenSyncURL");if(r){const s=L2(r);(function RP(n,e,t){(0,k.m9)(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function MP(n,e,t,r){(0,k.m9)(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=(0,k.q4)("auth");return i&&function gP(n,e,t){const r=Mi(n);it(r._canInitEmulator,r,"emulator-config-failed"),it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=$v(e),{host:o,port:l}=function $l(n){const e=$v(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Jm(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:Jm(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===l?"":`:${l}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Gv(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Aj(n){(0,un._registerComponent)(new Ts.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(n)},p=new vN(r,i,s,h);return function pP(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,un._registerComponent)(new Ts.wA("auth-internal",e=>{const t=Mi(e.getProvider("auth").getImmediate());return new k2(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,un.registerVersion)(R2,"1.3.2",function O2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,un.registerVersion)(R2,"1.3.2","esm2017")}("Browser");var yt,F2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ec={},cT=cT||{},an=F2||self;function A0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function y_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hh="closure_uid_"+(1e9*Math.random()>>>0),vx=0;function Ix(n,e,t){return n.call.apply(n.bind,arguments)}function Cx(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ss(n,e,t){return(ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ix:Cx).apply(null,arguments)}function v_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function ed(){this.s=this.s,this.o=this.o}ed.prototype.s=!1,ed.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function V2(n){Object.prototype.hasOwnProperty.call(n,Hh)&&n[Hh]||(n[Hh]=++vx)}(this)},ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ex=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wx(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(A0(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ss.prototype.h=function(){this.defaultPrevented=!0};var U2=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function Wl(n){return/^[\s\xa0]*$/.test(n)}function S0(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function ga(n){return-1!=S0().indexOf(n)}function ma(n){return ma[" "](n),n}ma[" "]=function(){};var hT,n,uT=ga("Opera"),Uc=ga("Trident")||ga("MSIE"),Tx=ga("Edge"),dT=Tx||Uc,bx=ga("Gecko")&&!(-1!=S0().toLowerCase().indexOf("webkit")&&!ga("Edge"))&&!(ga("Trident")||ga("MSIE"))&&!ga("Edge"),D0=-1!=S0().toLowerCase().indexOf("webkit")&&!ga("Edge");function I_(){var n=an.document;return n?n.documentMode:void 0}e:{var fT="",P0=(n=S0(),bx?/rv:([^\);]+)(\)|;)/.exec(n):Tx?/Edge\/([\d\.]+)/.exec(n):Uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):D0?/WebKit\/(\S+)/.exec(n):uT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(P0&&(fT=P0?P0[1]:""),Uc){var x0=I_();if(null!=x0&&x0>parseFloat(fT)){hT=String(x0);break e}}hT=fT}var j2=an.document&&Uc&&(I_()||parseInt(hT,10))||void 0;function E_(n,e){if(Ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bx){e:{try{ma(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&E_.$.h.call(this)}}Hi(E_,Ss);var Pj={2:"touch",3:"pen",4:"mouse"};E_.prototype.h=function(){E_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zh="closure_listenable_"+(1e6*Math.random()|0),gT=0;function Ax(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++gT,this.fa=this.ia=!1}function Up(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function w_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Sx(n){const e={};for(const t in n)e[t]=n[t];return e}const Dx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Px(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Dx.length;s++)t=Dx[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function T_(n){this.src=n,this.g={},this.h=0}function b_(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Ex(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Up(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function M0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}T_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=M0(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Ax(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var R0="closure_lm_"+(1e6*Math.random()|0),k0={};function mT(n,e,t,r,i){if(r&&r.once)return _T(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mT(n,e[s],t,r,i);return null}return t=IT(t),n&&n[zh]?n.O(e,t,y_(r)?!!r.capture:!!r,i):xx(n,e,t,!1,r,i)}function xx(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=y_(i)?!!i.capture:!!i,l=td(n);if(l||(n[R0]=l=new T_(n)),(t=l.add(e,t,r,o,s)).proxy)return t;if(r=function Mx(){const e=Ys;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)U2||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(yT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _T(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_T(n,e[s],t,r,i);return null}return t=IT(t),n&&n[zh]?n.P(e,t,y_(r)?!!r.capture:!!r,i):xx(n,e,t,!0,r,i)}function Rx(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rx(n,e[s],t,r,i);else r=y_(r)?!!r.capture:!!r,t=IT(t),n&&n[zh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=M0(s=n.g[e],t,r,i))&&(Up(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=td(n))&&(e=n.g[e.toString()],n=-1,e&&(n=M0(e,t,r,i)),(t=-1<n?e[n]:null)&&O0(t))}function O0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zh])b_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=td(e))?(b_(t,n),0==t.h&&(t.src=null,e[R0]=null)):Up(n)}}}function yT(n){return n in k0?k0[n]:k0[n]="on"+n}function Ys(n,e){if(n.fa)n=!0;else{e=new E_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&O0(n),n=t.call(r,e)}return n}function td(n){return(n=n[R0])instanceof T_?n:null}var vT="__closure_events_fn_"+(1e9*Math.random()>>>0);function IT(n){return"function"==typeof n?n:(n[vT]||(n[vT]=function(e){return n.handleEvent(e)}),n[vT])}function os(){ed.call(this),this.i=new T_(this),this.S=this,this.J=null}function Ds(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ss(e,n);else if(e instanceof Ss)e.target=e.target||n;else{var i=e;Px(e=new Ss(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=A_(o,r,!0,e)&&i}if(i=A_(o=e.g=n,r,!0,e)&&i,i=A_(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=A_(o=e.g=t[s],r,!1,e)&&i}function A_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var l=o.listener,h=o.la||o.src;o.ia&&b_(n.i,o),i=!1!==l.call(h,r)&&i}}return i&&!r.defaultPrevented}Hi(os,ed),os.prototype[zh]=!0,os.prototype.removeEventListener=function(n,e,t,r){Rx(this,n,e,t,r)},os.prototype.N=function(){if(os.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Up(t[r]);delete n.g[e],n.h--}}this.J=null},os.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},os.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var N0=an.JSON.stringify;function G2(){var n=L0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kx=new class S_{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ox,n=>n.reset());class Ox{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function H2(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function z2(n){an.setTimeout(()=>{throw n},0)}let D_,qh=!1,L0=new class CT{constructor(){this.h=this.g=null}add(e,t){const r=kx.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ET=()=>{const n=an.Promise.resolve(void 0);D_=()=>{n.then(F0)}};var F0=()=>{for(var n;n=G2();){try{n.h.call(n.g)}catch(t){z2(t)}var e=kx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qh=!1};function Bp(n,e){os.call(this),this.h=n||1,this.g=e||an,this.j=ss(this.qb,this),this.l=Date.now()}function Nx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function V0(n,e,t){if("function"==typeof n)t&&(n=ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function Lx(n){n.g=V0(()=>{n.g=null,n.i&&(n.i=!1,Lx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hi(Bp,os),(yt=Bp.prototype).ga=!1,yt.T=null,yt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ds(this,"tick"),this.ga&&(Nx(this),this.start()))}},yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.N=function(){Bp.$.N.call(this),Nx(this),delete this.g};class Fx extends ed{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lx(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(n){ed.call(this),this.h=n,this.g={}}Hi(Bc,ed);var Vx=[];function wT(n,e,t,r){Array.isArray(t)||(t&&(Vx[0]=t.toString()),t=Vx);for(var i=0;i<t.length;i++){var s=mT(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function U0(n){w_(n.g,function(e,t){this.g.hasOwnProperty(t)&&O0(e)},n),n.g={}}function TT(){this.g=!0}function jp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Z2(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return N0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bc.prototype.N=function(){Bc.$.N.call(this),U0(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TT.prototype.Ea=function(){this.g=!1},TT.prototype.info=function(){};var nd={},bT=null;function B0(){return bT=bT||new os}function AT(n){Ss.call(this,nd.Ta,n)}function $p(n){const e=B0();Ds(e,new AT(e))}function Ux(n,e){Ss.call(this,nd.STAT_EVENT,n),this.stat=e}function Js(n){const e=B0();Ds(e,new Ux(e,n))}function ST(n,e){Ss.call(this,nd.Ua,n),this.size=e}function P_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}nd.Ta="serverreachability",Hi(AT,Ss),nd.STAT_EVENT="statevent",Hi(Ux,Ss),nd.Ua="timingevent",Hi(ST,Ss);var x_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function j0(){}function Bx(){}j0.prototype.h=null;var $x,M_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jx(){Ss.call(this,"d")}function $0(){Ss.call(this,"c")}function xT(){}function G0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bc(this),this.P=Mj,this.V=new Bp(n=dT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new K2}function K2(){this.i=null,this.g="",this.h=!1}Hi(jx,Ss),Hi($0,Ss),Hi(xT,j0),xT.prototype.g=function(){return new XMLHttpRequest},xT.prototype.i=function(){return{}},$x=new xT;var Mj=45e3,Gx={},MT={};function Hx(n,e,t){n.L=1,n.v=z0(Zl(e)),n.s=t,n.S=!0,R_(n,null)}function R_(n,e){n.G=Date.now(),Gp(n),n.A=Zl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),W0(t.i,"t",r),n.C=0,t=n.l.J,n.h=new K2,n.g=od(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Fx(ss(n.Pa,n,n.g),n.O)),wT(n.U,n.g,"readystatechange",n.nb),e=n.I?Sx(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),$p(),function q2(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",l=s.split("&"),h=0;h<l.length;h++){var p=l[h].split("=");if(1<p.length){var y=p[0];p=p[1];var C=y.split("_");o=2<=C.length&&"type"==C[1]?o+(y+"=")+p+"&":o+(y+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Q2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function RT(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=H0(n,t),i==MT){4==e&&(n.o=4,Js(14),r=!1),jp(n.j,n.m,null,"[Incomplete Response]");break}if(i==Gx){n.o=4,Js(15),jp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jp(n.j,n.m,i,null),NT(n,i)}Q2(n)&&i!=MT&&i!=Gx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Js(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),a1(e),e.M=!0,Js(11))):(jp(n.j,n.m,t,"[Invalid Chunked Response]"),rd(n),Wh(n))}function H0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?MT:(t=Number(e.substring(t,r)),isNaN(t)?Gx:(r+=1)+t>e.length?MT:(e=e.slice(r,r+t),n.C=r+t,e))}function Gp(n){n.Y=Date.now()+n.P,kT(n,n.P)}function kT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=P_(ss(n.lb,n),e)}function OT(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function Wh(n){0==n.l.H||n.J||c1(n.l,n)}function rd(n){OT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Nx(n.V),U0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function NT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Z0(t.i,n)))if(!n.K&&Z0(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;rb(t),Y0(t)}o1(t),Js(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=P_(ss(t.ib,t),6e3));if(1>=jT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kh(t,11)}else if((n.K||t.g==n)&&rb(t),!Wl(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(t.V=p[0],p=p[1],2==t.H)if("c"==p[0]){t.K=p[1],t.pa=p[2];const y=p[3];null!=y&&(t.ra=y,t.l.info("VER="+t.ra));const C=p[4];null!=C&&(t.Ga=C,t.l.info("SVER="+t.Ga));const D=p[5];null!=D&&"number"==typeof D&&0<D&&(t.L=r=1.5*D,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const L=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=r.i;s.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($T(s,s.h),s.h=null))}if(r.F){const z=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.Da=z,Ar(r.I,r.F,z))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=ib(r,r.J?r.pa:null,r.Y),o.K){GT(r.i,o);var l=o,h=r.L;h&&l.setTimeout(h),l.B&&(OT(l),Gp(l)),r.g=o}else iL(r);0<t.j.length&&nb(t)}else"stop"!=p[0]&&"close"!=p[0]||Kh(t,7);else 3==t.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Kh(t,7):tb(t):"noop"!=p[0]&&t.h&&t.h.Aa(p),t.A=0)}$p()}catch{}}function qx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(A0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Rj(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(A0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zx(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(A0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(yt=G0.prototype).setTimeout=function(n){this.P=n},yt.nb=function(n){n=n.target;const e=this.M;e&&3==nc(n)?e.l():this.Pa(n)},yt.Pa=function(n){try{if(n==this.g)e:{const y=nc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>y)&&(3!=y||dT||this.g&&(this.h.h||this.g.ja()||V_(this.g)))){this.J||4!=y||7==e||$p(),OT(this);var t=this.g.da();this.ca=t;t:if(Q2(this)){var r=V_(this.g);n="";var i=r.length,s=4==nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rd(this),Wh(this);var o="";break t}this.h.i=new an.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function xj(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,y,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(l)){var p=l;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,Js(12),rd(this),Wh(this);break e}jp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NT(this,t)}this.S?(RT(this,y,o),dT&&this.i&&3==y&&(wT(this.U,this.V,"tick",this.mb),this.V.start())):(jp(this.j,this.m,o,null),NT(this,o)),4==y&&rd(this),this.i&&!this.J&&(4==y?c1(this.l,this):(this.i=!1,Gp(this)))}else(function Q0(n){const e={};n=(n.g&&2<=nc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Wl(n[r]))continue;var t=H2(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function $2(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Js(12)):(this.o=0,Js(13)),rd(this),Wh(this)}}}catch{}},yt.mb=function(){if(this.g){var n=nc(this.g),e=this.g.ja();this.C<e.length&&(OT(this),RT(this,n,e),this.i&&4!=n&&Gp(this))}},yt.cancel=function(){this.J=!0,rd(this)},yt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function W2(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($p(),Js(17)),rd(this),this.o=2,Wh(this)):kT(this,this.Y-n)};var Wx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jc){this.h=n.h,LT(this,n.j),this.s=n.s,this.g=n.g,FT(this,n.m),this.l=n.l;var e=n.i,t=new Zh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),J2(this,t),this.o=n.o}else n&&(e=String(n).match(Wx))?(this.h=!1,LT(this,e[1]||"",!0),this.s=k_(e[2]||""),this.g=k_(e[3]||"",!0),FT(this,e[4]),this.l=k_(e[5]||"",!0),J2(this,e[6]||"",!0),this.o=k_(e[7]||"")):(this.h=!1,this.i=new Zh(null,this.h))}function Zl(n){return new jc(n)}function LT(n,e,t){n.j=t?k_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function FT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function J2(n,e,t){e instanceof Zh?(n.i=e,function tL(n,e){e&&!n.j&&(id(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Uo(this,r),W0(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=q0(e,tc)),n.i=new Zh(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function z0(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function k_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function q0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,X2),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function X2(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(q0(e,VT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(q0(e,VT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(q0(t,"/"==t.charAt(0)?kj:Zx,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",q0(t,eL)),n.join("")};var VT=/[#\/\?@]/g,Zx=/[#\?:]/g,kj=/[#\?]/g,tc=/[#\?@]/g,eL=/#/g;function Zh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function id(n){n.g||(n.g=new Map,n.h=0,n.i&&function Y2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Uo(n,e){id(n),e=Hp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Kx(n,e){return id(n),e=Hp(n,e),n.g.has(e)}function W0(n,e,t){Uo(n,e),0<t.length&&(n.i=null,n.g.set(Hp(n,e),lT(t)),n.h+=t.length)}function Hp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BT(n){this.l=n||Qx,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=Zh.prototype).add=function(n,e){id(this),this.i=null,n=Hp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){id(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},yt.ta=function(){id(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},yt.Z=function(n){id(this);let e=[];if("string"==typeof n)Kx(this,n)&&(e=e.concat(this.g.get(Hp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return id(this),this.i=null,Kx(this,n=Hp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Qx=10;function Yx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jT(n){return n.h?1:n.g?n.g.size:0}function Z0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $T(n,e){n.g?n.g.add(e):n.h=e}function GT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Jx(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return lT(n.i)}function sd(){this.g=new class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}}}function Xx(n,e,t){const r=t||"";try{qx(n,function(i,s){let o=i;y_(i)&&(o=N0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _a(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function O_(n){this.l=n.ec||null,this.j=n.ob||!1}function qT(n,e){os.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=WT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BT.prototype.cancel=function(){if(this.i=Jx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hi(O_,j0),O_.prototype.g=function(){return new qT(this.l,this.j)},O_.prototype.i=function(n){return function(){return n}}({}),Hi(qT,os);var WT=0;function e1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function N_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,L_(n)}function L_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=qT.prototype).open=function(n,e){if(this.readyState!=WT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,L_(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N_(this)),this.readyState=WT},yt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,L_(this)),this.g&&(this.readyState=3,L_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},yt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?N_(this):L_(this),3==this.readyState&&e1(this)}},yt.Za=function(n){this.g&&(this.response=this.responseText=n,N_(this))},yt.Ya=function(n){this.g&&(this.response=n,N_(this))},yt.ka=function(){this.g&&N_(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(qT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t1=an.JSON.parse;function hi(n){os.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZT,this.L=this.M=!1}Hi(hi,os);var ZT="",nL=/^https?$/i,n1=["POST","PUT"];function K0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,KT(n),F_(n)}function KT(n){n.F||(n.F=!0,Ds(n,"complete"),Ds(n,"error"))}function QT(n){if(n.h&&typeof cT<"u"&&(!n.C[1]||4!=nc(n)||2!=n.da()))if(n.v&&4==nc(n))V0(n.La,0,n);else if(Ds(n,"readystatechange"),4==nc(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(Wx)[1]||null;!i&&an.self&&an.self.location&&(i=an.self.location.protocol.slice(0,-1)),r=!nL.test(i?i.toLowerCase():"")}t=r}if(t)Ds(n,"complete"),Ds(n,"success");else{n.m=6;try{var s=2<nc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",KT(n)}}finally{F_(n)}}}function F_(n,e){if(n.g){YT(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ds(n,"ready");try{t.onreadystatechange=r}catch{}}}function YT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function nc(n){return n.g?n.g.readyState:0}function V_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ZT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function JT(n){let e="";return w_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function XT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=JT(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function zp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eb(n){this.Ga=0,this.j=[],this.l=new TT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zp("baseRetryDelayMs",5e3,n),this.hb=zp("retryDelaySeedMs",1e4,n),this.eb=zp("forwardChannelMaxRetries",2,n),this.xa=zp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new BT(n&&n.concurrentRequestLimit),this.Ja=new sd,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tb(n){if(rL(n),3==n.H){var e=n.W++,t=Zl(n.I);if(Ar(t,"SID",n.K),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),U_(n,t),(e=new G0(n,n.l,e)).L=2,e.v=z0(Zl(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=od(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gp(e)}l1(n)}function Y0(n){n.g&&(a1(n),n.g.cancel(),n.g=null)}function rL(n){Y0(n),n.u&&(an.clearTimeout(n.u),n.u=null),rb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function nb(n){if(!Yx(n.i)&&!n.m){n.m=!0;var e=n.Na;D_||ET(),qh||(D_(),qh=!0),L0.add(e,n),n.C=0}}function i1(n,e){var t;t=e?e.m:n.W++;const r=Zl(n.I);Ar(r,"SID",n.K),Ar(r,"RID",t),Ar(r,"AID",n.V),U_(n,r),n.o&&n.s&&XT(r,n.o,n.s),t=new G0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=s1(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),$T(n.i,t),Hx(t,r,e)}function U_(n,e){n.na&&w_(n.na,function(t,r){Ar(e,r,t)}),n.h&&qx({},function(t,r){Ar(e,r,t)})}function s1(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ss(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let h=0;h<t;h++){let p=i[h].g;const y=i[h].map;if(p-=s,0>p)s=Math.max(0,i[h].g-100),l=!1;else try{Xx(y,o,"req"+p+"_")}catch{r&&r(y)}}if(l){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function iL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;D_||ET(),qh||(D_(),qh=!0),L0.add(e,n),n.A=0}}function o1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=P_(ss(n.Ma,n),B_(n,n.A)),n.A++,0))}function a1(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function sL(n){n.g=new G0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Zl(n.wa);Ar(e,"RID","rpc"),Ar(e,"SID",n.K),Ar(e,"AID",n.V),Ar(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ar(e,"TO",n.qa),Ar(e,"TYPE","xmlhttp"),U_(n,e),n.o&&n.s&&XT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=z0(Zl(e)),t.s=null,t.S=!0,R_(t,n)}function rb(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function c1(n,e){var t=null;if(n.g==e){rb(n),a1(n),n.g=null;var r=2}else{if(!Z0(n.i,e))return;t=e.F,GT(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ds(r=B0(),new ST(r,t)),nb(n)}else iL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function r1(n,e){return!(jT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=P_(ss(n.Na,n,e),B_(n,n.C)),n.C++,0)))}(n,e)||2==r&&o1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Kh(n,5);break;case 4:Kh(n,10);break;case 3:Kh(n,6);break;default:Kh(n,2)}}function B_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ss(n.pb,n);t||(t=new jc("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||LT(t,"https"),z0(t)),function zT(n,e){const t=new TT;if(an.Image){const r=new Image;r.onload=v_(_a,t,r,"TestLoadImage: loaded",!0,e),r.onerror=v_(_a,t,r,"TestLoadImage: error",!1,e),r.onabort=v_(_a,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=v_(_a,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Js(2);n.H=0,n.h&&n.h.za(e),l1(n),rL(n)}function l1(n){if(n.H=0,n.ma=[],n.h){const e=Jx(n.i);(0!=e.length||0!=n.j.length)&&(wx(n.ma,e),wx(n.ma,n.j),n.i.i.length=0,lT(n.j),n.j.length=0),n.h.ya()}}function ib(n,e,t){var r=t instanceof jc?Zl(t):new jc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),FT(r,r.m);else{var i=an.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new jc(null);r&&LT(s,r),e&&(s.g=e),i&&FT(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ar(r,t,e),Ar(r,"VER",n.ra),U_(n,r),r}function od(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hi(t&&n.Ha&&!n.va?new O_({ob:!0}):n.va)).Oa(n.J),e}function sb(){}function qp(){if(Uc&&!(10<=Number(j2)))throw Error("Environmental error: no available transport.")}function Xs(n,e){os.call(this),this.g=new eb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Wl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ad(this)}function u1(n){jx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function J0(){$0.call(this),this.status=1}function ad(n){this.g=n}function $c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function d1(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function ir(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(yt=hi.prototype).Oa=function(n){this.M=n},yt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$x.g(),this.C=function PT(n){return n.h||(n.h=n.i())}(this.u?this.u:$x),this.g.onreadystatechange=ss(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void K0(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=an.FormData&&n instanceof an.FormData,!(0<=Ex(n1,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YT(this),0<this.B&&((this.L=function Oj(n){return Uc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ss(this.ua,this)):this.A=V0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){K0(this,s)}},yt.ua=function(){typeof cT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ds(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ds(this,"complete"),Ds(this,"abort"),F_(this))},yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),F_(this,!0)),hi.$.N.call(this)},yt.La=function(){this.s||(this.G||this.v||this.l?QT(this):this.kb())},yt.kb=function(){QT(this)},yt.isActive=function(){return!!this.g},yt.da=function(){try{return 2<nc(this)?this.g.status:-1}catch{return-1}},yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),t1(e)}},yt.Ia=function(){return this.m},yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=eb.prototype).ra=8,yt.H=1,yt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new G0(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Sx(s),Px(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=s1(this,i,e),Ar(t=Zl(this.I),"RID",n),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),U_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(JT(s)))+"&"+e:this.o&&XT(t,this.o,s)),$T(this.i,i),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),i.aa=!0,Hx(i,t,null)):Hx(i,t,e),this.H=2}}else 3==this.H&&(n?i1(this,n):0==this.j.length||Yx(this.i)||i1(this))},yt.Ma=function(){if(this.u=null,sL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=P_(ss(this.jb,this),n)}},yt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Js(10),Y0(this),sL(this))},yt.ib=function(){null!=this.v&&(this.v=null,Y0(this),o1(this),Js(19))},yt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Js(2)):(this.l.info("Failed to ping google.com"),Js(1))},yt.isActive=function(){return!!this.h&&this.h.isActive(this)},(yt=sb.prototype).Ba=function(){},yt.Aa=function(){},yt.za=function(){},yt.ya=function(){},yt.isActive=function(){return!0},yt.Va=function(){},qp.prototype.g=function(n,e){return new Xs(n,e)},Hi(Xs,os),Xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Js(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=ib(n,null,n.Y),nb(n)},Xs.prototype.close=function(){tb(this.g)},Xs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=N0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&nb(e)},Xs.prototype.N=function(){this.g.h=null,delete this.j,tb(this.g),delete this.g,Xs.$.N.call(this)},Hi(u1,jx),Hi(J0,$0),Hi(ad,sb),ad.prototype.Ba=function(){Ds(this.g,"a")},ad.prototype.Aa=function(n){Ds(this.g,new u1(n))},ad.prototype.za=function(n){Ds(this.g,new J0)},ad.prototype.ya=function(){Ds(this.g,"b")},Hi($c,function X0(){this.blockSize=-1}),$c.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$c.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)d1(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){d1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){d1(this,r),i=0;break}}this.h=i,this.i+=e},$c.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Nj={};function eI(n){return-128<=n&&128>n?function B2(n,e){var t=Nj;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ir([0|e],0>e?-1:0)}):new ir([0|n],0>n?-1:0)}function Gc(n){if(isNaN(n)||!isFinite(n))return Wp;if(0>n)return as(Gc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ob;return new ir(e,0)}var ob=4294967296,Wp=eI(0),tI=eI(1),ab=eI(16777216);function Hc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ya(n){return-1==n.h}function as(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ir(t,~n.h).add(tI)}function j_(n,e){return n.add(as(e))}function Zp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function nI(n,e){this.g=n,this.h=e}function $_(n,e){if(Hc(e))throw Error("division by zero");if(Hc(n))return new nI(Wp,Wp);if(ya(n))return e=$_(as(n),e),new nI(as(e.g),as(e.h));if(ya(e))return e=$_(n,as(e)),new nI(as(e.g),e.h);if(30<n.g.length){if(ya(n)||ya(e))throw Error("slowDivide_ only works with positive integers.");for(var t=tI,r=e;0>=r.X(n);)t=rI(t),r=rI(r);var i=Kp(t,1),s=Kp(r,1);for(r=Kp(r,2),t=Kp(t,2);!Hc(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Kp(r,1),t=Kp(t,1)}return e=j_(n,i.R(e)),new nI(i,e)}for(i=Wp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Gc(t)).R(e);ya(o)||0<o.X(n);)o=(s=Gc(t-=r)).R(e);Hc(s)&&(s=tI),i=i.add(s),n=j_(n,o)}return new nI(i,n)}function rI(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ir(t,n.h)}function Kp(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ir(i,n.h)}(yt=ir.prototype).ea=function(){if(ya(this))return-as(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ob+r)*e,e*=ob}return n},yt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hc(this))return"0";if(ya(this))return"-"+as(this).toString(n);for(var e=Gc(Math.pow(n,6)),t=this,r="";;){var i=$_(t,e).g,s=((0<(t=j_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Hc(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},yt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},yt.X=function(n){return ya(n=j_(this,n))?-1:Hc(n)?0:1},yt.abs=function(){return ya(this)?as(this):this},yt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new ir(t,-2147483648&t[t.length-1]?-1:0)},yt.R=function(n){if(Hc(this)||Hc(n))return Wp;if(ya(this))return ya(n)?as(this).R(as(n)):as(as(this).R(n));if(ya(n))return as(this.R(as(n)));if(0>this.X(ab)&&0>n.X(ab))return Gc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),l=n.D(i)>>>16,h=65535&n.D(i);t[2*r+2*i]+=o*h,Zp(t,2*r+2*i),t[2*r+2*i+1]+=s*h,Zp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*l,Zp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*l,Zp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ir(t,0)},yt.gb=function(n){return $_(this,n).h},yt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ir(t,this.h&n.h)},yt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ir(t,this.h|n.h)},yt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ir(t,this.h^n.h)},qp.prototype.createWebChannel=qp.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,x_.NO_ERROR=0,x_.TIMEOUT=8,x_.HTTP_ERROR=6,DT.COMPLETE="complete",Bx.EventType=M_,M_.OPEN="a",M_.CLOSE="b",M_.ERROR="c",M_.MESSAGE="d",os.prototype.listen=os.prototype.O,hi.prototype.listenOnce=hi.prototype.P,hi.prototype.getLastError=hi.prototype.Sa,hi.prototype.getLastErrorCode=hi.prototype.Ia,hi.prototype.getStatus=hi.prototype.da,hi.prototype.getResponseJson=hi.prototype.Wa,hi.prototype.getResponseText=hi.prototype.ja,hi.prototype.send=hi.prototype.ha,hi.prototype.setWithCredentials=hi.prototype.Oa,$c.prototype.digest=$c.prototype.l,$c.prototype.reset=$c.prototype.reset,$c.prototype.update=$c.prototype.j,ir.prototype.add=ir.prototype.add,ir.prototype.multiply=ir.prototype.R,ir.prototype.modulo=ir.prototype.gb,ir.prototype.compare=ir.prototype.X,ir.prototype.toNumber=ir.prototype.ea,ir.prototype.toString=ir.prototype.toString,ir.prototype.getBits=ir.prototype.D,ir.fromNumber=Gc,ir.fromString=function h1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return as(h1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Gc(Math.pow(e,8)),r=Wp,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Gc(Math.pow(e,s)),r=r.R(s).add(Gc(o))):r=(r=r.R(t)).add(Gc(o))}return r};var oL=ec.createWebChannelTransport=function(){return new qp},Lj=ec.getStatEventTarget=function(){return B0()},f1=ec.ErrorCode=x_,aL=ec.EventType=DT,cL=ec.Event=nd,p1=ec.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fj=ec.FetchXmlHttpFactory=O_,cb=ec.WebChannel=Bx,Vj=ec.XhrIo=hi,Uj=ec.Md5=$c,G_=ec.Integer=ir;const g1="@firebase/firestore";class cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let H_="10.5.2";const Qh=new br.Yd("@firebase/firestore");function z_(){return Qh.logLevel}function ze(n,...e){if(Qh.logLevel<=br.in.DEBUG){const t=e.map(d);Qh.debug(`Firestore (${H_}): ${n}`,...t)}}function a(n,...e){if(Qh.logLevel<=br.in.ERROR){const t=e.map(d);Qh.error(`Firestore (${H_}): ${n}`,...t)}}function c(n,...e){if(Qh.logLevel<=br.in.WARN){const t=e.map(d);Qh.warn(`Firestore (${H_}): ${n}`,...t)}}function d(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function f(n="Unexpected state"){const e=`FIRESTORE (${H_}) INTERNAL ASSERTION FAILED: `+n;throw a(e),new Error(e)}function g(n,e){n||f()}function I(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends k.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class P{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cs.UNAUTHENTICATED))}shutdown(){}}class te{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class le{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let o=new P;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new P,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const p=o;e.enqueueRetryable((0,j.Z)(function*(){yield p.promise,yield s(r.currentUser)}))},h=p=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new P)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(g("string"==typeof r.accessToken),new O(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new cs(e)}}class Oe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Je{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Oe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ct{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(g("string"==typeof t.token),this.R=t.token,new ct(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function He(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Yt{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=He(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function _t(n,e){return n<e?-1:n>e?1:0}function tr(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Sr(0,0))}static max(){return new Nt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yh{constructor(e,t,r){void 0===t?t=0:t>e.length&&f(),void 0===r?r=e.length-t:r>e.length-t&&f(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends Yh{construct(e,t,r){return new Mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Yh{construct(e,t,r){return new yr(e,t,r)}static isValidIdentifier(e){return lb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if("\\"===l){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else"`"===l?(o=!o,i++):"."!==l||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(t)}static emptyPath(){return new yr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Mn.fromString(e))}static fromName(e){return new ut(Mn.fromString(e).popFirst(5))}static empty(){return new ut(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Mn(e.slice()))}}function jj(n){return new rc(n.readTime,n.key,-1)}class rc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rc(Nt.min(),ut.empty(),-1)}static max(){return new rc(Nt.max(),ut.empty(),-1)}}function lL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(n.documentKey,e.documentKey),0!==t?t:_t(n.largestBatchId,e.largestBatchId))}const $j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Qp(n){return uL.apply(this,arguments)}function uL(){return uL=(0,j.Z)(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==$j)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),uL.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&f(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},h=>r(h))}),o=!0,s===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next(y=>{o[p]=y,++l,l===s&&r(o)},y=>i(y))}})}static doWhile(e,t){return new ue((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Yp(n){return"IndexedDbTransactionError"===n.name}let ic=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function db(n){return null==n}function hb(n){return 0===n&&1/n==-1/0}function Yj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kr{constructor(e,t){this.comparator=e,this.root=t||eo.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new y1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new y1(this.root,e,this.comparator,!1)}getReverseIterator(){return new y1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new y1(this.root,e,this.comparator,!0)}}class y1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??eo.RED,this.left=i??eo.EMPTY,this.right=s??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new eo(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return eo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw f();const e=this.left.check();if(e!==this.right.check())throw f();return e+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw f()}get value(){throw f()}get color(){throw f()}get left(){throw f()}get right(){throw f()}copy(e,t,r,i,s){return this}insert(e,t,r){return new eo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xj(this.data.getIterator())}getIteratorFrom(e){return new Xj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class Xj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class va{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new va([])}unionWith(e){let t=new vr(yr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tr(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class e7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new e7("Invalid base64 string: "+s):s}}(e);return new ls(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const mX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xp(n){if(g(!!n),"string"==typeof n){let e=0;const t=mX.exec(n);if(g(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ii(n.seconds),nanos:Ii(n.nanos)}}function Ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jh(n){return"string"==typeof n?ls.fromBase64String(n):ls.fromUint8Array(n)}function v1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function I1(n){const e=n.mapValue.fields.__previous_value__;return v1(e)?I1(e):e}function fb(n){const e=Xp(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class _X{constructor(e,t,r,i,s,o,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=h,this.useFetchStreams=p}}class Q_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Q_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Q_&&e.projectId===this.projectId&&e.database===this.database}}const eg_mapValue={fields:{__type__:{stringValue:"__max__"}}};function tg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v1(n)?4:i7(n)?9007199254740991:10:f()}function dd(n,e){if(n===e)return!0;const t=tg(n);if(t!==tg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fb(n).isEqual(fb(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xp(i.timestampValue),l=Xp(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Jh(n.bytesValue).isEqual(Jh(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ii(i.geoPointValue.latitude)===Ii(s.geoPointValue.latitude)&&Ii(i.geoPointValue.longitude)===Ii(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ii(i.integerValue)===Ii(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ii(i.doubleValue),l=Ii(s.doubleValue);return o===l?hb(o)===hb(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return tr(n.arrayValue.values||[],e.arrayValue.values||[],dd);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Yj(o)!==Yj(l))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===l[h]||!dd(o[h],l[h])))return!1;return!0}(n,e);default:return f()}var s}function pb(n,e){return void 0!==(n.values||[]).find(t=>dd(t,e))}function ng(n,e){if(n===e)return 0;const t=tg(n),r=tg(e);if(t!==r)return _t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ii(s.integerValue||s.doubleValue),h=Ii(o.integerValue||o.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return t7(n.timestampValue,e.timestampValue);case 4:return t7(fb(n),fb(e));case 5:return _t(n.stringValue,e.stringValue);case 6:return function(s,o){const l=Jh(s),h=Jh(o);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),h=o.split("/");for(let p=0;p<l.length&&p<h.length;p++){const y=_t(l[p],h[p]);if(0!==y)return y}return _t(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const l=_t(Ii(s.latitude),Ii(o.latitude));return 0!==l?l:_t(Ii(s.longitude),Ii(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],h=o.values||[];for(let p=0;p<l.length&&p<h.length;++p){const y=ng(l[p],h[p]);if(y)return y}return _t(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===eg_mapValue&&o===eg_mapValue)return 0;if(s===eg_mapValue)return 1;if(o===eg_mapValue)return-1;const l=s.fields||{},h=Object.keys(l),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const D=_t(h[C],y[C]);if(0!==D)return D;const x=ng(l[h[C]],p[y[C]]);if(0!==x)return x}return _t(h.length,y.length)}(n.mapValue,e.mapValue);default:throw f()}}function t7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _t(n,e);const t=Xp(n),r=Xp(e),i=_t(t.seconds,r.seconds);return 0!==i?i:_t(t.nanos,r.nanos)}function oI(n){return fL(n)}function fL(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xp(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jh(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=fL(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fL(t.fields[o])}`;return i+"}"}(n.mapValue):f()}function Y_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pL(n){return!!n&&"integerValue"in n}function gb(n){return!!n&&"arrayValue"in n}function n7(n){return!!n&&"nullValue"in n}function r7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w1(n){return!!n&&"mapValue"in n}function mb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function i7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class to{constructor(e){this.value=e}static empty(){return new to({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mb(t)}setAll(e){let t=yr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=l.popLast()}o?r[l.lastSegment()]=mb(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());w1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];w1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Jp(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new to(mb(this.value))}}function a7(n){const e=[];return Jp(n.fields,(t,r)=>{const i=new yr([t]);if(w1(r)){const s=a7(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new va(e)}class Kr{constructor(e,t,r,i,s,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Kr(e,0,Nt.min(),Nt.min(),Nt.min(),to.empty(),0)}static newFoundDocument(e,t,r,i){return new Kr(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new Kr(e,2,t,Nt.min(),Nt.min(),to.empty(),0)}static newUnknownDocument(e,t){return new Kr(e,3,t,Nt.min(),Nt.min(),to.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rg{constructor(e,t){this.position=e,this.inclusive=t}}function c7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?ut.comparator(ut.fromName(o.referenceValue),t.key):ng(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function l7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dd(n.position[t],e.position[t]))return!1;return!0}class _b{constructor(e,t="asc"){this.field=e,this.dir=t}}function IX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class u7{}class Vn extends u7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new CX(e,t,r):"array-contains"===t?new TX(e,r):"in"===t?new m7(e,r):"not-in"===t?new bX(e,r):"array-contains-any"===t?new AX(e,r):new Vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new EX(e,r):new wX(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ng(t,this.value)):null!==t&&tg(this.value)===tg(t)&&this.matchesComparison(ng(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return f()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends u7{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new dr(e,t)}matches(e){return aI(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function aI(n){return"and"===n.op}function mL(n){return function d7(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}(n)&&aI(n)}function _L(n){if(n instanceof Vn)return n.field.canonicalString()+n.op.toString()+oI(n.value);if(mL(n))return n.filters.map(e=>_L(e)).join(",");{const e=n.filters.map(t=>_L(t)).join(",");return`${n.op}(${e})`}}function h7(n,e){return n instanceof Vn?(r=n,(i=e)instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&dd(r.value,i.value)):n instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,l)=>s&&h7(o,i.filters[l]),!0)}(n,e):void f();var r,i}function p7(n){return n instanceof Vn?`${(t=n).field.canonicalString()} ${t.op} ${oI(t.value)}`:n instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(p7).join(" ,")+"}"}(n):"Filter";var t}class CX extends Vn{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class EX extends Vn{constructor(e,t){super(e,"in",t),this.keys=g7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wX extends Vn{constructor(e,t){super(e,"not-in",t),this.keys=g7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function g7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class TX extends Vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gb(t)&&pb(t.arrayValue,this.value)}}class m7 extends Vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pb(this.value.arrayValue,t)}}class bX extends Vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pb(this.value.arrayValue,t)}}class AX extends Vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pb(this.value.arrayValue,r))}}class SX{constructor(e,t=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function yL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new SX(n,e,t,r,i,s,o)}function J_(n){const e=I(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_L(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),db(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oI(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oI(r)).join(",")),e.ce=t}return e.ce}function yb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l7(n.startAt,e.startAt)&&l7(n.endAt,e.endAt)}function T1(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Xh{constructor(e,t=null,r=[],i=[],s=null,o="F",l=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=h,this.le=null,this.he=null,this.Pe=null}}function cI(n){return new Xh(n)}function I7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vL(n){return null!==n.collectionGroup}function lI(n){const e=I(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new vr(yr.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new _b(s,r))}),t.has(yr.keyField().canonicalString())||e.le.push(new _b(yr.keyField(),r))}return e.le}function Bo(n){const e=I(n);return e.he||(e.he=function C7(n,e){if("F"===n.limitType)return yL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new _b(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new rg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rg(n.startAt.position,n.startAt.inclusive):null;return yL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,lI(n))),e.he}function IL(n,e){const t=n.filters.concat([e]);return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function A1(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vb(n,e){return yb(Bo(n),Bo(e))&&n.limitType===e.limitType}function E7(n){return`${J_(Bo(n))}|lt:${n.limitType}`}function uI(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>p7(i)).join(", ")}]`),db(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oI(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oI(i)).join(",")),`Target(${r})`}(Bo(n))}; limitType=${n.limitType})`}function Ib(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of lI(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,l,h){const p=c7(o,l,h);return o.inclusive?p<=0:p<0}(r.startAt,lI(r),i)||r.endAt&&!function(o,l,h){const p=c7(o,l,h);return o.inclusive?p>=0:p>0}(r.endAt,lI(r),i)));var r,i}function T7(n){return(e,t)=>{let r=!1;for(const i of lI(n)){const s=DX(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function DX(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(s,o,l){const h=o.data.field(s),p=l.data.field(s);return null!==h&&null!==p?ng(h,p):f()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return f()}}class ef{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jp(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Jj(this.inner)}size(){return this.innerSize}}const PX=new kr(ut.comparator);function Ia(){return PX}const b7=new kr(ut.comparator);function Cb(...n){let e=b7;for(const t of n)e=e.insert(t.key,t);return e}function A7(n){let e=b7;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hd(){return Eb()}function S7(){return Eb()}function Eb(){return new ef(n=>n.toString(),(n,e)=>n.isEqual(e))}const xX=new kr(ut.comparator),MX=new vr(ut.comparator);function In(...n){let e=MX;for(const t of n)e=e.add(t);return e}const RX=new vr(_t);function D7(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hb(e)?"-0":e}}function P7(n){return{integerValue:""+n}}function x7(n,e){return function Hj(n){return"number"==typeof n&&Number.isInteger(n)&&!hb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?P7(e):D7(n,e)}class S1{constructor(){this._=void 0}}function kX(n,e,t){return n instanceof dI?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&v1(s)&&(s=I1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof X_?R7(n,e):n instanceof ey?k7(n,e):function(i,s){const o=M7(i,s),l=O7(o)+O7(i.Ie);return pL(o)&&pL(i.Ie)?P7(l):D7(i.serializer,l)}(n,e)}function OX(n,e,t){return n instanceof X_?R7(n,e):n instanceof ey?k7(n,e):t}function M7(n,e){return n instanceof hI?pL(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class dI extends S1{}class X_ extends S1{constructor(e){super(),this.elements=e}}function R7(n,e){const t=N7(e);for(const r of n.elements)t.some(i=>dd(i,r))||t.push(r);return{arrayValue:{values:t}}}class ey extends S1{constructor(e){super(),this.elements=e}}function k7(n,e){let t=N7(e);for(const r of n.elements)t=t.filter(i=>!dd(i,r));return{arrayValue:{values:t}}}class hI extends S1{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function O7(n){return Ii(n.integerValue||n.doubleValue)}function N7(n){return gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class LX{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class P1{}function L7(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pI(n.key,ri.none()):new fI(n.key,n.data,ri.none());{const t=n.data,r=to.empty();let i=new vr(yr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new tf(n.key,r,new va(i.toArray()),ri.none())}}function FX(n,e,t){n instanceof fI?function(i,s,o){const l=i.value.clone(),h=U7(i.fieldTransforms,s,o.transformResults);l.setAll(h),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof tf?function(i,s,o){if(!D1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=U7(i.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(V7(i)),h.setAll(l),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tb(n,e,t,r){return n instanceof fI?function(s,o,l,h){if(!D1(s.precondition,o))return l;const p=s.value.clone(),y=B7(s.fieldTransforms,h,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof tf?function(s,o,l,h){if(!D1(s.precondition,o))return l;const p=B7(s.fieldTransforms,h,o),y=o.data;return y.setAll(V7(s)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,D1(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function VX(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=M7(r.transform,i||null);null!=s&&(null===t&&(t=to.empty()),t.set(r.field,s))}return t||null}function F7(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&tr(r,i,(s,o)=>function NX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof X_&&i instanceof X_||r instanceof ey&&i instanceof ey?tr(r.elements,i.elements,dd):r instanceof hI&&i instanceof hI?dd(r.Ie,i.Ie):r instanceof dI&&i instanceof dI);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class fI extends P1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tf extends P1{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function V7(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function U7(n,e,t){const r=new Map;g(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,OX(o,l,t[i]))}return r}function B7(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,kX(s,o,e))}return r}class pI extends P1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EL extends P1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FX(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=S7();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const h=L7(o,l);null!==h&&r.set(i.key,h),o.isValidDocument()||o.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&tr(this.mutations,e.mutations,(t,r)=>F7(t,r))&&tr(this.baseMutations,e.baseMutations,(t,r)=>F7(t,r))}}class TL{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){g(e.mutations.length===r.length);let i=xX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new TL(e,t,r,i)}}class bL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class BX{constructor(e,t){this.count=e,this.unchangedNames=t}}var zi,Gn;function j7(n){switch(n){default:return f();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function $7(n){if(void 0===n)return a("GRPC error has no .code"),E.UNKNOWN;switch(n){case zi.OK:return E.OK;case zi.CANCELLED:return E.CANCELLED;case zi.UNKNOWN:return E.UNKNOWN;case zi.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case zi.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case zi.INTERNAL:return E.INTERNAL;case zi.UNAVAILABLE:return E.UNAVAILABLE;case zi.UNAUTHENTICATED:return E.UNAUTHENTICATED;case zi.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case zi.NOT_FOUND:return E.NOT_FOUND;case zi.ALREADY_EXISTS:return E.ALREADY_EXISTS;case zi.PERMISSION_DENIED:return E.PERMISSION_DENIED;case zi.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case zi.ABORTED:return E.ABORTED;case zi.OUT_OF_RANGE:return E.OUT_OF_RANGE;case zi.UNIMPLEMENTED:return E.UNIMPLEMENTED;case zi.DATA_LOSS:return E.DATA_LOSS;default:return f()}}(Gn=zi||(zi={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";const jX=new G_([4294967295,4294967295],0);function H7(n){const e=function G7(){return new TextEncoder}().encode(n),t=new Uj;return t.update(e),new Uint8Array(t.digest())}function z7(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new G_([t,r],0),new G_([i,s],0)]}class AL{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bb(`Invalid padding: ${t}`);if(r<0)throw new bb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new bb(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=G_.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(G_.fromNumber(r)));return 1===i.compare(jX)&&(i=new G_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=H7(e),[r,i]=z7(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new AL(s,i,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(0===this.Te)return;const t=H7(e),[r,i]=z7(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class bb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ab{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ab(Nt.min(),i,new kr(_t),Ia(),In())}}class Sb{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sb(r,t,In(),In(),In())}}class M1{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class q7{constructor(e,t){this.targetId=e,this.fe=t}}class W7{constructor(e,t,r=ls.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Z7{constructor(){this.ge=0,this.pe=Q7(),this.ye=ls.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=In(),t=In(),r=In();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:f()}}),new Sb(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=Q7()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class $X{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ia(),this.Qe=K7(),this.Ke=new kr(_t)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:f()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(T1(s))if(0===r){const o=new ut(s.path);this.We(t,o,Kr.newNoDocument(o,Nt.min()))}else g(1===r);else{const o=this.Ze(t);if(o!==r){const l=this.Xe(e),h=l?this.et(l,e,o):1;0!==h&&(this.He(t),this.Ke=this.Ke.insert(t,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Jh(r).toUint8Array()}catch(h){if(h instanceof e7)return c("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{l=new AL(o,i,s)}catch(h){return c(h instanceof bb?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return 0===l.Te?null:l}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&T1(l.target)){const h=new ut(l.target.path);null!==this.qe.get(h)||this.st(o,h)||this.We(o,h,Kr.newNoDocument(h,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=In();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(h=>{const p=this.Ye(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ab(e,t,this.Ke,this.qe,r);return this.qe=Ia(),this.Qe=K7(),this.Ke=new kr(_t),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Z7,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new vr(_t),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Z7),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function K7(){return new kr(ut.comparator)}function Q7(){return new kr(ut.comparator)}const GX={asc:"ASCENDING",desc:"DESCENDING"},HX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zX={and:"AND",or:"OR"};class qX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function SL(n,e){return n.useProto3Json||db(e)?e:{value:e}}function gI(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y7(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WX(n,e){return gI(n,e.toTimestamp())}function ki(n){return g(!!n),Nt.fromTimestamp(function(t){const r=Xp(t);return new Sr(r.seconds,r.nanos)}(n))}function DL(n,e){return(r=n,new Mn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function J7(n){const e=Mn.fromString(n);return g(a5(e)),e}function Db(n,e){return DL(n.databaseId,e.path)}function fd(n,e){const t=J7(e);if(t.get(1)!==n.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(e5(t))}function PL(n,e){return DL(n.databaseId,e)}function Pb(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function e5(n){return g(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function t5(n,e,t){return{name:Db(n,e),fields:t.value.mapValue.fields}}function r5(n,e){return{documents:[PL(n,e.path)]}}function ML(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PL(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PL(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0!==h.length)return o5(dr.create(h,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:ig((C=p).field),direction:JX(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=SL(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),t;var h}function i5(n){let e=function X7(n){const e=J7(n);return 4===e.length?Mn.emptyPath():e5(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){g(1===r);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(C){const D=s5(C);return D instanceof dr&&mL(D)?D.getFilters():[D]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(D=>{return new _b(mI((L=D).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let l=null;t.limit&&(l=function(C){let D;return D="object"==typeof C?C.value:C,db(D)?null:D}(t.limit));let h=null;var C;t.startAt&&(h=new rg((C=t.startAt).values||[],!!C.before));let p=null;return t.endAt&&(p=function(C){return new rg(C.values||[],!C.before)}(t.endAt)),function v7(n,e,t,r,i,s,o,l){return new Xh(n,e,t,r,i,s,o,l)}(e,i,o,s,l,"F",h,p)}function s5(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=mI(t.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mI(t.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mI(t.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mI(t.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return f()}}(n):void 0!==n.fieldFilter?Vn.create(mI((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return f()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return dr.create(t.compositeFilter.filters.map(r=>s5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return f()}}(t.compositeFilter.op))}(n):f();var t}function JX(n){return GX[n]}function XX(n){return HX[n]}function eee(n){return zX[n]}function ig(n){return{fieldPath:n.canonicalString()}}function mI(n){return yr.fromServerFormat(n.fieldPath)}function o5(n){return n instanceof Vn?function(t){if("=="===t.op){if(r7(t.value))return{unaryFilter:{field:ig(t.field),op:"IS_NAN"}};if(n7(t.value))return{unaryFilter:{field:ig(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(r7(t.value))return{unaryFilter:{field:ig(t.field),op:"IS_NOT_NAN"}};if(n7(t.value))return{unaryFilter:{field:ig(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ig(t.field),op:XX(t.op),value:t.value}}}(n):n instanceof dr?function(t){const r=t.getFilters().map(i=>o5(i));return 1===r.length?r[0]:{compositeFilter:{op:eee(t.op),filters:r}}}(n):f()}function tee(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function a5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class nf{constructor(e,t,r,i,s=Nt.min(),o=Nt.min(),l=ls.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=h}withSequenceNumber(e){return new nf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c5{constructor(e){this.ut=e}}function RL(n){const e=i5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?A1(e,e.limit,"L"):e}class iy{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ii(e.integerValue));else if("doubleValue"in e){const r=Ii(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),hb(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Jh(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?i7(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):f()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),ut.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}iy.St=new iy;class lee{constructor(){this.on=new VL}addToCollectionParentIndex(e,t){return this.on.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(rc.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(rc.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class VL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vr(Mn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vr(Mn.comparator)).toArray()}}new Uint8Array(0);class _o{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class oy{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new oy(0)}static Nn(){return new oy(-1)}}class yee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class N5{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Tb(r.mutation,i,va.empty(),Sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,In()).next(()=>r))}getLocalViewOfDocuments(e,t,r=In()){const i=hd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Cb();return s.forEach((l,h)=>{o=o.insert(l,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=hd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,In()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,i){let s=Ia();const o=Eb(),l=Eb();return t.forEach((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(void 0===y||y.mutation instanceof tf)?s=s.insert(p.key,p):void 0!==y?(o.set(p.key,y.mutation.getFieldMask()),Tb(y.mutation,p,y.mutation.getFieldMask(),Sr.now())):o.set(p.key,va.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,y)=>o.set(p,y)),t.forEach((p,y)=>{var C;return l.set(p,new yee(y,null!==(C=o.get(p))&&void 0!==C?C:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Eb();let i=new kr((o,l)=>o-l),s=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(h=>{const p=t.get(h);if(null===p)return;let y=r.get(h)||va.empty();y=l.applyToLocalView(p,y),r.set(h,y);const C=(i.get(l.batchId)||In()).add(h);i=i.insert(l.batchId,C)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const h=l.getNext(),p=h.key,y=h.value,C=S7();y.forEach(D=>{if(!s.has(D)){const x=L7(t.get(D),r.get(D));null!==x&&C.set(D,x),s=s.add(D)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,C))}return ue.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return ut.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ue.resolve(hd());let l=-1,h=s;return o.next(p=>ue.forEach(p,(y,C)=>(l<C.largestBatchId&&(l=C.largestBatchId),s.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(D=>{h=h.insert(y,D)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,In())).next(y=>({batchId:l,changes:A7(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let i=Cb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Cb();return this.indexManager.getCollectionParents(e,s).next(l=>ue.forEach(l,h=>{const p=(C=t,D=h.child(s),new Xh(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,D;return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((C,D)=>{o=o.insert(C,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((h,p)=>{const y=p.getKey();null===o.get(y)&&(o=o.insert(y,Kr.newInvalidDocument(y)))});let l=Cb();return o.forEach((h,p)=>{const y=s.get(h);void 0!==y&&Tb(y.mutation,p,va.empty(),Sr.now()),Ib(t,p)&&(l=l.insert(h,p))}),l})}}class vee{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return ue.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:ki(i.createTime)}),ue.resolve();var i}getNamedQuery(e,t){return ue.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:RL(i.bundledQuery),readTime:ki(i.readTime)}),ue.resolve();var i}}class Iee{constructor(){this.overlays=new kr(ut.comparator),this.lr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=hd();return ue.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=hd(),s=t.length+1,o=new ut(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const h=l.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new kr((p,y)=>p-y);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=s.get(p.largestBatchId);null===y&&(y=hd(),s=s.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const l=hd(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>l.set(p,y)),!(l.size()>=i)););return ue.resolve(l)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bL(t,r));let s=this.lr.get(t);void 0===s&&(s=In(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class UL{constructor(){this.hr=new vr(xs.Pr),this.Ir=new vr(xs.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new xs(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new xs(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ut(new Mn([])),r=new xs(t,e),i=new xs(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ut(new Mn([])),r=new xs(t,e),i=new xs(t,e+1);let s=In();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new xs(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xs{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ut.comparator(e.key,t.key)||_t(e.gr,t.gr)}static Tr(e,t){return _t(e.gr,t.gr)||ut.comparator(e.key,t.key)}}class Cee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new vr(xs.Pr)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new wL(s,t,r,i);this.mutationQueue.push(o);for(const l of i)this.yr=this.yr.add(new xs(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(o)}lookupMutationBatch(e,t){return ue.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xs(t,0),i=new xs(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const l=this.wr(o.gr);s.push(l)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vr(_t);return t.forEach(i=>{const s=new xs(i,0),o=new xs(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],l=>{r=r.add(l.gr)})}),ue.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const o=new xs(new ut(s),0);let l=new vr(_t);return this.yr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(h.gr)),!0)},o),ue.resolve(this.br(l))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){g(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return ue.forEach(t.mutations,i=>{const s=new xs(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new xs(t,0),i=this.yr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eee{constructor(e){this.Cr=e,this.docs=new kr(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let r=Ia();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kr.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ia();const o=t.path,l=new ut(o.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||lL(jj(y),r)<=0||(i.has(y.key)||Ib(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,t,r,i){f()}vr(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wee(this)}getSize(e){return ue.resolve(this.size)}}class wee extends class gee{constructor(){this.changes=new ef(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Tee{constructor(e){this.persistence=e,this.Fr=new ef(t=>J_(t),yb),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new UL,this.targetCount=0,this.Nr=oy.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),ue.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new oy(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.kn(t),ue.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,l)=>{l.sequenceNumber<=t&&null===r.get(l.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ue.waitFor(s).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.Or.containsKey(t))}}class BL{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ic(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Tee(this),this.indexManager=new lee,this.remoteDocumentCache=new Eee(r=>this.referenceDelegate.Qr(r)),this.serializer=new c5(t),this.Kr=new vee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Iee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Cee(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const i=new bee(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return ue.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class bee extends class WJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class U1{constructor(e){this.persistence=e,this.Gr=new UL,this.zr=null}static jr(e){return new U1(e)}get Hr(){if(this.zr)return this.zr;throw f()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Hr,r=>{const i=ut.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Nt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return ue.or([()=>ue.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class HL{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=In(),i=In();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HL(e,t.fromCache,r,i)}}class See{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new See;return this.Hi(e,t,o).next(l=>{if(s.result=l,this.$i)return this.Ji(e,t,o,l.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(z_()<=br.in.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",uI(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ue.resolve()):(z_()<=br.in.DEBUG&&ze("QueryEngine","Query:",uI(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(z_()<=br.in.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",uI(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(t))):ue.resolve())}zi(e,t){if(I7(t))return ue.resolve(null);let r=Bo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=A1(t,null,"F"),r=Bo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=In(...s);return this.Gi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.Yi(t,l);return this.Zi(t,p,o,h.readTime)?this.zi(e,A1(t,null,"F")):this.Xi(e,p,t,h)}))})))}ji(e,t,r,i){return I7(t)||i.isEqual(Nt.min())?ue.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?ue.resolve(null):(z_()<=br.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uI(t)),this.Xi(e,o,t,function Bj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Sr(t+1,0):new Sr(t,r));return new rc(i,ut.empty(),e)}(i,-1)).next(l=>l))})}Yi(e,t){let r=new vr(T7(e));return t.forEach((i,s)=>{Ib(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return z_()<=br.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",uI(t)),this.Gi.getDocumentsMatchingQuery(e,t,rc.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dee{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new kr(_t),this.ns=new ef(s=>J_(s),yb),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N5(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function U5(n,e){return zL.apply(this,arguments)}function zL(){return zL=(0,j.Z)(function*(n,e){const t=I(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let h=In();for(const p of i){o.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({_s:p,removedBatchIds:o,addedBatchIds:l}))})})}),zL.apply(this,arguments)}function Pee(n,e){const t=I(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(l,h,p,y){const C=p.batch,D=C.keys();let x=ue.resolve();return D.forEach(L=>{x=x.next(()=>y.getEntry(h,L)).next(z=>{const q=p.docVersions.get(L);g(null!==q),z.version.compareTo(q)<0&&(C.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(h,C))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=In();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function B5(n){const e=I(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function xee(n,e){const t=I(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const l=[];e.targetChanges.forEach((y,C)=>{const D=i.get(C);if(!D)return;l.push(t.qr.removeMatchingKeys(s,y.removedDocuments,C).next(()=>t.qr.addMatchingKeys(s,y.addedDocuments,C)));let x=D.withSequenceNumber(s.currentSequenceNumber);var z,q,de;null!==e.targetMismatches.get(C)?x=x.withResumeToken(ls.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),i=i.insert(C,x),q=x,de=y,(0===(z=D).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&l.push(t.qr.updateTargetData(s,x))});let h=Ia(),p=In();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),l.push(function j5(n,e,t){let r=In(),i=In();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ia();return t.forEach((l,h)=>{const p=s.get(l);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),h.isNoDocument()&&h.version.isEqual(Nt.min())?(e.removeEntry(l,h.readTime),o=o.insert(l,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(l,h)):ze("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",h.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(y=>{h=y.us,p=y.cs})),!r.isEqual(Nt.min())){const y=t.qr.getLastRemoteSnapshotVersion(s).next(C=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(y)}return ue.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(t.ts=i,s))}function Mee(n,e){const t=I(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CI(n,e){const t=I(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,ue.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new nf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function EI(n,e,t){return qL.apply(this,arguments)}function qL(){return qL=(0,j.Z)(function*(n,e,t){const r=I(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yp(o))throw o;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),qL.apply(this,arguments)}function $1(n,e,t){const r=I(n);let i=Nt.min(),s=In();return r.persistence.runTransaction("Execute query","readwrite",o=>function(h,p,y){const C=I(h),D=C.ns.get(y);return void 0!==D?ue.resolve(C.ts.get(D)):C.qr.getTargetData(p,y)}(r,o,Bo(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,l.targetId).next(h=>{s=h})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Nt.min(),t?s:In())).next(l=>(function H5(n,e,t){let r=n.rs.get(e)||Nt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function w7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),l),{documents:l,ls:s})))}class YL{constructor(){this.activeTargetIds=function CL(){return RX}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W5{constructor(){this.eo=new YL,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new YL,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Oee{ro(e){}shutdown(){}}class Z5{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let z1=null;function XL(){return null===z1?z1=268435456+Math.round(2147483648*Math.random()):z1++,"0x"+z1.toString(16)}const Nee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lee{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const yo="WebChannelConnection";class Fee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const l=XL(),h=this.So(t,r);ze("RestConnection",`Sending RPC '${t}' ${l}:`,h,i);const p={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(p,s,o),this.Do(t,h,p,i).then(y=>(ze("RestConnection",`Received RPC '${t}' ${l}: `,y),y),y=>{throw c("RestConnection",`RPC '${t}' ${l} failed with error: `,y,"url: ",h,"request:",i),y})}Co(t,r,i,s,o,l){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+H_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${Nee[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=XL();return new Promise((o,l)=>{const h=new Vj;h.setWithCredentials(!0),h.listenOnce(aL.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case f1.NO_ERROR:const y=h.getResponseJson();ze(yo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case f1.TIMEOUT:ze(yo,`RPC '${e}' ${s} timed out`),l(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case f1.HTTP_ERROR:const C=h.getStatus();if(ze(yo,`RPC '${e}' ${s} failed with status:`,C,"response text:",h.getResponseText()),C>0){let D=h.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D?.error;if(x&&x.status&&x.message){const L=function(q){const de=q.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(de)>=0?de:E.UNKNOWN}(x.status);l(new A(L,x.message))}else l(new A(E.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new A(E.UNAVAILABLE,"Connection failed."));break;default:f()}}finally{ze(yo,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);ze(yo,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}vo(e,t,r){const i=XL(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oL(),l=Lj(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.xmlHttpFactory=new Fj({})),this.bo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=s.join("");ze(yo,`Creating RPC '${e}' stream ${i}: ${y}`,h);const C=o.createWebChannel(y,h);let D=!1,x=!1;const L=new Lee({co:q=>{x?ze(yo,`Not sending because RPC '${e}' stream ${i} is closed:`,q):(D||(ze(yo,`Opening RPC '${e}' stream ${i} transport.`),C.open(),D=!0),ze(yo,`RPC '${e}' stream ${i} sending:`,q),C.send(q))},lo:()=>C.close()}),z=(q,de,Ee)=>{q.listen(de,ge=>{try{Ee(ge)}catch(Le){setTimeout(()=>{throw Le},0)}})};return z(C,cb.EventType.OPEN,()=>{x||ze(yo,`RPC '${e}' stream ${i} transport opened.`)}),z(C,cb.EventType.CLOSE,()=>{x||(x=!0,ze(yo,`RPC '${e}' stream ${i} transport closed`),L.Ro())}),z(C,cb.EventType.ERROR,q=>{x||(x=!0,c(yo,`RPC '${e}' stream ${i} transport errored:`,q),L.Ro(new A(E.UNAVAILABLE,"The operation could not be completed")))}),z(C,cb.EventType.MESSAGE,q=>{var de;if(!x){const Ee=q.data[0];g(!!Ee);const ge=Ee,Le=ge.error||(null===(de=ge[0])||void 0===de?void 0:de.error);if(Le){ze(yo,`RPC '${e}' stream ${i} received error:`,Le);const ot=Le.status;let tt=function(bi){const ba=zi[bi];if(void 0!==ba)return $7(ba)}(ot),zt=Le.message;void 0===tt&&(tt=E.INTERNAL,zt="Unknown error status: "+ot+" with message "+Le.message),x=!0,L.Ro(new A(tt,zt)),C.close()}else ze(yo,`RPC '${e}' stream ${i} received:`,Ee),L.Vo(Ee)}}),z(l,cL.STAT_EVENT,q=>{q.stat===p1.PROXY?ze(yo,`RPC '${e}' stream ${i} detected buffering proxy`):q.stat===p1.NOPROXY&&ze(yo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.Ao()},0),L}}function q1(){return typeof document<"u"?document:null}function Vb(n){return new qX(n,!0)}class eF{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Q5{constructor(e,t,r,i,s,o,l,h){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new eF(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,j.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,j.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,j.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(a(t.toString()),a("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,j.Z)(function*(){e.state=0,e.start()}))}o_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vee extends Q5{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function KX(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:f(),i=e.targetChange.targetIds||[],s=function(p,y){return p.useProto3Json?(g(void 0===y||"string"==typeof y),ls.fromBase64String(y||"")):(g(void 0===y||y instanceof Uint8Array),ls.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(p){const y=void 0===p.code?E.UNKNOWN:$7(p.code);return new A(y,p.message||"")}(o);t=new W7(r,i,s,l||null)}else if("documentChange"in e){const r=e.documentChange,i=fd(n,r.document.name),s=ki(r.document.updateTime),o=r.document.createTime?ki(r.document.createTime):Nt.min(),l=new to({mapValue:{fields:r.document.fields}}),h=Kr.newFoundDocument(i,s,o,l);t=new M1(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=fd(n,r.document),s=r.readTime?ki(r.readTime):Nt.min(),o=Kr.newNoDocument(i,s);t=new M1([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=fd(n,r.document);t=new M1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return f();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new BX(i,s);t=new q7(r.targetId,o)}}var p;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Nt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?ki(o.readTime):Nt.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Pb(this.serializer),t.addTarget=function(s,o){let l;const h=o.target;if(l=T1(h)?{documents:r5(s,h)}:{query:ML(s,h)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Y7(s,o.resumeToken);const p=SL(s,o.expectedCount);null!==p&&(l.expectedCount=p)}else if(o.snapshotVersion.compareTo(Nt.min())>0){l.readTime=gI(s,o.snapshotVersion.toTimestamp());const p=SL(s,o.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const r=function YX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return f()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Pb(this.serializer),t.removeTarget=e,this.e_(t)}}class Uee extends Q5{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function QX(n,e){return n&&n.length>0?(g(void 0!==e),n.map(t=>function(i,s){let o=ki(i.updateTime?i.updateTime:s);return o.isEqual(Nt.min())&&(o=ki(s)),new LX(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.I_(r,t)}return g(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Pb(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function xb(n,e){let t;if(e instanceof fI)t={update:t5(n,e.key,e.value)};else if(e instanceof pI)t={delete:Db(n,e.key)};else if(e instanceof tf)t={update:t5(n,e.key,e.data),updateMask:tee(e.fieldMask)};else{if(!(e instanceof EL))return f();t={verify:Db(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof dI)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof X_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ey)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof hI)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw f()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:WX(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:f()),t;var s}(this.serializer,r))};this.e_(t)}}class Bee extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(E.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class $ee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(a(t),this.f_=!1):ze("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Gee{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(l=>{r.enqueueAndForget((0,j.Z)(function*(){var h;cg(o)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,j.Z)(function*(y){const C=I(y);C.C_.add(4),yield wI(C),C.M_.set("Unknown"),C.C_.delete(4),yield Ub(C)}),function p(y){return h.apply(this,arguments)})(o))}))}),this.M_=new $ee(r,i)}}function Ub(n){return nF.apply(this,arguments)}function nF(){return nF=(0,j.Z)(function*(n){if(cg(n))for(const e of n.v_)yield e(!0)}),nF.apply(this,arguments)}function wI(n){return rF.apply(this,arguments)}function rF(){return rF=(0,j.Z)(function*(n){for(const e of n.v_)yield e(!1)}),rF.apply(this,arguments)}function W1(n,e){const t=I(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),oF(t)?sF(t):bI(t).Ho()&&iF(t,e))}function Bb(n,e){const t=I(n),r=bI(t);t.D_.delete(e),r.Ho()&&Y5(t,e),0===t.D_.size&&(r.Ho()?r.Zo():cg(t)&&t.M_.set("Unknown"))}function iF(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bI(n).u_(e)}function Y5(n,e){n.x_.Oe(e),bI(n).c_(e)}function sF(n){n.x_=new $X({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),bI(n).start(),n.M_.g_()}function oF(n){return cg(n)&&!bI(n).jo()&&n.D_.size>0}function cg(n){return 0===I(n).C_.size}function J5(n){n.x_=void 0}function Hee(n){return aF.apply(this,arguments)}function aF(){return aF=(0,j.Z)(function*(n){n.D_.forEach((e,t)=>{iF(n,e)})}),aF.apply(this,arguments)}function zee(n,e){return cF.apply(this,arguments)}function cF(){return cF=(0,j.Z)(function*(n,e){J5(n),oF(n)?(n.M_.w_(e),sF(n)):n.M_.set("Unknown")}),cF.apply(this,arguments)}function qee(n,e,t){return lF.apply(this,arguments)}function lF(){return lF=(0,j.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof W7&&2===e.state&&e.cause)try{yield(r=(0,j.Z)(function*(s,o){const l=o.cause;for(const h of o.targetIds)s.D_.has(h)&&(yield s.remoteSyncer.rejectListen(h,l),s.D_.delete(h),s.x_.removeTarget(h))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Z1(n,r)}else if(e instanceof M1?n.x_.$e(e):e instanceof q7?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Nt.min()))try{const r=yield B5(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const l=s.x_.it(o);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=s.D_.get(p);y&&s.D_.set(p,y.withResumeToken(h.resumeToken,o))}}),l.targetMismatches.forEach((h,p)=>{const y=s.D_.get(h);if(!y)return;s.D_.set(h,y.withResumeToken(ls.EMPTY_BYTE_STRING,y.snapshotVersion)),Y5(s,h);const C=new nf(y.target,h,p,y.sequenceNumber);iF(s,C)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield Z1(n,r)}var r}),lF.apply(this,arguments)}function Z1(n,e,t){return uF.apply(this,arguments)}function uF(){return uF=(0,j.Z)(function*(n,e,t){if(!Yp(e))throw e;n.C_.add(1),yield wI(n),n.M_.set("Offline"),t||(t=()=>B5(n.localStore)),n.asyncQueue.enqueueRetryable((0,j.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Ub(n)}))}),uF.apply(this,arguments)}function X5(n,e){return e().catch(t=>Z1(n,t,e))}function TI(n){return dF.apply(this,arguments)}function dF(){return dF=(0,j.Z)(function*(n){const e=I(n),t=lg(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Wee(e);)try{const i=yield Mee(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Zee(e,i)}catch(i){yield Z1(e,i)}e$(e)&&t$(e)}),dF.apply(this,arguments)}function Wee(n){return cg(n)&&n.b_.length<10}function Zee(n,e){n.b_.push(e);const t=lg(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function e$(n){return cg(n)&&!lg(n).jo()&&n.b_.length>0}function t$(n){lg(n).start()}function Kee(n){return hF.apply(this,arguments)}function hF(){return hF=(0,j.Z)(function*(n){lg(n).E_()}),hF.apply(this,arguments)}function Qee(n){return fF.apply(this,arguments)}function fF(){return fF=(0,j.Z)(function*(n){const e=lg(n);for(const t of n.b_)e.P_(t.mutations)}),fF.apply(this,arguments)}function Yee(n,e,t){return pF.apply(this,arguments)}function pF(){return pF=(0,j.Z)(function*(n,e,t){const r=n.b_.shift(),i=TL.from(r,e,t);yield X5(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield TI(n)}),pF.apply(this,arguments)}function Jee(n,e){return gF.apply(this,arguments)}function gF(){return gF=(0,j.Z)(function*(n,e){var t;e&&lg(n).h_&&(yield(t=(0,j.Z)(function*(i,s){if(j7(l=s.code)&&l!==E.ABORTED){const o=i.b_.shift();lg(i).Yo(),yield X5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield TI(i)}var l}),function r(i,s){return t.apply(this,arguments)})(n,e)),e$(n)&&t$(n)}),gF.apply(this,arguments)}function n$(n,e){return mF.apply(this,arguments)}function mF(){return mF=(0,j.Z)(function*(n,e){const t=I(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=cg(t);t.C_.add(3),yield wI(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Ub(t)}),mF.apply(this,arguments)}function yF(){return yF=(0,j.Z)(function*(n,e){const t=I(n);e?(t.C_.delete(2),yield Ub(t)):e||(t.C_.add(2),yield wI(t),t.M_.set("Unknown"))}),yF.apply(this,arguments)}function bI(n){return n.O_||(n.O_=function(t,r,i){const s=I(t);return s.A_(),new Vee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Hee.bind(null,n),Io:zee.bind(null,n),a_:qee.bind(null,n)}),n.v_.push(function(){var e=(0,j.Z)(function*(t){t?(n.O_.Yo(),oF(n)?sF(n):n.M_.set("Unknown")):(yield n.O_.stop(),J5(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function lg(n){return n.N_||(n.N_=function(t,r,i){const s=I(t);return s.A_(),new Uee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Kee.bind(null,n),Io:Jee.bind(null,n),T_:Qee.bind(null,n),I_:Yee.bind(null,n)}),n.v_.push(function(){var e=(0,j.Z)(function*(t){t?(n.N_.Yo(),yield TI(n)):(yield n.N_.stop(),n.b_.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class vF{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new P,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,l=new vF(e,t,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AI(n,e){if(a("AsyncQueue",`${e}: ${n}`),Yp(n))return new A(E.UNAVAILABLE,`${e}: ${n}`);throw n}class SI{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=Cb(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new SI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof SI)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new SI;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class r${constructor(){this.B_=new kr(ut.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):f():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class DI{constructor(e,t,r,i,s,o,l,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new DI(e,t,SI.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xee{constructor(){this.k_=void 0,this.listeners=[]}}class ete{constructor(){this.queries=new ef(e=>E7(e),vb),this.onlineState="Unknown",this.q_=new Set}}function CF(){return CF=(0,j.Z)(function*(n,e){const t=I(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Xee),i)try{s.k_=yield t.onListen(r)}catch(o){const l=AI(o,`Initialization of query '${uI(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&TF(t)}),CF.apply(this,arguments)}function wF(){return wF=(0,j.Z)(function*(n,e){const t=I(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),wF.apply(this,arguments)}function tte(n,e){const t=I(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const l of o.listeners)l.K_(i)&&(r=!0);o.k_=i}}r&&TF(t)}function nte(n,e,t){const r=I(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function TF(n){n.q_.forEach(e=>{e.next()})}class bF{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new DI(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=DI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class o${constructor(e){this.key=e}}class a${constructor(e){this.key=e}}class c${constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=In(),this.mutatedKeys=In(),this._a=T7(e),this.aa=new SI(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new r$,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const h="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,p="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,C)=>{const D=i.get(y),x=Ib(this.query,C)?C:null,L=!!D&&this.mutatedKeys.has(D.key),z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let q=!1;D&&x?D.data.isEqual(x.data)?L!==z&&(r.track({type:3,doc:x}),q=!0):this.ha(D,x)||(r.track({type:2,doc:x}),q=!0,(h&&this._a(x,h)>0||p&&this._a(x,p)<0)&&(l=!0)):!D&&x?(r.track({type:0,doc:x}),q=!0):D&&!x&&(r.track({type:1,doc:D}),q=!0,(h||p)&&(l=!0)),q&&(x?(o=o.add(x),s=z?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const y="F"===this.query.limitType?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{aa:o,la:r,Zi:l,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((p,y)=>function(D,x){const L=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return f()}};return L(D)-L(x)}(p.type,y.type)||this._a(p.doc,y.doc)),this.Pa(r);const o=t?this.Ia():[],l=0===this.oa.size&&this.current?1:0,h=l!==this.sa;return this.sa=l,0!==s.length||h?{snapshot:new DI(this.query,e.aa,i,s,e.mutatedKeys,0===l,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new r$,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=In(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new a$(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new o$(r))}),t}da(e){this.ia=e.ls,this.oa=In();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return DI.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ste{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ote{constructor(e){this.key=e,this.Ra=!1}}class ate{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ef(l=>E7(l),vb),this.fa=new Map,this.ga=new Set,this.pa=new kr(ut.comparator),this.ya=new Map,this.wa=new UL,this.Sa={},this.ba=new Map,this.Da=oy.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function cte(n,e){return AF.apply(this,arguments)}function AF(){return AF=(0,j.Z)(function*(n,e){const t=KF(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield CI(t.localStore,Bo(e)),l=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield SF(t,e,r,"current"===l,o.resumeToken),t.isPrimaryClient&&W1(t.remoteStore,o)}return i}),AF.apply(this,arguments)}function SF(n,e,t,r,i){return DF.apply(this,arguments)}function DF(){return DF=(0,j.Z)(function*(n,e,t,r,i){n.va=(C,D,x)=>{return(L=(0,j.Z)(function*(q,de,Ee,ge){let Le=de.view.ca(Ee);Le.Zi&&(Le=yield $1(q.localStore,de.query,!1).then(({documents:zt})=>de.view.ca(zt,Le)));const ot=ge&&ge.targetChanges.get(de.targetId),tt=de.view.applyChanges(Le,q.isPrimaryClient,ot);return VF(q,de.targetId,tt.Ta),tt.snapshot}),function z(q,de,Ee,ge){return L.apply(this,arguments)})(n,C,D,x);var L};const s=yield $1(n.localStore,e,!0),o=new c$(e,s.ls),l=o.ca(s.documents),h=Sb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),p=o.applyChanges(l,n.isPrimaryClient,h);VF(n,t,p.Ta);const y=new ste(e,t,o);return n.ma.set(e,y),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),p.snapshot}),DF.apply(this,arguments)}function lte(n,e){return PF.apply(this,arguments)}function PF(){return PF=(0,j.Z)(function*(n,e){const t=I(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!vb(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield EI(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Bb(t.remoteStore,r.targetId),PI(t,r.targetId)}).catch(Qp))):(PI(t,r.targetId),yield EI(t.localStore,r.targetId,!0))}),PF.apply(this,arguments)}function xF(){return xF=(0,j.Z)(function*(n,e,t){const r=QF(n);try{const i=yield function(o,l){const h=I(o),p=Sr.now(),y=l.reduce((x,L)=>x.add(L.key),In());let C,D;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let L=Ia(),z=In();return h.ss.getEntries(x,y).next(q=>{L=q,L.forEach((de,Ee)=>{Ee.isValidDocument()||(z=z.add(de))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,L)).next(q=>{C=q;const de=[];for(const Ee of l){const ge=VX(Ee,C.get(Ee.key).overlayedDocument);null!=ge&&de.push(new tf(Ee.key,ge,a7(ge.value.mapValue),ri.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,de,l)}).next(q=>{D=q;const de=q.applyToLocalDocumentSet(C,z);return h.documentOverlayCache.saveOverlays(x,q.batchId,de)})}).then(()=>({batchId:D.batchId,changes:A7(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,h){let p=o.Sa[o.currentUser.toKey()];p||(p=new kr(_t)),p=p.insert(l,h),o.Sa[o.currentUser.toKey()]=p}(r,i.batchId,t),yield rf(r,i.changes),yield TI(r.remoteStore)}catch(i){const s=AI(i,"Failed to persist write");t.reject(s)}}),xF.apply(this,arguments)}function l$(n,e){return MF.apply(this,arguments)}function MF(){return MF=(0,j.Z)(function*(n,e){const t=I(n);try{const r=yield xee(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(g(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?g(o.Ra):i.removedDocuments.size>0&&(g(o.Ra),o.Ra=!1))}),yield rf(t,r,e)}catch(r){yield Qp(r)}}),MF.apply(this,arguments)}function u$(n,e,t){const r=I(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const l=o.view.Q_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const h=I(o);h.onlineState=l;let p=!1;h.queries.forEach((y,C)=>{for(const D of C.listeners)D.Q_(l)&&(p=!0)}),p&&TF(h)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dte(n,e,t){return RF.apply(this,arguments)}function RF(){return RF=(0,j.Z)(function*(n,e,t){const r=I(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new kr(ut.comparator);o=o.insert(s,Kr.newNoDocument(s,Nt.min()));const l=In().add(s),h=new Ab(Nt.min(),new Map,new kr(_t),o,l);yield l$(r,h),r.pa=r.pa.remove(s),r.ya.delete(e),UF(r)}else yield EI(r.localStore,e,!1).then(()=>PI(r,e,t)).catch(Qp)}),RF.apply(this,arguments)}function hte(n,e){return kF.apply(this,arguments)}function kF(){return kF=(0,j.Z)(function*(n,e){const t=I(n),r=e.batch.batchId;try{const i=yield Pee(t.localStore,e);FF(t,r,null),LF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rf(t,i)}catch(i){yield Qp(i)}}),kF.apply(this,arguments)}function fte(n,e,t){return OF.apply(this,arguments)}function OF(){return OF=(0,j.Z)(function*(n,e,t){const r=I(n);try{const i=yield function(o,l){const h=I(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,l).next(C=>(g(null!==C),y=C.keys(),h.mutationQueue.removeMutationBatch(p,C))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);FF(r,e,t),LF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rf(r,i)}catch(i){yield Qp(i)}}),OF.apply(this,arguments)}function LF(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function FF(n,e,t){const r=I(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function PI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||d$(n,r)})}function d$(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Bb(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),UF(n))}function VF(n,e,t){for(const r of t)r instanceof o$?(n.wa.addReference(r.key,e),gte(n,r)):r instanceof a$?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||d$(n,r.key)):f()}function gte(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.ga.add(r),UF(n))}function UF(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ut(Mn.fromString(e)),r=n.Da.next();n.ya.set(r,new ote(t)),n.pa=n.pa.insert(t,r),W1(n.remoteStore,new nf(Bo(cI(t.path)),r,"TargetPurposeLimboResolution",ic._e))}}function rf(n,e,t){return BF.apply(this,arguments)}function BF(){return BF=(0,j.Z)(function*(n,e,t){const r=I(n),i=[],s=[],o=[];var l;r.ma.isEmpty()||(r.ma.forEach((l,h)=>{o.push(r.va(h,e,t).then(p=>{if((p||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){i.push(p);const y=HL.Qi(h.targetId,p);s.push(y)}}))}),yield Promise.all(o),r.Va.a_(i),yield(l=(0,j.Z)(function*(p,y){const C=I(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ue.forEach(y,x=>ue.forEach(x.ki,L=>C.persistence.referenceDelegate.addReference(D,x.targetId,L)).next(()=>ue.forEach(x.qi,L=>C.persistence.referenceDelegate.removeReference(D,x.targetId,L)))))}catch(D){if(!Yp(D))throw D;ze("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const x=D.targetId;if(!D.fromCache){const L=C.ts.get(x),q=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);C.ts=C.ts.insert(x,q)}}}),function h(p,y){return l.apply(this,arguments)})(r.localStore,s))}),BF.apply(this,arguments)}function mte(n,e){return jF.apply(this,arguments)}function jF(){return jF=(0,j.Z)(function*(n,e){const t=I(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield U5(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(l=>{l.forEach(h=>{h.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rf(t,r._s)}var s}),jF.apply(this,arguments)}function _te(n,e){const t=I(n),r=t.ya.get(e);if(r&&r.Ra)return In().add(r.key);{let i=In();const s=t.fa.get(e);if(!s)return i;for(const o of s){const l=t.ma.get(o);i=i.unionWith(l.view.ua)}return i}}function KF(n){const e=I(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=l$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_te.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dte.bind(null,e),e.Va.a_=tte.bind(null,e.eventManager),e.Va.Fa=nte.bind(null,e.eventManager),e}function QF(n){const e=I(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fte.bind(null,e),e}class K1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,j.Z)(function*(){t.serializer=Vb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function V5(n,e,t,r){return new Dee(n,e,t,r)}(this.persistence,new F5,e.initialUser,this.serializer)}createPersistence(e){return new BL(U1.jr,this.serializer)}createSharedClientState(e){return new W5}terminate(){var e=this;return(0,j.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xI{initialize(e,t){var r=this;return(0,j.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>u$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mte.bind(null,r.syncEngine),yield function _F(n,e){return yF.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ete}createDatastore(e){const t=Vb(e.databaseInfo.databaseId),r=new Fee(e.databaseInfo);return new Bee(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>u$(this.syncEngine,t,0),l=Z5.D()?new Z5:new Oee,new Gee(r,i,s,o,l);var r,i,s,o,l}createSyncEngine(e,t){return function(i,s,o,l,h,p,y){const C=new ate(i,s,o,l,h,p);return y&&(C.Ca=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,j.Z)(function*(r){const i=I(r);ze("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield wI(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):a("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xte{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=cs.UNAUTHENTICATED,this.clientId=Yt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,j.Z)(function*(l){ze("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,j.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new P;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,j.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=AI(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Y1(n,e){return YF.apply(this,arguments)}function YF(){return YF=(0,j.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,j.Z)(function*(s){r.isEqual(s)||(yield U5(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YF.apply(this,arguments)}function JF(n,e){return XF.apply(this,arguments)}function XF(){return XF=(0,j.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield eV(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>n$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>n$(e.remoteStore,s)),n._onlineComponents=e}),XF.apply(this,arguments)}function _$(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function eV(n){return tV.apply(this,arguments)}function tV(){return tV=(0,j.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Y1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_$(t))throw t;c("Error using user provided cache. Falling back to memory cache: "+t),yield Y1(n,new K1)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield Y1(n,new K1);return n._offlineComponents}),tV.apply(this,arguments)}function J1(n){return nV.apply(this,arguments)}function nV(){return nV=(0,j.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield JF(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield JF(n,new xI))),n._onlineComponents}),nV.apply(this,arguments)}function iV(){return iV=(0,j.Z)(function*(n){const e=yield J1(n),t=e.eventManager;return t.onListen=cte.bind(null,e.syncEngine),t.onUnlisten=lte.bind(null,e.syncEngine),t}),iV.apply(this,arguments)}function E$(n,e,t={}){const r=new P;return n.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return function(s,o,l,h,p){const y=new Q1({next:D=>{o.enqueueAndForget(()=>function EF(n,e){return wF.apply(this,arguments)}(s,C)),D.fromCache&&"server"===h.source?p.reject(new A(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new bF(l,y,{includeMetadataChanges:!0,J_:!0});return function IF(n,e){return CF.apply(this,arguments)}(s,C)}(yield function RI(n){return iV.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function w$(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const T$=new Map;function sV(n,e,t){if(!t)throw new A(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function b$(n){if(!ut.isDocumentKey(n))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A$(n){if(ut.isDocumentKey(n))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function X1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":f()}function Un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=X1(n);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class D${constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function jte(n,e,t,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=w$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new H;switch(r.type){case"firstParty":return new Je(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=T$.get(t);r&&(ze("ComponentProvider","Removing Datastore"),T$.delete(t),r.terminate())}(this),Promise.resolve()}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Oi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class pd extends no{constructor(e,t,r){super(e,t,cI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new ut(e))}withConverter(e){return new pd(this.firestore,e,this._path)}}class Hte{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new eF(this,"async_queue_retry"),this.iu=()=>{const t=q1();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=q1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=q1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new P;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,j.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Yp(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,a("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=vF.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&f()}verifyOperationInProgress(){}uu(){var e=this;return(0,j.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Or extends jb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Hte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||M$(this),this._firestoreClient.terminate()}}function Ni(n){return n._firestoreClient||M$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function M$(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _X(n._databaseId,h,n._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,w$(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new xte(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class cy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cy(ls.fromBase64String(e))}catch(t){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cy(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class O${constructor(e){this._methodName=e}}class aV{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}const Zte=/^__.*__$/;function L$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw f()}}class eM{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new eM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return nM(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(L$(this.Iu)&&Zte.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Qte{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vb(e)}pu(e,t,r,i=!1){return new eM({Iu:e,methodName:t,gu:r,path:yr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(n,e){if($$(n=(0,k.m9)(n)))return function uV(n,e,t){if(!$$(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=X1(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}("Unsupported field value:",e,n),function j$(n,e){const t={};return Jj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jp(n,(r,i)=>{const s=ly(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}(n,e);if(n instanceof O$)return function(r,i){if(!L$(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let h=ly(l,i.Vu(o));null==h&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,k.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return x7(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Sr.fromDate(r);return{timestampValue:gI(i.serializer,s)}}if(r instanceof Sr){const s=new Sr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gI(i.serializer,s)}}if(r instanceof aV)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cy)return{bytesValue:Y7(i.serializer,r._byteString)};if(r instanceof Oi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DL(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${X1(r)}`)}(n,e)}function $$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof aV||n instanceof cy||n instanceof Oi||n instanceof O$)}const ene=new RegExp("[~\\*/\\[\\]]");function nM(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new A(E.INVALID_ARGUMENT,l+n+h)}class dV{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tne extends dV{data(){return super.data()}}function rM(n,e){return"string"==typeof e?function tM(n,e,t){if(e.search(ene)>=0)throw nM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kI(...e.split("."))._internalPath}catch{throw nM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof kI?e._internalPath:e._delegate._internalPath}class hV{}class nne extends hV{}class zb extends nne{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zb(e,t,r)}_apply(e){const t=this._parse(e);return Z$(e._query,t),new no(e.firestore,e.converter,IL(e._query,t))}_parse(e){const t=function OI(n){const e=n._freezeSettings(),t=Vb(n._databaseId);return new Qte(n._databaseId,!!e.ignoreUndefinedProperties,t)}(e.firestore);return function(s,o,l,h,p,y,C){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new A(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){W$(C,y);const x=[];for(const L of C)x.push(q$(h,s,L));D={arrayValue:{values:x}}}else D=q$(h,s,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||W$(C,y),D=function B$(n,e,t,r=!1){return ly(t,n.pu(r?4:3,e))}(l,"where",C,"in"===y||"not-in"===y);return Vn.create(p,y,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class NI extends hV{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new NI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const h of l)Z$(o,h),o=IL(o,h)}(e._query,t),new no(e.firestore,e.converter,IL(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function q$(n,e,t){if("string"==typeof(t=(0,k.m9)(t))){if(""===t)throw new A(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vL(e)&&-1!==t.indexOf("/"))throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mn.fromString(t));if(!ut.isDocumentKey(r))throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y_(n,new ut(r))}if(t instanceof Oi)return Y_(n,t._key);throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${X1(t)}.`)}function W$(n,e){if(!Array.isArray(n)||0===n.length)throw new A(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z$(n,e){const t=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new A(E.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LI extends dV{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new aM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rM("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class aM extends LI{data(e={}){return super.data(e)}}class FI{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new aM(this._firestore,this._userDataWriter,r.key,r,new uy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new aM(i._firestore,i._userDataWriter,l.doc.key,l.doc,new uy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const h=new aM(i._firestore,i._userDataWriter,l.doc.key,l.doc,new uy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==l.type&&(p=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),y=o.indexOf(l.doc.key)),{type:ane(l.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ane(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return f()}}class ug extends class sne{convertValue(e,t="none"){switch(tg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw f()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Jp(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new aV(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=I1(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fb(e));default:return null}}convertTimestamp(e){const t=Xp(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mn.fromString(e);g(a5(r));const i=new Q_(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(t)||a(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new cy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,t)}}function qb(n,e){return function(r,i){const s=new P;return r.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return function ute(n,e,t){return xF.apply(this,arguments)}(yield function rV(n){return J1(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Ni(n),e)}!function(e,t=!0){H_=un.SDK_VERSION,(0,un._registerComponent)(new Ts.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Or(new le(r.getProvider("auth-internal")),new Mt(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q_(p.options.projectId,y)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(g1,"4.3.2",e),(0,un.registerVersion)(g1,"4.3.2","esm2017")}();var _V=$(6451),uM=$(5363),Ene=$(6063);class wne extends Tr.x{constructor(e=1/0,t=1/0,r=Ene.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let l=0;for(let h=1;h<r.length&&r[h]<=o;h+=2)l=h;l&&r.splice(0,l+1)}}}var X$=$(3099);function eG(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,X$.B)({connector:()=>new wne(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function tG(n,e){return(0,xl.m)(e)?Mr(()=>n,e):Mr(()=>n)}var yV=$(9468),Gt=$(710),us=$(2011),gd=$(8140);class dg{constructor(e){return e}}class Wb{constructor(){return(0,gd.C6)()}}const vV=new u.OlP("angularfire2._apps"),bne={provide:dg,useFactory:function Tne(n){return n&&1===n.length?n[0]:new dg((0,gd.Mq)())},deps:[[new u.FiY,vV]]},Ane={provide:Wb,deps:[[new u.FiY,vV]]};function Sne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dg(r)}}let Dne=(()=>{class n{constructor(t){(0,gd.KN)("angularfire",Gt.q4.full,"core"),(0,gd.KN)("angularfire",Gt.q4.full,"app"),(0,gd.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bne,Ane]}),n})();function Pne(n,...e){return{ngModule:Dne,providers:[{provide:vV,useFactory:Sne(n),multi:!0,deps:[u.R0b,u.zs3,Gt.HU,...e]}]}}const xne=(0,Gt.u3)(gd.ZF,!0),IV=new Map,nG={activated:!1,tokenObservers:[]},Mne={initialized:!1,enabled:!1};function Ci(n){return IV.get(n)||Object.assign({},nG)}function dM(){return Mne}class Fne{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,j.Z)(function*(){t.stop();try{t.pending=new k.BH,yield function Vne(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new k.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ro=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EV(n){if(!Ci(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function pM(n,e){return TV.apply(this,arguments)}function TV(){return TV=(0,j.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,l;try{o=yield fetch(n,s)}catch(C){throw ro.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==o.status)throw ro.create("fetch-status-error",{httpStatus:o.status});try{l=yield o.json()}catch(C){throw ro.create("fetch-parse-error",{originalErrorMessage:C?.message})}const h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const p=1e3*Number(h[1]),y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}}),TV.apply(this,arguments)}function iG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Zb="firebase-app-check-store";let gM=null;function oG(){return gM||(gM=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ro.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zb,{keyPath:"compositeKey"})}}catch(t){e(ro.create("storage-open",{originalErrorMessage:t?.message}))}}),gM)}function bV(){return bV=(0,j.Z)(function*(n,e){const r=(yield oG()).transaction(Zb,"readwrite"),s=r.objectStore(Zb).put({compositeKey:n,value:e});return new Promise((o,l)=>{s.onsuccess=h=>{o()},r.onerror=h=>{var p;l(ro.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})}),bV.apply(this,arguments)}const Kb=new br.Yd("@firebase/app-check");function DV(n,e){return(0,k.hl)()?function zne(n,e){return function aG(n,e){return bV.apply(this,arguments)}(function lG(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Kb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xV(){return dM().enabled}function MV(){return RV.apply(this,arguments)}function RV(){return RV=(0,j.Z)(function*(){const n=dM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RV.apply(this,arguments)}const Yne={error:"UNKNOWN_ERROR"};function Jne(n){return k.US.encodeString(JSON.stringify(n),!1)}function mM(n){return kV.apply(this,arguments)}function kV(){return kV=(0,j.Z)(function*(n,e=!1){const t=n.app;EV(t);const r=Ci(t);let s,i=r.token;if(i&&!VI(i)&&(r.token=void 0,i=void 0),!i){const h=yield r.cachedTokenPromise;h&&(VI(h)?i=h:yield DV(t,void 0))}if(!e&&i&&VI(i))return{token:i.token};let l,o=!1;if(xV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pM(iG(t,yield MV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const h=yield r.exchangeTokenPromise;return yield DV(t,h),r.token=h,{token:h.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ci(t).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Kb.warn(h.message):Kb.error(h),s=h}return i?s?l=VI(i)?{token:i.token,internalError:s}:fG(s):(l={token:i.token},r.token=i,yield DV(t,i)):l=fG(s),o&&hG(t,l),l}),kV.apply(this,arguments)}function OV(){return OV=(0,j.Z)(function*(n){const e=n.app;EV(e);const{provider:t}=Ci(e);if(xV()){const r=yield MV(),{token:i}=yield pM(iG(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),OV.apply(this,arguments)}function LV(n,e){const t=Ci(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function dG(n){const{app:e}=n,t=Ci(e);let r=t.tokenRefresher;r||(r=function Xne(n){const{app:e}=n;return new Fne((0,j.Z)(function*(){let r;if(r=Ci(e).token?yield mM(n,!0):yield mM(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ci(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hG(n,e){const t=Ci(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function VI(n){return n.expireTimeMillis-Date.now()>0}function fG(n){return{token:Jne(Yne),error:n}}class ere{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ci(this.app);for(const t of e)LV(this.app,t.next);return Promise.resolve()}}const CG="app-check-internal";!function pre(){(0,un._registerComponent)(new Ts.wA("app-check",n=>function tre(n,e){return new ere(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CG).initialize()})),(0,un._registerComponent)(new Ts.wA(CG,n=>function nre(n){return{getToken:e=>mM(n,e),getLimitedUseToken:()=>function uG(n){return OV.apply(this,arguments)}(n),addTokenListener:e=>function NV(n,e,t,r){const{app:i}=n,s=Ci(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&VI(s.token)){const l=s.token;Promise.resolve().then(()=>{t({token:l.token}),dG(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>dG(n))}(n,"INTERNAL",e),removeTokenListener:e=>LV(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,un.registerVersion)("@firebase/app-check","0.8.0")}();class sf{constructor(){return(0,Gt.vb)("app-check")}}typeof window<"u"&&window;var yM=$(1274);const jV=new u.OlP("angularfire2.auth.use-emulator"),$V=new u.OlP("angularfire2.auth.settings"),GV=new u.OlP("angularfire2.auth.tenant-id"),HV=new u.OlP("angularfire2.auth.langugage-code"),zV=new u.OlP("angularfire2.auth.use-device-language"),qV=new u.OlP("angularfire.auth.persistence"),WV=(n,e,t,r,i,s,o,l)=>(0,us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),r&&(h.tenantId=r),h.languageCode=i,s&&h.useDeviceLanguage(),o)for(const[p,y]of Object.entries(o))h.settings[p]=y;return l&&h.setPersistence(l),h},[t,r,i,s,o,l]);let hg=(()=>{class n{constructor(t,r,i,s,o,l,h,p,y,C,D,x){const L=new Tr.x,z=xt(void 0).pipe((0,uM.Q)(o.outsideAngular),Mr(()=>s.runOutsideAngular(()=>Promise.resolve().then($.bind($,5054)))),(0,jt.U)(()=>(0,us.on)(t,s,r)),(0,jt.U)(q=>WV(q,s,l,p,y,C,h,D)),eG({bufferSize:1,refCount:!1}));if(Yo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xt(null);else{z.pipe(zs()).subscribe();const de=z.pipe(Mr(Le=>Le.getRedirectResult().then(ot=>ot,()=>null)),Gt.iC,eG({bufferSize:1,refCount:!1})),Ee=z.pipe(Mr(Le=>new vs.y(ot=>({unsubscribe:s.runOutsideAngular(()=>Le.onAuthStateChanged(tt=>ot.next(tt),tt=>ot.error(tt),()=>ot.complete()))})))),ge=z.pipe(Mr(Le=>new vs.y(ot=>({unsubscribe:s.runOutsideAngular(()=>Le.onIdTokenChanged(tt=>ot.next(tt),tt=>ot.error(tt),()=>ot.complete()))}))));this.authState=de.pipe(tG(Ee),(0,yV.R)(o.outsideAngular),(0,uM.Q)(o.insideAngular)),this.user=de.pipe(tG(ge),(0,yV.R)(o.outsideAngular),(0,uM.Q)(o.insideAngular)),this.idToken=this.user.pipe(Mr(Le=>Le?(0,On.D)(Le.getIdToken()):xt(null))),this.idTokenResult=this.user.pipe(Mr(Le=>Le?(0,On.D)(Le.getIdTokenResult()):xt(null))),this.credential=(0,_V.T)(de,L,this.authState.pipe(xi(Le=>!Le))).pipe((0,jt.U)(Le=>Le?.user?Le:null),(0,yV.R)(o.outsideAngular),(0,uM.Q)(o.insideAngular))}return(0,us.pX)(this,z,s,{spy:{apply:(q,de,Ee)=>{(q.startsWith("signIn")||q.startsWith("createUser"))&&Ee.then(ge=>L.next(ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us.Dh),u.LFG(us.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gt.HU),u.LFG(jV,8),u.LFG($V,8),u.LFG(GV,8),u.LFG(HV,8),u.LFG(zV,8),u.LFG(qV,8),u.LFG(sf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ire=(()=>{class n{constructor(){yM.Z.registerVersion("angularfire",Gt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hg]}),n})(),wG=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),dy=(()=>{class n extends wG{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const md=new u.OlP("NgValueAccessor"),wre={provide:md,useExisting:(0,u.Gpc)(()=>af),multi:!0},bre=new u.OlP("CompositionEventMode");let af=(()=>{class n extends wG{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tre(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(bre,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[u._Bn([wre]),u.qOj]}),n})();const vo=new u.OlP("NgValidators"),pg=new u.OlP("NgAsyncValidators");function vM(n){return null}function OG(n){return null!=n}function NG(n){return(0,u.QGY)(n)?(0,On.D)(n):n}function LG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FG(n,e){return e.map(t=>t(n))}function VG(n){return n.map(e=>function Dre(n){return!n.validate}(e)?e:t=>e.validate(t))}function ZV(n){return null!=n?function UG(n){if(!n)return null;const e=n.filter(OG);return 0==e.length?null:function(t){return LG(FG(t,e))}}(VG(n)):null}function KV(n){return null!=n?function BG(n){if(!n)return null;const e=n.filter(OG);return 0==e.length?null:function(t){return function Cre(...n){const e=(0,ji.jO)(n),{args:t,keys:r}=Pc(n),i=new vs.y(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let h=o,p=o;for(let y=0;y<o;y++){let C=!1;(0,aa.Xf)(t[y]).subscribe((0,zr.x)(s,D=>{C||(C=!0,p--),l[y]=D},()=>h--,void 0,()=>{(!h||!C)&&(p||s.next(r?sa(r,l):l),s.complete())}))}});return e?i.pipe(tp(e)):i}(FG(t,e).map(NG)).pipe((0,jt.U)(LG))}}(VG(n)):null}function jG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QV(n){return n?Array.isArray(n)?n:[n]:[]}function IM(n,e){return Array.isArray(n)?n.includes(e):n===e}function HG(n,e){const t=QV(e);return QV(n).forEach(i=>{IM(t,i)||t.push(i)}),t}function zG(n,e){return QV(e).filter(t=>!IM(n,t))}class qG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZV(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class jo extends qG{get formDirective(){return null}get path(){return null}}class gg extends qG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let hy=(()=>{class n extends class WG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gg,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const Qb="VALID",EM="INVALID",UI="PENDING",Yb="DISABLED";function KG(n){return Array.isArray(n)?ZV(n):n||null}function QG(n){return Array.isArray(n)?KV(n):n||null}function wM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Jb(n,e){(function r4(n,e){const t=function $G(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(jG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function GG(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(jG(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();AM(e._rawValidators,i),AM(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Vre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eH(n,e)})}(n,e),function Bre(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ure(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fre(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function AM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zre={provide:gg,useExisting:(0,u.Gpc)(()=>mg)},lH=(()=>Promise.resolve())();let mg=(()=>{class n extends gg{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class XG{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=KG(this._rawValidators),this._composedAsyncValidatorFn=QG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qb}get invalid(){return this.status===EM}get pending(){return this.status==UI}get disabled(){return this.status===Yb}get enabled(){return this.status!==Yb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=KG(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=QG(e)}addValidators(e){this.setValidators(HG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zG(e,this._rawAsyncValidators))}hasValidator(e){return IM(this._rawValidators,e)}hasAsyncValidator(e){return IM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=UI,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qb||this.status===UI)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yb:Qb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=UI,this._hasOwnPendingAsyncValidator=!0;const t=NG(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Yb:this.errors?EM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(UI)?UI:this._anyControlsHaveStatus(EM)?EM:Qb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function e4(n){return(wM(n)?n.validators:n)||null}(t),function t4(n,e){return(wM(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sH(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function s4(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===af?t=s:function Gre(n){return Object.getPrototypeOf(n.constructor)===dy}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function i4(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lH.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);lH.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function TM(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jo,9),u.Y36(vo,10),u.Y36(pg,10),u.Y36(md,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Zre]),u.qOj,u.TTD]}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const sie={provide:md,useExisting:(0,u.Gpc)(()=>DM),multi:!0};function yH(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let DM=(()=>{class n extends dy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=yH(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function oie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([sie]),u.qOj]}),n})(),u4=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(yH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(DM,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const aie={provide:md,useExisting:(0,u.Gpc)(()=>d4),multi:!0};function vH(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let d4=(()=>{class n extends dy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let l=0;l<o.length;l++){const p=this._getOptionValue(o[l].value);i.push(p)}}else{const o=r.options;for(let l=0;l<o.length;l++){const h=o[l];if(h.selected){const p=this._getOptionValue(h.value);i.push(p)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function cie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([aie]),u.qOj]}),n})(),h4=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(vH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vH(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(d4,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let fy=(()=>{class n{constructor(){this._validator=vM}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const gie={provide:vo,useExisting:(0,u.Gpc)(()=>p4),multi:!0};let p4=(()=>{class n extends fy{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function IH(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function RG(n){return e=>function bG(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([gie]),u.qOj]}),n})(),_ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dH]}),n})(),yie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_ie]}),n})();const DH=(0,un.initializeApp)({apiKey:"AIzaSyA4c2OycAAjcVGB6yBFOO64Exs8vo-94zY",authDomain:"n423-data-harrell.firebaseapp.com",projectId:"n423-data-harrell",storageBucket:"n423-data-harrell.appspot.com",messagingSenderId:"187657843004",appId:"1:187657843004:web:3cee58a9d206c7209a6e39",measurementId:"G-98FJJCDDW9"}),Cie=Gh(DH),Eie=function qte(n,e){const t="object"==typeof n?n:(0,un.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,un._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,k.P0)("firestore");s&&function $te(n,e,t,r={}){var i;const s=(n=Un(n,jb))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=cs.MOCK_USER;else{l=(0,k.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new cs(p)}n._authCredentials=new te(new O(l,h))}}(i,...s)}return i}(DH);let wie=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r,this.email="",this.password=""}ngOnInit(){}navigate(t){this.router.navigate([t])}loginUser(){var t=this;return(0,j.Z)(function*(){(function Ri(n,e,t){return function s_(n,e){return Xv.apply(this,arguments)}((0,k.m9)(n),Fh.credential(e,t)).catch(function(){var r=(0,j.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function a_(n){return n0.apply(this,arguments)}(n),i});return function(i){return r.apply(this,arguments)}}())})(Cie,t.email,t.password).then((0,j.Z)(function*(){localStorage.setItem("userIsLoggedIn",JSON.stringify("true")),t.router.navigate(["explore"]),setTimeout(()=>{window.location.reload()},1500);const r=function rne(n,e,...t){let r=[];e instanceof hV&&r.push(e),r=r.concat(t),function(s){const o=s.filter(h=>h instanceof NI).length,l=s.filter(h=>h instanceof zb).length;if(o>1||o>0&&l>0)throw new A(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}(function Gte(n,e,...t){if(n=(0,k.m9)(n),sV("collection","path",e),n instanceof jb){const r=Mn.fromString(e,...t);return A$(r),new pd(n,null,r)}{if(!(n instanceof Oi||n instanceof pd))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return A$(r),new pd(n.firestore,null,r)}}(Eie,"Users"),function ine(n,e,t){const r=e,i=rM("where",n);return zb._create(i,r,t)}("email","==",t.email)),i=yield function cne(n){n=Un(n,no);const e=Un(n.firestore,Or),t=Ni(e),r=new ug(e);return function H$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),E$(t,n._query).then(i=>new FI(e,r,n,i))}(r);console.log("query ",i.docs),i.docs.length>0?i.forEach(s=>{console.log(s.id," => ",s.data());const o=s.data();console.log(o.fName),console.log(o.lName),localStorage.setItem("fullName",o.fName+" "+o.lName),localStorage.setItem("firstLetter",o.fName.charAt(0).toUpperCase()),localStorage.setItem("fname",o.fName.charAt(0).toUpperCase()+o.fName.slice(1)),localStorage.setItem("lname",o.lName.charAt(0).toUpperCase()+o.lName.slice(1)),localStorage.setItem("email",o.email),localStorage.setItem("profileImg",o.profileImg)}):console.log("no data")})).catch(r=>{console.log(r.code),alert("Wrong credentials"),localStorage.setItem("userIsLoggedIn",JSON.stringify("false"))})})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vn),u.Y36(hg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:33,vars:2,consts:[[1,"loginsection"],[1,"loginsection-content"],[1,"loginsection-content-titleBtns"],[3,"click"],[1,"on",3,"click"],[1,"loginsection-content-loginInfo"],["for","email"],["id","email","placeholder","users@flash.com","type","email",3,"ngModel","ngModelChange"],["for","password"],["id","password","placeholder","*********","type","password",3,"ngModel","ngModelChange"],["id","loginUser","type","submit",3,"click"],["id","wave2","viewBox","0 0 1440 490","version","1.1","xmlns","http://www.w3.org/2000/svg",2,"transform","rotate(180deg)","transition","0.3s"],["id","sw-gradient-0","x1","0","x2","0","y1","1","y2","0"],["stop-color","rgba(251, 133, 0, 1)","offset","0%"],["stop-color","rgba(255, 183, 3, 1)","offset","100%"],["fill","url(#sw-gradient-0)","d","M0,392L26.7,392C53.3,392,107,392,160,343C213.3,294,267,196,320,171.5C373.3,147,427,196,480,204.2C533.3,212,587,180,640,204.2C693.3,229,747,310,800,302.2C853.3,294,907,196,960,196C1013.3,196,1067,294,1120,285.8C1173.3,278,1227,163,1280,114.3C1333.3,65,1387,82,1440,98C1493.3,114,1547,131,1600,155.2C1653.3,180,1707,212,1760,220.5C1813.3,229,1867,212,1920,236.8C1973.3,261,2027,327,2080,351.2C2133.3,376,2187,359,2240,367.5C2293.3,376,2347,408,2400,367.5C2453.3,327,2507,212,2560,171.5C2613.3,131,2667,163,2720,147C2773.3,131,2827,65,2880,32.7C2933.3,0,2987,0,3040,24.5C3093.3,49,3147,98,3200,163.3C3253.3,229,3307,310,3360,351.2C3413.3,392,3467,392,3520,343C3573.3,294,3627,196,3680,155.2C3733.3,114,3787,131,3813,138.8L3840,147L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 0px)","opacity","1"],["id","sw-gradient-1","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-1)","d","M0,49L26.7,65.3C53.3,82,107,114,160,163.3C213.3,212,267,278,320,269.5C373.3,261,427,180,480,196C533.3,212,587,327,640,375.7C693.3,425,747,408,800,367.5C853.3,327,907,261,960,212.3C1013.3,163,1067,131,1120,138.8C1173.3,147,1227,196,1280,204.2C1333.3,212,1387,180,1440,147C1493.3,114,1547,82,1600,57.2C1653.3,33,1707,16,1760,57.2C1813.3,98,1867,196,1920,196C1973.3,196,2027,98,2080,65.3C2133.3,33,2187,65,2240,138.8C2293.3,212,2347,327,2400,359.3C2453.3,392,2507,343,2560,269.5C2613.3,196,2667,98,2720,81.7C2773.3,65,2827,131,2880,130.7C2933.3,131,2987,65,3040,32.7C3093.3,0,3147,0,3200,57.2C3253.3,114,3307,229,3360,261.3C3413.3,294,3467,245,3520,261.3C3573.3,278,3627,359,3680,375.7C3733.3,392,3787,343,3813,318.5L3840,294L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 50px)","opacity","0.9"],["id","sw-gradient-2","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-2)","d","M0,343L26.7,302.2C53.3,261,107,180,160,147C213.3,114,267,131,320,155.2C373.3,180,427,212,480,236.8C533.3,261,587,278,640,310.3C693.3,343,747,392,800,367.5C853.3,343,907,245,960,212.3C1013.3,180,1067,212,1120,253.2C1173.3,294,1227,343,1280,318.5C1333.3,294,1387,196,1440,196C1493.3,196,1547,294,1600,277.7C1653.3,261,1707,131,1760,114.3C1813.3,98,1867,196,1920,196C1973.3,196,2027,98,2080,98C2133.3,98,2187,196,2240,220.5C2293.3,245,2347,196,2400,187.8C2453.3,180,2507,212,2560,236.8C2613.3,261,2667,278,2720,302.2C2773.3,327,2827,359,2880,318.5C2933.3,278,2987,163,3040,163.3C3093.3,163,3147,278,3200,294C3253.3,310,3307,229,3360,171.5C3413.3,114,3467,82,3520,98C3573.3,114,3627,180,3680,228.7C3733.3,278,3787,310,3813,326.7L3840,343L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 100px)","opacity","0.8"],[1,"loginsection-right"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),u.NdJ("click",function(){return r.navigate("signin")}),u._uU(4,"Sign Up"),u.qZA(),u.TgZ(5,"a",4),u.NdJ("click",function(){return r.navigate("login")}),u._uU(6,"Log in"),u.qZA()(),u.TgZ(7,"div",5)(8,"label",6),u._uU(9,"Email"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(s){return r.email=s}),u.qZA(),u.TgZ(11,"label",8),u._uU(12,"Password"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(s){return r.password=s}),u.qZA(),u.TgZ(14,"button",10),u.NdJ("click",function(){return r.loginUser()}),u._uU(15,"Log in"),u.qZA()(),u.O4$(),u.TgZ(16,"svg",11)(17,"defs")(18,"linearGradient",12),u._UZ(19,"stop",13)(20,"stop",14),u.qZA()(),u._UZ(21,"path",15),u.TgZ(22,"defs")(23,"linearGradient",16),u._UZ(24,"stop",13)(25,"stop",14),u.qZA()(),u._UZ(26,"path",17),u.TgZ(27,"defs")(28,"linearGradient",18),u._UZ(29,"stop",13)(30,"stop",14),u.qZA()(),u._UZ(31,"path",19),u.qZA()(),u.kcU(),u._UZ(32,"div",20),u.qZA()),2&t&&(u.xp6(10),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngModel",r.password))},dependencies:[af,hy,mg],styles:[".loginsection[_ngcontent-%COMP%]{width:100%;min-height:82vh;display:flex;align-items:center;justify-content:space-between}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{width:600px;min-height:80vh;position:relative;border-radius:20px;margin:25px auto;box-shadow:#32325d26 0 6px 12px -2px,#0003 0 3px 7px -3px}#wave2[_ngcontent-%COMP%]{position:absolute;z-index:5;top:0;left:0;border-radius:20px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:100%;height:90px;margin-top:150px;padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:15px;padding-bottom:3px;color:#023047cc;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:2rem;font-weight:700}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:var(--darkblue-color);border-bottom:4px dotted var(--teal-color)}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{width:100%;height:300px;padding:25px 50px;display:flex;flex-direction:column}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:5px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;border-radius:10px;height:45px;padding-left:10px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}#loginUser[_ngcontent-%COMP%]{margin-top:30px;border:none;background-color:#219dbcb3;border-radius:10px;height:60px;padding-left:10px;color:#fff;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:1.2rem;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease}#loginUser[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}@media screen and (max-width: 650px){.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{margin:25px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:300px;height:50px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.7rem}}@media screen and (max-width: 400px){.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{margin:25px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:300px;height:50px;margin-top:120px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.7rem}}"]}),n})();var Tie=$(9500),zc=$(9752);class PM{constructor(e){return e}}class xM{constructor(){return(0,Gt.vb)("auth")}}const g4=new u.OlP("angularfire2.auth-instances");function Aie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new PM(r)}}const Sie={provide:xM,deps:[[new u.FiY,g4]]},Die={provide:PM,useFactory:function bie(n,e){const t=(0,Gt.JM)("auth",n,e);return t&&new PM(t)},deps:[[new u.FiY,g4],dg]};let Pie=(()=>{class n{constructor(){(0,gd.KN)("angularfire",Gt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Die,Sie]}),n})();function xie(n,...e){return{ngModule:Pie,providers:[{provide:g4,useFactory:Aie(n),multi:!0,deps:[u.R0b,u.zs3,Gt.HU,Wb,[new u.FiY,sf],...e]}]}}const Mie=(0,Gt.u3)(Tie.o,!0),xH="firebasestorage.googleapis.com",MH="storageBucket";class fi extends k.ZR{constructor(e,t,r=0){super(m4(e),`Firebase Storage: ${t} (${m4(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return m4(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Nr=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Nr||(Nr={})),Nr))();function m4(n){return"storage/"+n}function _4(){return new fi(Nr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function RH(){return new fi(Nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kH(){return new fi(Nr.CANCELED,"User canceled the upload/download.")}function OH(){return new fi(Nr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BI(n){return new fi(Nr.INVALID_ARGUMENT,n)}function NH(){return new fi(Nr.APP_DELETED,"The Firebase app was deleted.")}function LH(n){return new fi(Nr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eA(n,e){return new fi(Nr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function tA(n){throw new fi(Nr.INTERNAL_ERROR,"Internal error: "+n)}class Io{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Io.makeFromUrl(e,t)}catch{return new Io(e,"")}if(""===r.path)return r;throw function jie(n){return new fi(Nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",l=new RegExp("^gs://"+i+"(/(.*))?$","i");function p(Le){Le.path_=decodeURIComponent(Le.path)}const C=t.replace(/[.]/g,"\\."),ge=[{regex:l,indices:{bucket:1,path:3},postModify:function s(Le){"/"===Le.path.charAt(Le.path.length-1)&&(Le.path_=Le.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===xH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let Le=0;Le<ge.length;Le++){const ot=ge[Le],tt=ot.regex.exec(e);if(tt){let $n=tt[ot.indices.path];$n||($n=""),r=new Io(tt[ot.indices.bucket],$n),ot.postModify(r);break}}if(null==r)throw function Bie(n){return new fi(Nr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class qie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MM(n){return"string"==typeof n||n instanceof String}function FH(n){return y4()&&n instanceof Blob}function y4(){return typeof Blob<"u"&&!(0,k.UG)()}function v4(n,e,t,r){if(r<e)throw BI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw BI(`Invalid value for '${n}'. Expected ${t} or less.`)}function cf(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function VH(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var _g=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(_g||(_g={})),_g))();function UH(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class Jie{constructor(e,t,r,i,s,o,l,h,p,y,C,D=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=C,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,L)=>{this.resolve_=x,this.reject_=L,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(l,l.getResponse());!function Kie(n){return void 0!==n}(h)?s():s(h)}catch(h){o(h)}else if(null!==l){const h=_4();h.serverResponse=l.getErrorText(),o(this.errorCallback_?this.errorCallback_(l,h):h)}else o(i.canceled?this.appDelete_?NH():kH():RH())};this.canceled_?t(0,new RM(!1,null,!0)):this.backoffId_=function Wie(n,e,t){let r=1,i=null,s=null,o=!1,l=0;function h(){return 2===l}let p=!1;function y(...q){p||(p=!0,e.apply(null,q))}function C(q){i=setTimeout(()=>{i=null,n(x,h())},q)}function D(){s&&clearTimeout(s)}function x(q,...de){if(p)return void D();if(q)return D(),void y.call(null,q,...de);if(h()||o)return D(),void y.call(null,q,...de);let ge;r<64&&(r*=2),1===l?(l=2,ge=0):ge=1e3*(r+Math.random()),C(ge)}let L=!1;function z(q){L||(L=!0,D(),!p&&(null!==i?(q||(l=2),clearTimeout(i),C(0)):q||(l=1)))}return C(0),s=setTimeout(()=>{o=!0,z(!0)},t),z}((r,i)=>{if(i)return void r(!1,new RM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{null!==this.progressCallback_&&this.progressCallback_(l.loaded,l.lengthComputable?l.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===_g.NO_ERROR,h=s.getStatus();if(!l||UH(h,this.additionalRetryCodes_)&&this.retry){const y=s.getErrorCode()===_g.ABORT;return void r(!1,new RM(!1,null,y))}const p=-1!==this.successCodes_.indexOf(h);r(!0,new RM(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Zie(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RM{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sse(...n){const e=function ise(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(y4())return new Blob(n);throw new fi(Nr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const sc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class I4{constructor(e,t){this.data=e,this.contentType=t||null}}function C4(n,e){switch(n){case sc.RAW:return new I4(BH(e));case sc.BASE64:case sc.BASE64URL:return new I4(jH(n,e));case sc.DATA_URL:return new I4(function lse(n){const e=new $H(n);return e.base64?jH(sc.BASE64,e.rest):function cse(n){let e;try{e=decodeURIComponent(n)}catch{throw eA(sc.DATA_URL,"Malformed data URL.")}return BH(e)}(e.rest)}(e),function use(n){return new $H(n).contentType}(e))}throw _4()}function BH(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function jH(n,e){switch(n){case sc.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw eA(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case sc.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw eA(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function ase(n){if(typeof atob>"u")throw function zie(n){return new fi(Nr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:eA(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class $H{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw eA(sc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function dse(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class _d{constructor(e,t){let r=0,i="";FH(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(FH(this.data_)){const i=function ose(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new _d(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new _d(r,!0)}}static getBlob(...e){if(y4()){const t=e.map(r=>r instanceof _d?r.data_:r);return new _d(sse.apply(null,t))}{const t=e.map(o=>MM(o)?C4(sc.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new _d(i,!0)}}uploadData(){return this.data_}}function E4(n){let e;try{e=JSON.parse(n)}catch{return null}return function Yie(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function GH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function pse(n,e){return e}class $o{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||pse}}let kM=null;function nA(){if(kM)return kM;const n=[];n.push(new $o("bucket")),n.push(new $o("generation")),n.push(new $o("metageneration")),n.push(new $o("name","fullPath",!0));const t=new $o("name");t.xform=function e(s,o){return function gse(n){return!MM(n)||n.length<2?n:GH(n)}(o)},n.push(t);const i=new $o("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new $o("timeCreated")),n.push(new $o("updated")),n.push(new $o("md5Hash",null,!0)),n.push(new $o("cacheControl",null,!0)),n.push(new $o("contentDisposition",null,!0)),n.push(new $o("contentEncoding",null,!0)),n.push(new $o("contentLanguage",null,!0)),n.push(new $o("contentType",null,!0)),n.push(new $o("metadata","customMetadata",!0)),kM=n,kM}function HH(n,e,t){const r=E4(e);return null===r?null:function _se(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function mse(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Io(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function w4(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const zH="prefixes";class yd{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vd(n){if(!n)throw _4()}function OM(n,e){return function t(r,i){const s=HH(n,i,e);return vd(null!==s),s}}function jI(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Vie(){return new fi(Nr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Fie(){return new fi(Nr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Lie(n){return new fi(Nr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Uie(n){return new fi(Nr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function rA(n){const e=jI(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Nie(n){return new fi(Nr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function WH(n,e,t){const i=cf(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,l=new yd(i,"GET",OM(n,t),o);return l.errorHandler=rA(e),l}function wse(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const l=cf(e.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,y=new yd(l,"GET",function Cse(n,e){return function t(r,i){const s=function Ise(n,e,t){const r=E4(t);return null===r?null:function vse(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[zH])for(const i of t[zH]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new Io(e,s));r.prefixes.push(o)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new Io(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return vd(null!==s),s}}(n,e.bucket),p);return y.urlParams=s,y.errorHandler=jI(e),y}function KH(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Sse(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class NM{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function T4(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{vd(!1)}return vd(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Mse={STATE_CHANGED:"state_changed"},Go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function b4(n){switch(n){case"running":case"pausing":case"canceling":return Go.RUNNING;case"paused":return Go.PAUSED;case"success":return Go.SUCCESS;case"canceled":return Go.CANCELED;default:return Go.ERROR}}class Rse{constructor(e,t,r){if(function Qie(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function $I(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Ose extends class kse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_g.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_g.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_g.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw tA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tA("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tA("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tA("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ql(){return new Ose}class XH{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=nA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Nr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(UH(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=RH()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Nr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Dse(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=KH(e,r,i),l={name:o.fullPath},h=cf(s,n.host,n._protocol),y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},C=w4(o,t),L=new yd(h,"POST",function x(z){let q;T4(z);try{q=z.getResponseHeader("X-Goog-Upload-URL")}catch{vd(!1)}return vd(MM(q)),q},n.maxUploadRetryTime);return L.urlParams=l,L.headers=y,L.body=C,L.errorHandler=jI(e),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Pse(n,e,t,r){const h=new yd(t,"POST",function s(p){const y=T4(p,["active","final"]);let C=null;try{C=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vd(!1)}C||vd(!1);const D=Number(C);return vd(!isNaN(D)),new NM(D,r.size(),"final"===y)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=jI(e),h}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ql,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new NM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function xse(n,e,t,r,i,s,o,l){const h=new NM(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw function Gie(){return new fi(Nr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let y=p;i>0&&(y=Math.min(y,i));const C=h.current;let x="";x=0===y?"finalize":p===y?"upload, finalize":"upload";const L={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${h.current}`},z=r.slice(C,C+y);if(null===z)throw OH();const ge=new yd(t,"POST",function q(Le,ot){const tt=T4(Le,["active","final"]),zt=h.current+y,$n=r.size();let bi;return bi="final"===tt?OM(e,s)(Le,ot):null,new NM(zt,$n,"final"===tt,bi)},e.maxUploadRetryTime);return ge.headers=L,ge.body=z.uploadData(),ge.progressCallback=l||null,ge.errorHandler=jI(n),ge}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const l=this._ref.storage._makeRequest(o,Ql,i,s,!1);this._request=l,l.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=WH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function QH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},h=function l(){let ge="";for(let Le=0;Le<2;Le++)ge+=Math.random().toString().slice(2);return ge}();o["Content-Type"]="multipart/related; boundary="+h;const p=KH(e,r,i),y=w4(p,t),x=_d.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+y+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",r,"\r\n--"+h+"--");if(null===x)throw OH();const L={name:p.fullPath},z=cf(s,n.host,n._protocol),de=n.maxUploadRetryTime,Ee=new yd(z,"POST",OM(n,t),de);return Ee.urlParams=L,Ee.headers=o,Ee.body=x.uploadData(),Ee.errorHandler=jI(e),Ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=kH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=b4(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new Rse(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(b4(this._state)){case Go.SUCCESS:$I(this._resolve.bind(null,this.snapshot))();break;case Go.CANCELED:case Go.ERROR:$I(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(b4(this._state)){case Go.RUNNING:case Go.PAUSED:e.next&&$I(e.next.bind(e,this.snapshot))();break;case Go.SUCCESS:e.complete&&$I(e.complete.bind(e))();break;default:e.error&&$I(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class py{constructor(e,t){this._service=e,this._location=t instanceof Io?t:Io.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new py(e,t)}get root(){const e=new Io(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GH(this._location.path)}get storage(){return this._service}get parent(){const e=function hse(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Io(this._location.bucket,e);return new py(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw LH(e)}}function tz(n,e,t){return A4.apply(this,arguments)}function A4(){return A4=(0,j.Z)(function*(n,e,t){const i=yield nz(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield tz(n,e,i.nextPageToken))}),A4.apply(this,arguments)}function nz(n,e){null!=e&&"number"==typeof e.maxResults&&v4("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=wse(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ql)}function qse(n){n._throwIfRoot("getDownloadURL");const e=function Tse(n,e,t){const i=cf(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,l=new yd(i,"GET",function Ese(n,e){return function t(r,i){const s=HH(n,i,e);return vd(null!==s),function yse(n,e,t,r){const i=E4(e);if(null===i||!MM(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(p=>{const C=n.fullPath;return cf("/b/"+o(n.bucket)+"/o/"+o(C),t,r)+VH({alt:"media",token:p})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return l.errorHandler=rA(e),l}(n.storage,n._location,nA());return n.storage.makeRequestWithTokens(e,Ql).then(t=>{if(null===t)throw function Hie(){return new fi(Nr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function rz(n,e){const t=function fse(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Io(n._location.bucket,t);return new py(n.storage,r)}function iz(n,e){if(n instanceof S4){const t=n;if(null==t._bucket)throw function $ie(){return new fi(Nr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MH+"' property when initializing the app?")}();const r=new py(t,t._bucket);return null!=e?iz(r,e):r}return void 0!==e?rz(n,e):n}function Qse(n,e){if(e&&function Zse(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof S4)return function Kse(n,e){return new py(n,e)}(n,e);throw BI("To use ref(service, url), the first argument must be a Storage instance.")}return iz(n,e)}function sz(n,e){const t=e?.[MH];return null==t?null:Io.makeFromBucketSpec(t,n)}class S4{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Io.makeFromBucketSpec(i,this._host):sz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Io.makeFromBucketSpec(this._url,e):sz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,j.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,j.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new py(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new qie(NH());{const o=function rse(n,e,t,r,i,s,o=!0){const l=VH(n.urlParams),h=n.url+l,p=Object.assign({},n.headers);return function tse(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function Xie(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function ese(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function nse(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,r),new Jie(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return(0,j.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const oz="@firebase/storage",cz="storage";function lz(n,e,t){return function jse(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new XH(n,new _d(e),t)}(n=(0,k.m9)(n),e,t)}function uz(n){return qse(n=(0,k.m9)(n))}function D4(n,e){return Qse(n=(0,k.m9)(n),e)}function ioe(n=(0,un.getApp)(),e){n=(0,k.m9)(n);const r=(0,un._getProvider)(n,cz).getImmediate({identifier:e}),i=(0,k.P0)("storage");return i&&dz(r,...i),r}function dz(n,e,t,r={}){!function Yse(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,k.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function soe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new S4(t,r,i,e,un.SDK_VERSION)}!function ooe(){(0,un._registerComponent)(new Ts.wA(cz,soe,"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(oz,"0.11.2",""),(0,un.registerVersion)(oz,"0.11.2","esm2017")}();class GI{constructor(e){return e}}const hz="storage",P4=new u.OlP("angularfire2.storage-instances");function loe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GI(r)}}const uoe={provide:class aoe{constructor(){return(0,Gt.vb)(hz)}},deps:[[new u.FiY,P4]]},doe={provide:GI,useFactory:function coe(n,e){const t=(0,Gt.JM)(hz,n,e);return t&&new GI(t)},deps:[[new u.FiY,P4],dg]};let hoe=(()=>{class n{constructor(){(0,gd.KN)("angularfire",Gt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[doe,uoe]}),n})();function foe(n,...e){return{ngModule:hoe,providers:[{provide:P4,useFactory:loe(n),multi:!0,deps:[u.R0b,u.zs3,Gt.HU,Wb,[new u.FiY,xM],[new u.FiY,sf],...e]}]}}const x4=(0,Gt.u3)(uz,!0),poe=(0,Gt.u3)(ioe,!0),M4=(0,Gt.u3)(D4,!0),R4=(0,Gt.u3)(lz,!0);var k4=$(4986);function O4(){return(0,ui.e)((n,e)=>{let t,r=!1;n.subscribe((0,zr.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function fz(n,e=ko.y){return n=n??goe,(0,ui.e)((t,r)=>{let i,s=!0;t.subscribe((0,zr.x)(r,o=>{const l=e(o);(s||!n(i,l))&&(s=!1,i=l,r.next(o))}))})}function goe(n,e){return n===e}$(5054),$(6101);var Et,moe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yl={},N4=N4||{},hn=moe||self;function LM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function iA(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var L4="closure_uid_"+(1e9*Math.random()>>>0),yoe=0;function voe(n,e,t){return n.call.apply(n.bind,arguments)}function Ioe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Co(n,e,t){return(Co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?voe:Ioe).apply(null,arguments)}function FM(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yg(){this.s=this.s,this.o=this.o}yg.prototype.s=!1,yg.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _oe(n){Object.prototype.hasOwnProperty.call(n,L4)&&n[L4]||(n[L4]=++yoe)}(this)},yg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gz=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function F4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mz(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(LM(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Eo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Eo.prototype.h=function(){this.defaultPrevented=!0};var Eoe=function(){if(!hn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hn.addEventListener("test",()=>{},e),hn.removeEventListener("test",()=>{},e)}catch{}return n}();function sA(n){return/^[\s\xa0]*$/.test(n)}function VM(){var n=hn.navigator;return n&&(n=n.userAgent)?n:""}function Id(n){return-1!=VM().indexOf(n)}function V4(n){return V4[" "](n),n}V4[" "]=function(){};var B4,Toe=Id("Opera"),HI=Id("Trident")||Id("MSIE"),_z=Id("Edge"),U4=_z||HI,yz=Id("Gecko")&&!(-1!=VM().toLowerCase().indexOf("webkit")&&!Id("Edge"))&&!(Id("Trident")||Id("MSIE"))&&!Id("Edge"),boe=-1!=VM().toLowerCase().indexOf("webkit")&&!Id("Edge");function vz(){var n=hn.document;return n?n.documentMode:void 0}e:{var j4="",$4=function(){var n=VM();return yz?/rv:([^\);]+)(\)|;)/.exec(n):_z?/Edge\/([\d\.]+)/.exec(n):HI?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):boe?/WebKit\/(\S+)/.exec(n):Toe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if($4&&(j4=$4?$4[1]:""),HI){var G4=vz();if(null!=G4&&G4>parseFloat(j4)){B4=String(G4);break e}}B4=j4}var Aoe=hn.document&&HI&&(vz()||parseInt(B4,10))||void 0;function oA(n,e){if(Eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yz){e:{try{V4(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Soe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oA.$.h.call(this)}}var Soe={2:"touch",3:"pen",4:"mouse"};oA.prototype.h=function(){oA.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var aA="closure_listenable_"+(1e6*Math.random()|0),Doe=0;function Poe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Doe,this.fa=this.ia=!1}function UM(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function z4(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cz(n){const e={};for(const t in n)e[t]=n[t];return e}const Ez="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wz(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Ez.length;s++)t=Ez[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function BM(n){this.src=n,this.g={},this.h=0}function q4(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=gz(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(UM(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function W4(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}BM.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=W4(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Poe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var Z4="closure_lm_"+(1e6*Math.random()|0),K4={};function Tz(n,e,t,r,i){if(r&&r.once)return Az(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Tz(n,e[s],t,r,i);return null}return t=X4(t),n&&n[aA]?n.O(e,t,iA(r)?!!r.capture:!!r,i):bz(n,e,t,!1,r,i)}function bz(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=iA(i)?!!i.capture:!!i,l=Y4(n);if(l||(n[Z4]=l=new BM(n)),(t=l.add(e,t,r,o,s)).proxy)return t;if(r=function Moe(){const e=Roe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Eoe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Dz(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Az(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Az(n,e[s],t,r,i);return null}return t=X4(t),n&&n[aA]?n.P(e,t,iA(r)?!!r.capture:!!r,i):bz(n,e,t,!0,r,i)}function Sz(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Sz(n,e[s],t,r,i);else r=iA(r)?!!r.capture:!!r,t=X4(t),n&&n[aA]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=W4(s=n.g[e],t,r,i))&&(UM(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Y4(n))&&(e=n.g[e.toString()],n=-1,e&&(n=W4(e,t,r,i)),(t=-1<n?e[n]:null)&&Q4(t))}function Q4(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[aA])q4(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Dz(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Y4(e))?(q4(t,n),0==t.h&&(t.src=null,e[Z4]=null)):UM(n)}}}function Dz(n){return n in K4?K4[n]:K4[n]="on"+n}function Roe(n,e){if(n.fa)n=!0;else{e=new oA(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Q4(n),n=t.call(r,e)}return n}function Y4(n){return(n=n[Z4])instanceof BM?n:null}var J4="__closure_events_fn_"+(1e9*Math.random()>>>0);function X4(n){return"function"==typeof n?n:(n[J4]||(n[J4]=function(e){return n.handleEvent(e)}),n[J4])}function Rs(){yg.call(this),this.i=new BM(this),this.S=this,this.J=null}function io(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Eo(e,n);else if(e instanceof Eo)e.target=e.target||n;else{var i=e;wz(e=new Eo(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=jM(o,r,!0,e)&&i}if(i=jM(o=e.g=n,r,!0,e)&&i,i=jM(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=jM(o=e.g=t[s],r,!1,e)&&i}function jM(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var l=o.listener,h=o.la||o.src;o.ia&&q4(n.i,o),i=!1!==l.call(h,r)&&i}}return i&&!r.defaultPrevented}Rs.prototype[aA]=!0,Rs.prototype.removeEventListener=function(n,e,t,r){Sz(this,n,e,t,r)},Rs.prototype.N=function(){if(Rs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)UM(t[r]);delete n.g[e],n.h--}}this.J=null},Rs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Rs.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var e3=hn.JSON.stringify;class koe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ooe(){var n=t3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class Noe{constructor(){this.h=this.g=null}add(e,t){const r=Pz.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Pz=new koe(()=>new Loe,n=>n.reset());class Loe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Foe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Voe(n){hn.setTimeout(()=>{throw n},0)}let cA,lA=!1,t3=new Noe,xz=()=>{const n=hn.Promise.resolve(void 0);cA=()=>{n.then(Uoe)}};var Uoe=()=>{for(var n;n=Ooe();){try{n.h.call(n.g)}catch(t){Voe(t)}var e=Pz;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lA=!1};function $M(n,e){Rs.call(this),this.h=n||1,this.g=e||hn,this.j=Co(this.qb,this),this.l=Date.now()}function n3(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function r3(n,e,t){if("function"==typeof n)t&&(n=Co(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Co(n.handleEvent,n)}return 2147483647<Number(e)?-1:hn.setTimeout(n,e||0)}function Mz(n){n.g=r3(()=>{n.g=null,n.i&&(n.i=!1,Mz(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Et=$M.prototype).ga=!1,Et.T=null,Et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),io(this,"tick"),this.ga&&(n3(this),this.start()))}},Et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.N=function(){$M.$.N.call(this),n3(this),delete this.g};class Boe extends yg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mz(this)}N(){super.N(),this.g&&(hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uA(n){yg.call(this),this.h=n,this.g={}}var Rz=[];function kz(n,e,t,r){Array.isArray(t)||(t&&(Rz[0]=t.toString()),t=Rz);for(var i=0;i<t.length;i++){var s=Tz(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Oz(n){z4(n.g,function(e,t){this.g.hasOwnProperty(t)&&Q4(e)},n),n.g={}}function GM(){this.g=!0}function zI(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hoe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return e3(t)}catch{return e}}(n,t)+(r?" "+r:"")})}uA.prototype.N=function(){uA.$.N.call(this),Oz(this)},uA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},GM.prototype.Ea=function(){this.g=!1},GM.prototype.info=function(){};var gy={},Nz=null;function HM(){return Nz=Nz||new Rs}function Lz(n){Eo.call(this,gy.Ta,n)}function dA(n){const e=HM();io(e,new Lz(e))}function Fz(n,e){Eo.call(this,gy.STAT_EVENT,n),this.stat=e}function Ho(n){const e=HM();io(e,new Fz(e,n))}function Vz(n,e){Eo.call(this,gy.Ua,n),this.size=e}function hA(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hn.setTimeout(function(){n()},e)}gy.Ta="serverreachability",gy.STAT_EVENT="statevent",gy.Ua="timingevent";var zM={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Uz={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jz(){}var a3,fA={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function s3(){Eo.call(this,"d")}function o3(){Eo.call(this,"c")}function qM(){}function pA(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new uA(this),this.P=zoe,this.V=new $M(n=U4?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $z}function $z(){this.i=null,this.g="",this.h=!1}qM.prototype.g=function(){return new XMLHttpRequest},qM.prototype.i=function(){return{}},a3=new qM;var zoe=45e3,c3={},WM={};function l3(n,e,t){n.L=1,n.v=YM(lf(e)),n.s=t,n.S=!0,Gz(n,null)}function Gz(n,e){n.G=Date.now(),gA(n),n.A=lf(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xz(t.i,"t",r),n.C=0,t=n.l.J,n.h=new $z,n.g=wq(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Boe(Co(n.Pa,n,n.g),n.O)),kz(n.U,n.g,"readystatechange",n.nb),e=n.I?Cz(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),dA(),function joe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",l=s.split("&"),h=0;h<l.length;h++){var p=l[h].split("=");if(1<p.length){var y=p[0];p=p[1];var C=y.split("_");o=2<=C.length&&"type"==C[1]?o+(y+"=")+p+"&":o+(y+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Hz(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function zz(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=qoe(n,t),i==WM){4==e&&(n.o=4,Ho(14),r=!1),zI(n.j,n.m,null,"[Incomplete Response]");break}if(i==c3){n.o=4,Ho(15),zI(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zI(n.j,n.m,i,null),u3(n,i)}Hz(n)&&i!=WM&&i!=c3&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ho(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),_3(e),e.M=!0,Ho(11))):(zI(n.j,n.m,t,"[Invalid Chunked Response]"),my(n),mA(n))}function qoe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?WM:(t=Number(e.substring(t,r)),isNaN(t)?c3:(r+=1)+t>e.length?WM:(e=e.slice(r,r+t),n.C=r+t,e))}function gA(n){n.Y=Date.now()+n.P,qz(n,n.P)}function qz(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hA(Co(n.lb,n),e)}function ZM(n){n.B&&(hn.clearTimeout(n.B),n.B=null)}function mA(n){0==n.l.H||n.J||vq(n.l,n)}function my(n){ZM(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,n3(n.V),Oz(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function u3(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||d3(t.i,n)))if(!n.K&&d3(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;rR(t),tR(t)}m3(t),Ho(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=hA(Co(t.ib,t),6e3));if(1>=nq(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yy(t,11)}else if((n.K||t.g==n)&&rR(t),!sA(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(t.V=p[0],p=p[1],2==t.H)if("c"==p[0]){t.K=p[1],t.pa=p[2];const y=p[3];null!=y&&(t.ra=y,t.l.info("VER="+t.ra));const C=p[4];null!=C&&(t.Ga=C,t.l.info("SVER="+t.Ga));const D=p[5];null!=D&&"number"==typeof D&&0<D&&(t.L=r=1.5*D,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const L=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=r.i;s.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(h3(s,s.h),s.h=null))}if(r.F){const z=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.Da=z,Qr(r.I,r.F,z))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=Eq(r,r.J?r.pa:null,r.Y),o.K){rq(r.i,o);var l=o,h=r.L;h&&l.setTimeout(h),l.B&&(ZM(l),gA(l)),r.g=o}else _q(r);0<t.j.length&&nR(t)}else"stop"!=p[0]&&"close"!=p[0]||yy(t,7);else 3==t.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?yy(t,7):g3(t):"noop"!=p[0]&&t.h&&t.h.Aa(p),t.A=0)}dA()}catch{}}function Wz(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(LM(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Zoe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(LM(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Woe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(LM(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Et=pA.prototype).setTimeout=function(n){this.P=n},Et.nb=function(n){n=n.target;const e=this.M;e&&3==Cd(n)?e.l():this.Pa(n)},Et.Pa=function(n){try{if(n==this.g)e:{const y=Cd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>y)&&(3!=y||U4||this.g&&(this.h.h||this.g.ja()||dq(this.g)))){this.J||4!=y||7==e||dA(),ZM(this);var t=this.g.da();this.ca=t;t:if(Hz(this)){var r=dq(this.g);n="";var i=r.length,s=4==Cd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){my(this),mA(this);var o="";break t}this.h.i=new hn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function $oe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,y,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sA(l)){var p=l;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,Ho(12),my(this),mA(this);break e}zI(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,u3(this,t)}this.S?(zz(this,y,o),U4&&this.i&&3==y&&(kz(this.U,this.V,"tick",this.mb),this.V.start())):(zI(this.j,this.m,o,null),u3(this,o)),4==y&&my(this),this.i&&!this.J&&(4==y?vq(this.l,this):(this.i=!1,gA(this)))}else(function hae(n){const e={};n=(n.g&&2<=Cd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(sA(n[r]))continue;var t=Foe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function xoe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Ho(12)):(this.o=0,Ho(13)),my(this),mA(this)}}}catch{}},Et.mb=function(){if(this.g){var n=Cd(this.g),e=this.g.ja();this.C<e.length&&(ZM(this),zz(this,n,e),this.i&&4!=n&&gA(this))}},Et.cancel=function(){this.J=!0,my(this)},Et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Goe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dA(),Ho(17)),my(this),this.o=2,mA(this)):qz(this,this.Y-n)};var Zz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _y(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof _y){this.h=n.h,KM(this,n.j),this.s=n.s,this.g=n.g,QM(this,n.m),this.l=n.l;var e=n.i,t=new vA;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Kz(this,t),this.o=n.o}else n&&(e=String(n).match(Zz))?(this.h=!1,KM(this,e[1]||"",!0),this.s=_A(e[2]||""),this.g=_A(e[3]||"",!0),QM(this,e[4]),this.l=_A(e[5]||"",!0),Kz(this,e[6]||"",!0),this.o=_A(e[7]||"")):(this.h=!1,this.i=new vA(null,this.h))}function lf(n){return new _y(n)}function KM(n,e,t){n.j=t?_A(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function QM(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Kz(n,e,t){e instanceof vA?(n.i=e,function tae(n,e){e&&!n.j&&(vg(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Yz(this,r),Xz(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yA(e,Xoe)),n.i=new vA(e,n.h))}function Qr(n,e,t){n.i.set(e,t)}function YM(n){return Qr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _A(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yA(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Qoe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Qoe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_y.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yA(e,Qz,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yA(e,Qz,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yA(t,"/"==t.charAt(0)?Joe:Yoe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yA(t,eae)),n.join("")};var Qz=/[#\/\?@]/g,Yoe=/[#\?:]/g,Joe=/[#\?]/g,Xoe=/[#\?@]/g,eae=/#/g;function vA(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vg(n){n.g||(n.g=new Map,n.h=0,n.i&&function Koe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yz(n,e){vg(n),e=qI(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Jz(n,e){return vg(n),e=qI(n,e),n.g.has(e)}function Xz(n,e,t){Yz(n,e),0<t.length&&(n.i=null,n.g.set(qI(n,e),F4(t)),n.h+=t.length)}function qI(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eq(n){this.l=n||rae,n=hn.PerformanceNavigationTiming?0<(n=hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hn.g&&hn.g.Ka&&hn.g.Ka()&&hn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=vA.prototype).add=function(n,e){vg(this),this.i=null,n=qI(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){vg(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Et.ta=function(){vg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Et.Z=function(n){vg(this);let e=[];if("string"==typeof n)Jz(this,n)&&(e=e.concat(this.g.get(qI(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Et.set=function(n,e){return vg(this),this.i=null,Jz(this,n=qI(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var rae=10;function tq(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nq(n){return n.h?1:n.g?n.g.size:0}function d3(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function h3(n,e){n.g?n.g.add(e):n.h=e}function rq(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iq(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return F4(n.i)}function sae(){this.g=new class{stringify(n){return hn.JSON.stringify(n,void 0)}parse(n){return hn.JSON.parse(n,void 0)}}}function oae(n,e,t){const r=t||"";try{Wz(n,function(i,s){let o=i;iA(i)&&(o=e3(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JM(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function IA(n){this.l=n.fc||null,this.j=n.ob||!1}function XM(n,e){Rs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=f3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eq.prototype.cancel=function(){if(this.i=iq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},IA.prototype.g=function(){return new XM(this.l,this.j)},IA.prototype.i=function(n){return function(){return n}}({});var f3=0;function sq(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function CA(n){n.readyState=4,n.l=null,n.j=null,n.A=null,EA(n)}function EA(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=XM.prototype).open=function(n,e){if(this.readyState!=f3)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,EA(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,CA(this)),this.readyState=f3},Et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,EA(this)),this.g&&(this.readyState=3,EA(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sq(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?CA(this):EA(this),3==this.readyState&&sq(this)}},Et.Za=function(n){this.g&&(this.response=this.responseText=n,CA(this))},Et.Ya=function(n){this.g&&(this.response=n,CA(this))},Et.ka=function(){this.g&&CA(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var cae=hn.JSON.parse;function Ei(n){Rs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oq,this.L=this.M=!1}var oq="",lae=/^https?$/i,uae=["POST","PUT"];function aq(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cq(n),eR(n)}function cq(n){n.F||(n.F=!0,io(n,"complete"),io(n,"error"))}function lq(n){if(n.h&&typeof N4<"u"&&(!n.C[1]||4!=Cd(n)||2!=n.da()))if(n.v&&4==Cd(n))r3(n.La,0,n);else if(io(n,"readystatechange"),4==Cd(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(Zz)[1]||null;!i&&hn.self&&hn.self.location&&(i=hn.self.location.protocol.slice(0,-1)),r=!lae.test(i?i.toLowerCase():"")}t=r}if(t)io(n,"complete"),io(n,"success");else{n.m=6;try{var s=2<Cd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",cq(n)}}finally{eR(n)}}}function eR(n,e){if(n.g){uq(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||io(n,"ready");try{t.onreadystatechange=r}catch{}}}function uq(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hn.clearTimeout(n.A),n.A=null)}function Cd(n){return n.g?n.g.readyState:0}function dq(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case oq:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hq(n){let e="";return z4(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function p3(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hq(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qr(n,e,t))}function wA(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fq(n){this.Ga=0,this.j=[],this.l=new GM,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wA("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wA("baseRetryDelayMs",5e3,n),this.hb=wA("retryDelaySeedMs",1e4,n),this.eb=wA("forwardChannelMaxRetries",2,n),this.xa=wA("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eq(n&&n.concurrentRequestLimit),this.Ja=new sae,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function g3(n){if(pq(n),3==n.H){var e=n.W++,t=lf(n.I);if(Qr(t,"SID",n.K),Qr(t,"RID",e),Qr(t,"TYPE","terminate"),TA(n,t),(e=new pA(n,n.l,e)).L=2,e.v=YM(lf(t)),t=!1,hn.navigator&&hn.navigator.sendBeacon)try{t=hn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hn.Image&&((new Image).src=e.v,t=!0),t||(e.g=wq(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gA(e)}Cq(n)}function tR(n){n.g&&(_3(n),n.g.cancel(),n.g=null)}function pq(n){tR(n),n.u&&(hn.clearTimeout(n.u),n.u=null),rR(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hn.clearTimeout(n.m),n.m=null)}function nR(n){if(!tq(n.i)&&!n.m){n.m=!0;var e=n.Na;cA||xz(),lA||(cA(),lA=!0),t3.add(e,n),n.C=0}}function gq(n,e){var t;t=e?e.m:n.W++;const r=lf(n.I);Qr(r,"SID",n.K),Qr(r,"RID",t),Qr(r,"AID",n.V),TA(n,r),n.o&&n.s&&p3(r,n.o,n.s),t=new pA(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=mq(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),h3(n.i,t),l3(t,r,e)}function TA(n,e){n.na&&z4(n.na,function(t,r){Qr(e,r,t)}),n.h&&Wz({},function(t,r){Qr(e,r,t)})}function mq(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Co(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let h=0;h<t;h++){let p=i[h].g;const y=i[h].map;if(p-=s,0>p)s=Math.max(0,i[h].g-100),l=!1;else try{oae(y,o,"req"+p+"_")}catch{r&&r(y)}}if(l){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function _q(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cA||xz(),lA||(cA(),lA=!0),t3.add(e,n),n.A=0}}function m3(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hA(Co(n.Ma,n),Iq(n,n.A)),n.A++,0))}function _3(n){null!=n.B&&(hn.clearTimeout(n.B),n.B=null)}function yq(n){n.g=new pA(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=lf(n.wa);Qr(e,"RID","rpc"),Qr(e,"SID",n.K),Qr(e,"AID",n.V),Qr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qr(e,"TO",n.qa),Qr(e,"TYPE","xmlhttp"),TA(n,e),n.o&&n.s&&p3(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=YM(lf(e)),t.s=null,t.S=!0,Gz(t,n)}function rR(n){null!=n.v&&(hn.clearTimeout(n.v),n.v=null)}function vq(n,e){var t=null;if(n.g==e){rR(n),_3(n),n.g=null;var r=2}else{if(!d3(n.i,e))return;t=e.F,rq(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;io(r=HM(),new Vz(r,t)),nR(n)}else _q(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function fae(n,e){return!(nq(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hA(Co(n.Na,n,e),Iq(n,n.C)),n.C++,0)))}(n,e)||2==r&&m3(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:yy(n,5);break;case 4:yy(n,10);break;case 3:yy(n,6);break;default:yy(n,2)}}function Iq(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yy(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Co(n.pb,n);t||(t=new _y("//www.google.com/images/cleardot.gif"),hn.location&&"http"==hn.location.protocol||KM(t,"https"),YM(t)),function aae(n,e){const t=new GM;if(hn.Image){const r=new Image;r.onload=FM(JM,t,r,"TestLoadImage: loaded",!0,e),r.onerror=FM(JM,t,r,"TestLoadImage: error",!1,e),r.onabort=FM(JM,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=FM(JM,t,r,"TestLoadImage: timeout",!1,e),hn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ho(2);n.H=0,n.h&&n.h.za(e),Cq(n),pq(n)}function Cq(n){if(n.H=0,n.ma=[],n.h){const e=iq(n.i);(0!=e.length||0!=n.j.length)&&(mz(n.ma,e),mz(n.ma,n.j),n.i.i.length=0,F4(n.j),n.j.length=0),n.h.ya()}}function Eq(n,e,t){var r=t instanceof _y?lf(t):new _y(t);if(""!=r.g)e&&(r.g=e+"."+r.g),QM(r,r.m);else{var i=hn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _y(null);r&&KM(s,r),e&&(s.g=e),i&&QM(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Qr(r,t,e),Qr(r,"VER",n.ra),TA(n,r),r}function wq(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ei(t&&n.Ha&&!n.va?new IA({ob:!0}):n.va)).Oa(n.J),e}function iR(){if(HI&&!(10<=Number(Aoe)))throw Error("Environmental error: no available transport.")}function oc(n,e){Rs.call(this),this.g=new fq(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sA(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sA(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new WI(this)}function bq(n){s3.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Aq(){o3.call(this),this.status=1}function WI(n){this.g=n}function Jl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function y3(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function hr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Et=Ei.prototype).Oa=function(n){this.M=n},Et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():a3.g(),this.C=function Bz(n){return n.h||(n.h=n.i())}(this.u?this.u:a3),this.g.onreadystatechange=Co(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void aq(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=hn.FormData&&n instanceof hn.FormData,!(0<=gz(uae,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uq(this),0<this.B&&((this.L=function dae(n){return HI&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Co(this.ua,this)):this.A=r3(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){aq(this,s)}},Et.ua=function(){typeof N4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,io(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,io(this,"complete"),io(this,"abort"),eR(this))},Et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eR(this,!0)),Ei.$.N.call(this)},Et.La=function(){this.s||(this.G||this.v||this.l?lq(this):this.kb())},Et.kb=function(){lq(this)},Et.isActive=function(){return!!this.g},Et.da=function(){try{return 2<Cd(this)?this.g.status:-1}catch{return-1}},Et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cae(e)}},Et.Ia=function(){return this.m},Et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=fq.prototype).ra=8,Et.H=1,Et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new pA(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Cz(s),wz(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mq(this,i,e),Qr(t=lf(this.I),"RID",n),Qr(t,"CVER",22),this.F&&Qr(t,"X-HTTP-Session-Id",this.F),TA(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(hq(s)))+"&"+e:this.o&&p3(t,this.o,s)),h3(this.i,i),this.bb&&Qr(t,"TYPE","init"),this.P?(Qr(t,"$req",e),Qr(t,"SID","null"),i.aa=!0,l3(i,t,null)):l3(i,t,e),this.H=2}}else 3==this.H&&(n?gq(this,n):0==this.j.length||tq(this.i)||gq(this))},Et.Ma=function(){if(this.u=null,yq(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hA(Co(this.jb,this),n)}},Et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ho(10),tR(this),yq(this))},Et.ib=function(){null!=this.v&&(this.v=null,tR(this),m3(this),Ho(19))},Et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ho(2)):(this.l.info("Failed to ping google.com"),Ho(1))},Et.isActive=function(){return!!this.h&&this.h.isActive(this)},(Et=function Tq(){}.prototype).Ba=function(){},Et.Aa=function(){},Et.za=function(){},Et.ya=function(){},Et.isActive=function(){return!0},Et.Va=function(){},iR.prototype.g=function(n,e){return new oc(n,e)},oc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ho(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Eq(n,null,n.Y),nR(n)},oc.prototype.close=function(){g3(this.g)},oc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=e3(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&nR(e)},oc.prototype.N=function(){this.g.h=null,delete this.j,g3(this.g),delete this.g,oc.$.N.call(this)},WI.prototype.Ba=function(){io(this.g,"a")},WI.prototype.Aa=function(n){io(this.g,new bq(n))},WI.prototype.za=function(n){io(this.g,new Aq)},WI.prototype.ya=function(){io(this.g,"b")},Jl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)y3(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){y3(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){y3(this,r),i=0;break}}this.h=i,this.i+=e},Jl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var gae={};function v3(n){return-128<=n&&128>n?function woe(n,e){var t=gae;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new hr([0|e],0>e?-1:0)}):new hr([0|n],0>n?-1:0)}function Ed(n){if(isNaN(n)||!isFinite(n))return ZI;if(0>n)return so(Ed(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=I3;return new hr(e,0)}var I3=4294967296,ZI=v3(0),C3=v3(1),Dq=v3(16777216);function uf(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function qc(n){return-1==n.h}function so(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new hr(t,~n.h).add(C3)}function sR(n,e){return n.add(so(e))}function oR(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bA(n,e){this.g=n,this.h=e}function aR(n,e){if(uf(e))throw Error("division by zero");if(uf(n))return new bA(ZI,ZI);if(qc(n))return e=aR(so(n),e),new bA(so(e.g),so(e.h));if(qc(e))return e=aR(n,so(e)),new bA(so(e.g),e.h);if(30<n.g.length){if(qc(n)||qc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=C3,r=e;0>=r.X(n);)t=Pq(t),r=Pq(r);var i=KI(t,1),s=KI(r,1);for(r=KI(r,2),t=KI(t,2);!uf(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=KI(r,1),t=KI(t,1)}return e=sR(n,i.R(e)),new bA(i,e)}for(i=ZI;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ed(t)).R(e);qc(o)||0<o.X(n);)o=(s=Ed(t-=r)).R(e);uf(s)&&(s=C3),i=i.add(s),n=sR(n,o)}return new bA(i,n)}function Pq(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new hr(t,n.h)}function KI(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new hr(i,n.h)}(Et=hr.prototype).ea=function(){if(qc(this))return-so(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:I3+r)*e,e*=I3}return n},Et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(uf(this))return"0";if(qc(this))return"-"+so(this).toString(n);for(var e=Ed(Math.pow(n,6)),t=this,r="";;){var i=aR(t,e).g,s=((0<(t=sR(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(uf(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Et.X=function(n){return qc(n=sR(this,n))?-1:uf(n)?0:1},Et.abs=function(){return qc(this)?so(this):this},Et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new hr(t,-2147483648&t[t.length-1]?-1:0)},Et.R=function(n){if(uf(this)||uf(n))return ZI;if(qc(this))return qc(n)?so(this).R(so(n)):so(so(this).R(n));if(qc(n))return so(this.R(so(n)));if(0>this.X(Dq)&&0>n.X(Dq))return Ed(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),l=n.D(i)>>>16,h=65535&n.D(i);t[2*r+2*i]+=o*h,oR(t,2*r+2*i),t[2*r+2*i+1]+=s*h,oR(t,2*r+2*i+1),t[2*r+2*i+1]+=o*l,oR(t,2*r+2*i+1),t[2*r+2*i+2]+=s*l,oR(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new hr(t,0)},Et.gb=function(n){return aR(this,n).h},Et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new hr(t,this.h&n.h)},Et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new hr(t,this.h|n.h)},Et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new hr(t,this.h^n.h)},iR.prototype.createWebChannel=iR.prototype.g,oc.prototype.send=oc.prototype.u,oc.prototype.open=oc.prototype.m,oc.prototype.close=oc.prototype.close,zM.NO_ERROR=0,zM.TIMEOUT=8,zM.HTTP_ERROR=6,Uz.COMPLETE="complete",jz.EventType=fA,fA.OPEN="a",fA.CLOSE="b",fA.ERROR="c",fA.MESSAGE="d",Rs.prototype.listen=Rs.prototype.O,Ei.prototype.listenOnce=Ei.prototype.P,Ei.prototype.getLastError=Ei.prototype.Sa,Ei.prototype.getLastErrorCode=Ei.prototype.Ia,Ei.prototype.getStatus=Ei.prototype.da,Ei.prototype.getResponseJson=Ei.prototype.Wa,Ei.prototype.getResponseText=Ei.prototype.ja,Ei.prototype.send=Ei.prototype.ha,Ei.prototype.setWithCredentials=Ei.prototype.Oa,Jl.prototype.digest=Jl.prototype.l,Jl.prototype.reset=Jl.prototype.reset,Jl.prototype.update=Jl.prototype.j,hr.prototype.add=hr.prototype.add,hr.prototype.multiply=hr.prototype.R,hr.prototype.modulo=hr.prototype.gb,hr.prototype.compare=hr.prototype.X,hr.prototype.toNumber=hr.prototype.ea,hr.prototype.toString=hr.prototype.toString,hr.prototype.getBits=hr.prototype.D,hr.fromNumber=Ed,hr.fromString=function Sq(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return so(Sq(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ed(Math.pow(e,8)),r=ZI,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ed(Math.pow(e,s)),r=r.R(s).add(Ed(o))):r=(r=r.R(t)).add(Ed(o))}return r};var mae=Yl.createWebChannelTransport=function(){return new iR},_ae=Yl.getStatEventTarget=function(){return HM()},E3=Yl.ErrorCode=zM,yae=Yl.EventType=Uz,vae=Yl.Event=gy,xq=Yl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Iae=Yl.FetchXmlHttpFactory=IA,cR=Yl.WebChannel=jz,Cae=Yl.XhrIo=Ei,Eae=Yl.Md5=Jl,QI=Yl.Integer=hr;class ks{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");let YI="9.23.0";const Ig=new br.Yd("@firebase/firestore");function w3(){return Ig.logLevel}function Ze(n,...e){if(Ig.logLevel<=br.in.DEBUG){const t=e.map(T3);Ig.debug(`Firestore (${YI}): ${n}`,...t)}}function Li(n,...e){if(Ig.logLevel<=br.in.ERROR){const t=e.map(T3);Ig.error(`Firestore (${YI}): ${n}`,...t)}}function Wc(n,...e){if(Ig.logLevel<=br.in.WARN){const t=e.map(T3);Ig.warn(`Firestore (${YI}): ${n}`,...t)}}function T3(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${YI}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function $t(n,e){n||Dt()}function vt(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends k.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Rq{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ks.UNAUTHENTICATED))}shutdown(){}}class Aae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dae{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pae{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Dae(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Mae(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Oq{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Mae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function dn(n,e){return n<e?-1:n>e?1:0}function JI(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ii(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new ii(0,0))}static max(){return new Ht(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class AA{constructor(e,t,r){void 0===t?t=0:t>e.length&&Dt(),void 0===r?r=e.length-t:r>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===AA.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof AA?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends AA{construct(e,t,r){return new Hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const Rae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends AA{construct(e,t,r){return new wi(e,t,r)}static isValidIdentifier(e){return Rae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if("\\"===l){if(i+1===e.length)throw new Ge(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Ge(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else"`"===l?(o=!o,i++):"."!==l||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Ge(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Hn.fromString(e))}static fromName(e){return new gt(Hn.fromString(e).popFirst(5))}static empty(){return new gt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Hn(e.slice()))}}function Fq(n){return new ac(n.readTime,n.key,-1)}class ac{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ac(Ht.min(),gt.empty(),-1)}static max(){return new ac(Ht.max(),gt.empty(),-1)}}function A3(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:dn(n.largestBatchId,e.largestBatchId))}const Vq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Cg(n){return S3.apply(this,arguments)}function S3(){return S3=(0,j.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==Vq)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),S3.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},h=>r(h))}),o=!0,s===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next(y=>{o[p]=y,++l,l===s&&r(o)},y=>i(y))}})}static doWhile(e,t){return new fe((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Eg(n){return"IndexedDbTransactionError"===n.name}let cc=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function PA(n){return null==n}function xA(n){return 0===n&&1/n==-1/0}function Zq(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kq(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Lr{constructor(e,t){this.comparator=e,this.root=t||oo.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oo.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fR(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fR(this.root,e,this.comparator,!1)}getReverseIterator(){return new fR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fR(this.root,e,this.comparator,!0)}}class fR{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??oo.RED,this.left=i??oo.EMPTY,this.right=s??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new oo(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1,oo.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yr{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qq(this.data.getIterator())}getIteratorFrom(e){return new Qq(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class Qq{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ca{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Ca([])}unionWith(e){let t=new Yr(wi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ca(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return JI(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Yq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Yq("Invalid base64 string: "+i):i}}(e);return new hs(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const ice=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tg(n){if($t(!!n),"string"==typeof n){let e=0;const t=ice.exec(n);if($t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function df(n){return"string"==typeof n?hs.fromBase64String(n):hs.fromUint8Array(n)}function pR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gR(n){const e=n.mapValue.fields.__previous_value__;return pR(e)?gR(e):e}function MA(n){const e=Tg(n.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}class sce{constructor(e,t,r,i,s,o,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=h,this.useFetchStreams=p}}class bg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bg&&e.projectId===this.projectId&&e.database===this.database}}const Ag_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Sg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pR(n)?4:t8(n)?9007199254740991:10:Dt()}function Td(n,e){if(n===e)return!0;const t=Sg(n);if(t!==Sg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return MA(n).isEqual(MA(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Tg(r.timestampValue),o=Tg(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,df(n.bytesValue).isEqual(df(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ti(r.geoPointValue.latitude)===Ti(i.geoPointValue.latitude)&&Ti(r.geoPointValue.longitude)===Ti(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ti(r.integerValue)===Ti(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ti(r.doubleValue),o=Ti(i.doubleValue);return s===o?xA(s)===xA(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return JI(n.arrayValue.values||[],e.arrayValue.values||[],Td);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Zq(s)!==Zq(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===o[l]||!Td(s[l],o[l])))return!1;return!0}(n,e);default:return Dt()}var i}function RA(n,e){return void 0!==(n.values||[]).find(t=>Td(t,e))}function Dg(n,e){if(n===e)return 0;const t=Sg(n),r=Sg(e);if(t!==r)return dn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ti(i.integerValue||i.doubleValue),l=Ti(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return Jq(n.timestampValue,e.timestampValue);case 4:return Jq(MA(n),MA(e));case 5:return dn(n.stringValue,e.stringValue);case 6:return function(i,s){const o=df(i),l=df(s);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let h=0;h<o.length&&h<l.length;h++){const p=dn(o[h],l[h]);if(0!==p)return p}return dn(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=dn(Ti(i.latitude),Ti(s.latitude));return 0!==o?o:dn(Ti(i.longitude),Ti(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let h=0;h<o.length&&h<l.length;++h){const p=Dg(o[h],l[h]);if(p)return p}return dn(o.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ag_mapValue&&s===Ag_mapValue)return 0;if(i===Ag_mapValue)return 1;if(s===Ag_mapValue)return-1;const o=i.fields||{},l=Object.keys(o),h=s.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let y=0;y<l.length&&y<p.length;++y){const C=dn(l[y],p[y]);if(0!==C)return C;const D=Dg(o[l[y]],h[p[y]]);if(0!==D)return D}return dn(l.length,p.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function Jq(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return dn(n,e);const t=Tg(n),r=Tg(e),i=dn(t.seconds,r.seconds);return 0!==i?i:dn(t.nanos,r.nanos)}function eC(n){return x3(n)}function x3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Tg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?df(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=x3(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${x3(r.fields[l])}`;return s+"}"}(n.mapValue):Dt();var e}function Cy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function M3(n){return!!n&&"integerValue"in n}function kA(n){return!!n&&"arrayValue"in n}function Xq(n){return!!n&&"nullValue"in n}function e8(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yR(n){return!!n&&"mapValue"in n}function OA(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=OA(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=OA(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t8(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=OA(t)}setAll(e){let t=wi.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=l.popLast()}o?r[l.lastSegment()]=OA(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());yR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Td(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yR(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ao(OA(this.value))}}function i8(n){const e=[];return wg(n.fields,(t,r)=>{const i=new wi([t]);if(yR(r)){const s=i8(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ca(e)}class Jr{constructor(e,t,r,i,s,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jr(e,0,Ht.min(),Ht.min(),Ht.min(),ao.empty(),0)}static newFoundDocument(e,t,r,i){return new Jr(e,1,t,Ht.min(),r,i,0)}static newNoDocument(e,t){return new Jr(e,2,t,Ht.min(),Ht.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new Jr(e,3,t,Ht.min(),Ht.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pg{constructor(e,t){this.position=e,this.inclusive=t}}function s8(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?gt.comparator(gt.fromName(o.referenceValue),t.key):Dg(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function o8(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Td(n.position[t],e.position[t]))return!1;return!0}class tC{constructor(e,t="asc"){this.field=e,this.dir=t}}function cce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class a8{}class Bn extends a8{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lce(e,t,r):"array-contains"===t?new hce(e,r):"in"===t?new f8(e,r):"not-in"===t?new fce(e,r):"array-contains-any"===t?new pce(e,r):new Bn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new uce(e,r):new dce(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dg(t,this.value)):null!==t&&Sg(this.value)===Sg(t)&&this.matchesComparison(Dg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends a8{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fr(e,t)}matches(e){return nC(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function nC(n){return"and"===n.op}function k3(n){return function c8(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}(n)&&nC(n)}function O3(n){if(n instanceof Bn)return n.field.canonicalString()+n.op.toString()+eC(n.value);if(k3(n))return n.filters.map(e=>O3(e)).join(",");{const e=n.filters.map(t=>O3(t)).join(",");return`${n.op}(${e})`}}function l8(n,e){return n instanceof Bn?(t=n,(r=e)instanceof Bn&&t.op===r.op&&t.field.isEqual(r.field)&&Td(t.value,r.value)):n instanceof fr?function(t,r){return r instanceof fr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&l8(s,r.filters[o]),!0)}(n,e):void Dt();var t,r}function d8(n){return n instanceof Bn?`${(e=n).field.canonicalString()} ${e.op} ${eC(e.value)}`:n instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(d8).join(" ,")+"}"}(n):"Filter";var e}class lce extends Bn{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class uce extends Bn{constructor(e,t){super(e,"in",t),this.keys=h8(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dce extends Bn{constructor(e,t){super(e,"not-in",t),this.keys=h8(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h8(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class hce extends Bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kA(t)&&RA(t.arrayValue,this.value)}}class f8 extends Bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&RA(this.value.arrayValue,t)}}class fce extends Bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(RA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!RA(this.value.arrayValue,t)}}class pce extends Bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>RA(this.value.arrayValue,r))}}class gce{constructor(e,t=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.dt=null}}function N3(n,e=null,t=[],r=[],i=null,s=null,o=null){return new gce(n,e,t,r,i,s,o)}function Ey(n){const e=vt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>O3(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),PA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>eC(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>eC(r)).join(",")),e.dt=t}return e.dt}function NA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!l8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o8(n.startAt,e.startAt)&&o8(n.endAt,e.endAt)}function vR(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class hf{constructor(e,t=null,r=[],i=[],s=null,o="F",l=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=h,this.wt=null,this._t=null}}function rC(n){return new hf(n)}function _8(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function L3(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function CR(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function F3(n){return null!==n.collectionGroup}function wy(n){const e=vt(n);if(null===e.wt){e.wt=[];const t=CR(e),r=L3(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new tC(t)),e.wt.push(new tC(wi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new tC(wi.keyField(),s))}}}return e.wt}function zo(n){const e=vt(n);if(!e._t)if("F"===e.limitType)e._t=N3(e.path,e.collectionGroup,wy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of wy(e))t.push(new tC(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Pg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pg(e.startAt.position,e.startAt.inclusive):null;e._t=N3(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function V3(n,e){e.getFirstInequalityField(),CR(n);const t=n.filters.concat([e]);return new hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ER(n,e,t){return new hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function LA(n,e){return NA(zo(n),zo(e))&&n.limitType===e.limitType}function y8(n){return`${Ey(zo(n))}|lt:${n.limitType}`}function U3(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>d8(r)).join(", ")}]`),PA(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>eC(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>eC(r)).join(",")),`Target(${t})`}(zo(n))}; limitType=${n.limitType})`}function FA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):gt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of wy(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const l=s8(i,s,o);return i.inclusive?l<=0:l<0}(t.startAt,wy(t),r)||t.endAt&&!function(i,s,o){const l=s8(i,s,o);return i.inclusive?l>=0:l>0}(t.endAt,wy(t),r)));var t,r}function I8(n){return(e,t)=>{let r=!1;for(const i of wy(n)){const s=mce(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function mce(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(i,s,o){const l=s.data.field(i),h=o.data.field(i);return null!==l&&null!==h?Dg(l,h):Dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}class ff{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Kq(this.inner)}size(){return this.innerSize}}const _ce=new Lr(gt.comparator);function Ea(){return _ce}const C8=new Lr(gt.comparator);function VA(...n){let e=C8;for(const t of n)e=e.insert(t.key,t);return e}function E8(n){let e=C8;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bd(){return UA()}function w8(){return UA()}function UA(){return new ff(n=>n.toString(),(n,e)=>n.isEqual(e))}const yce=new Lr(gt.comparator),vce=new Yr(gt.comparator);function Cn(...n){let e=vce;for(const t of n)e=e.add(t);return e}const Ice=new Yr(dn);function T8(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xA(e)?"-0":e}}function b8(n){return{integerValue:""+n}}function A8(n,e){return function jq(n){return"number"==typeof n&&Number.isInteger(n)&&!xA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?b8(e):T8(n,e)}class wR{constructor(){this._=void 0}}function Cce(n,e,t){return n instanceof iC?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&pR(i)&&(i=gR(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ty?D8(n,e):n instanceof by?P8(n,e):function(r,i){const s=S8(r,i),o=x8(s)+x8(r.gt);return M3(s)&&M3(r.gt)?b8(o):T8(r.serializer,o)}(n,e)}function Ece(n,e,t){return n instanceof Ty?D8(n,e):n instanceof by?P8(n,e):t}function S8(n,e){return n instanceof sC?M3(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class iC extends wR{}class Ty extends wR{constructor(e){super(),this.elements=e}}function D8(n,e){const t=M8(e);for(const r of n.elements)t.some(i=>Td(i,r))||t.push(r);return{arrayValue:{values:t}}}class by extends wR{constructor(e){super(),this.elements=e}}function P8(n,e){let t=M8(e);for(const r of n.elements)t=t.filter(i=>!Td(i,r));return{arrayValue:{values:t}}}class sC extends wR{constructor(e,t){super(),this.serializer=e,this.gt=t}}function x8(n){return Ti(n.integerValue||n.doubleValue)}function M8(n){return kA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tce{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function TR(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bR{}function R8(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new aC(n.key,si.none()):new oC(n.key,n.data,si.none());{const t=n.data,r=ao.empty();let i=new Yr(wi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new pf(n.key,r,new Ca(i.toArray()),si.none())}}function bce(n,e,t){n instanceof oC?function(r,i,s){const o=r.value.clone(),l=N8(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof pf?function(r,i,s){if(!TR(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=N8(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(O8(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jA(n,e,t,r){return n instanceof oC?function(i,s,o,l){if(!TR(i.precondition,s))return o;const h=i.value.clone(),p=L8(i.fieldTransforms,l,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof pf?function(i,s,o,l){if(!TR(i.precondition,s))return o;const h=L8(i.fieldTransforms,l,s),p=s.data;return p.setAll(O8(i)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):(o=t,TR(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ace(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=S8(r.transform,i||null);null!=s&&(null===t&&(t=ao.empty()),t.set(r.field,s))}return t||null}function k8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&JI(t,r,(i,s)=>function wce(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ty&&r instanceof Ty||t instanceof by&&r instanceof by?JI(t.elements,r.elements,Td):t instanceof sC&&r instanceof sC?Td(t.gt,r.gt):t instanceof iC&&r instanceof iC);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class oC extends bR{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pf extends bR{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function O8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function N8(n,e,t){const r=new Map;$t(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Ece(o,l,t[i]))}return r}function L8(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Cce(s,o,e))}return r}class aC extends bR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j3 extends bR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bce(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jA(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jA(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=w8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const h=R8(o,l);null!==h&&r.set(i.key,h),o.isValidDocument()||o.convertToNoDocument(Ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&JI(this.mutations,e.mutations,(t,r)=>k8(t,r))&&JI(this.baseMutations,e.baseMutations,(t,r)=>k8(t,r))}}class G3{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length);let i=yce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new G3(e,t,r,i)}}class H3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dce{constructor(e,t){this.count=e,this.unchangedNames=t}}var qi,zn;function F8(n){switch(n){default:return Dt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function V8(n){if(void 0===n)return Li("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case qi.OK:return Ie.OK;case qi.CANCELLED:return Ie.CANCELLED;case qi.UNKNOWN:return Ie.UNKNOWN;case qi.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case qi.INTERNAL:return Ie.INTERNAL;case qi.UNAVAILABLE:return Ie.UNAVAILABLE;case qi.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case qi.NOT_FOUND:return Ie.NOT_FOUND;case qi.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case qi.ABORTED:return Ie.ABORTED;case qi.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case qi.DATA_LOSS:return Ie.DATA_LOSS;default:return Dt()}}(zn=qi||(qi={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class z3{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return AR}static getOrCreateInstance(){return null===AR&&(AR=new z3),AR}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let AR=null;const Pce=new QI([4294967295,4294967295],0);function B8(n){const e=function U8(){return new TextEncoder}().encode(n),t=new Eae;return t.update(e),new Uint8Array(t.digest())}function j8(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new QI([t,r],0),new QI([i,s],0)]}class q3{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $A(`Invalid padding: ${t}`);if(r<0)throw new $A(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new $A(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new $A(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=QI.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(QI.fromNumber(r)));return 1===i.compare(Pce)&&(i=new QI([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=B8(e),[r,i]=j8(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new q3(s,i,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(0===this.It)return;const t=B8(e),[r,i]=j8(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $A extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class GA{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,HA.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new GA(Ht.min(),i,new Lr(dn),Ea(),Cn())}}class HA{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new HA(r,t,Cn(),Cn(),Cn())}}class SR{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class $8{constructor(e,t){this.targetId=e,this.Vt=t}}class G8{constructor(e,t,r=hs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class H8{constructor(){this.St=0,this.Dt=q8(),this.Ct=hs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cn(),t=Cn(),r=Cn();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new HA(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=q8()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ea(),this.zt=z8(),this.Wt=new Lr(dn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(vR(o))if(0===i){const l=new gt(o.path);this.Yt(r,l,Jr.newNoDocument(l,Ht.min()))}else $t(1===i);else{const l=this.ie(r);if(l!==i){const h=this.re(e,l);0!==h&&(this.ee(r),this.Wt=this.Wt.insert(r,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=z3.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(p,y,C){var D,x,L,z,q,de;const Ee={localCacheCount:y,existenceFilterCount:C.count},ge=C.unchangedNames;return ge&&(Ee.bloomFilter={applied:0===p,hashCount:null!==(D=ge?.hashCount)&&void 0!==D?D:0,bitmapLength:null!==(z=null===(L=null===(x=ge?.bits)||void 0===x?void 0:x.bitmap)||void 0===L?void 0:L.length)&&void 0!==z?z:0,padding:null!==(de=null===(q=ge?.bits)||void 0===q?void 0:q.padding)&&void 0!==de?de:0}),Ee}(h,l,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=r;let h,p;try{h=df(s).toUint8Array()}catch(y){if(y instanceof Yq)return Wc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{p=new q3(h,o,l)}catch(y){return Wc(y instanceof $A?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return 0===p.It?1:i!==t-this.oe(e.targetId,p)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(l)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const l=this.se(o);if(l){if(s.current&&vR(l.target)){const h=new gt(l.target.path);null!==this.jt.get(h)||this.ae(o,h)||this.Yt(o,h,Jr.newNoDocument(h,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=Cn();this.zt.forEach((s,o)=>{let l=!0;o.forEachWhile(h=>{const p=this.se(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(l=!1,!1)}),l&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new GA(e,t,this.Wt,this.jt,r);return this.jt=Ea(),this.zt=z8(),this.Wt=new Lr(dn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new H8,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Yr(dn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new H8),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function z8(){return new Lr(gt.comparator)}function q8(){return new Lr(gt.comparator)}const Mce=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Rce=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),kce=(()=>({and:"AND",or:"OR"}))();class Oce{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function W3(n,e){return n.useProto3Json||PA(e)?e:{value:e}}function cC(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Nce(n,e){return cC(n,e.toTimestamp())}function Fi(n){return $t(!!n),Ht.fromTimestamp(function(e){const t=Tg(e);return new ii(t.seconds,t.nanos)}(n))}function Z3(n,e){return(t=n,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Z8(n){const e=Hn.fromString(n);return $t(rW(e)),e}function zA(n,e){return Z3(n.databaseId,e.path)}function Ad(n,e){const t=Z8(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(Q8(t))}function K3(n,e){return Z3(n.databaseId,e)}function qA(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q8(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Y8(n,e,t){return{name:zA(n,e),fields:t.value.mapValue.fields}}function X8(n,e){return{documents:[K3(n,e.path)]}}function Y3(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=K3(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=K3(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0!==h.length)return nW(fr.create(h,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:xg((y=p).field),direction:Bce(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=W3(n,e.limit);var l,h;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function eW(n){let e=function K8(n){const e=Z8(n);return 4===e.length?Hn.emptyPath():Q8(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$t(1===r);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(y){const C=tW(y);return C instanceof fr&&k3(C)?C.getFilters():[C]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(y=>{return new tC(lC((C=y).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let l=null;t.limit&&(l=function(y){let C;return C="object"==typeof y?y.value:y,PA(C)?null:C}(t.limit));let h=null;var y;t.startAt&&(h=new Pg((y=t.startAt).values||[],!!y.before));let p=null;return t.endAt&&(p=function(y){return new Pg(y.values||[],!y.before)}(t.endAt)),function m8(n,e,t,r,i,s,o,l){return new hf(n,e,t,r,i,s,o,l)}(e,i,o,s,l,"F",h,p)}function tW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lC(e.unaryFilter.field);return Bn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=lC(e.unaryFilter.field);return Bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lC(e.unaryFilter.field);return Bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lC(e.unaryFilter.field);return Bn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?Bn.create(lC((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return fr.create(e.compositeFilter.filters.map(t=>tW(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(n):Dt();var e}function Bce(n){return Mce[n]}function jce(n){return Rce[n]}function $ce(n){return kce[n]}function xg(n){return{fieldPath:n.canonicalString()}}function lC(n){return wi.fromServerFormat(n.fieldPath)}function nW(n){return n instanceof Bn?function(e){if("=="===e.op){if(e8(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NAN"}};if(Xq(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(e8(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NOT_NAN"}};if(Xq(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xg(e.field),op:jce(e.op),value:e.value}}}(n):n instanceof fr?function(e){const t=e.getFilters().map(r=>nW(r));return 1===t.length?t[0]:{compositeFilter:{op:$ce(e.op),filters:t}}}(n):Dt()}function Gce(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gf{constructor(e,t,r,i,s=Ht.min(),o=Ht.min(),l=hs.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=h}withSequenceNumber(e){return new gf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iW{constructor(e){this.fe=e}}function J3(n){const e=eW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ER(e,e.limit,"L"):e}class Py{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ti(e.integerValue));else if("doubleValue"in e){const r=Ti(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),xA(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(df(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?t8(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),gt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Py.Ve=new Py;class Jce{constructor(){this.rn=new iU}addToCollectionParentIndex(e,t){return this.rn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ac.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ac.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class iU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Yr(Hn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yr(Hn.comparator)).toArray()}}class To{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new To(e,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);class My{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new My(0)}static Mn(){return new My(-1)}}class ole{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class MW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jA(r.mutation,i,Ca.empty(),ii.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Cn()){const i=bd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=VA();return s.forEach((l,h)=>{o=o.insert(l,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=bd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,i){let s=Ea();const o=UA(),l=UA();return t.forEach((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(void 0===y||y.mutation instanceof pf)?s=s.insert(p.key,p):void 0!==y?(o.set(p.key,y.mutation.getFieldMask()),jA(y.mutation,p,y.mutation.getFieldMask(),ii.now())):o.set(p.key,Ca.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,y)=>o.set(p,y)),t.forEach((p,y)=>{var C;return l.set(p,new ole(y,null!==(C=o.get(p))&&void 0!==C?C:null))}),l))}recalculateAndSaveOverlays(e,t){const r=UA();let i=new Lr((o,l)=>o-l),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(h=>{const p=t.get(h);if(null===p)return;let y=r.get(h)||Ca.empty();y=l.applyToLocalView(p,y),r.set(h,y);const C=(i.get(l.batchId)||Cn()).add(h);i=i.insert(l.batchId,C)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const h=l.getNext(),p=h.key,y=h.value,C=w8();y.forEach(D=>{if(!s.has(D)){const x=R8(t.get(D),r.get(D));null!==x&&C.set(D,x),s=s.add(D)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,C))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return gt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):F3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):fe.resolve(bd());let l=-1,h=s;return o.next(p=>fe.forEach(p,(y,C)=>(l<C.largestBatchId&&(l=C.largestBatchId),s.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(D=>{h=h.insert(y,D)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,Cn())).next(y=>({batchId:l,changes:E8(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(r=>{let i=VA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=VA();return this.indexManager.getCollectionParents(e,i).next(o=>fe.forEach(o,l=>{const h=(p=t,y=l.child(i),new hf(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,y;return this.getDocumentsMatchingCollectionQuery(e,h,r).next(p=>{p.forEach((y,C)=>{s=s.insert(y,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((l,h)=>{const p=h.getKey();null===s.get(p)&&(s=s.insert(p,Jr.newInvalidDocument(p)))});let o=VA();return s.forEach((l,h)=>{const p=i.get(l);void 0!==p&&jA(p.mutation,h,Ca.empty(),ii.now()),FA(t,h)&&(o=o.insert(l,h))}),o})}}class ale{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return fe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Fi(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:J3(r.bundledQuery),readTime:Fi(r.readTime)}),fe.resolve();var r}}class cle{constructor(){this.overlays=new Lr(gt.comparator),this.ls=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bd();return fe.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=bd(),s=t.length+1,o=new gt(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const h=l.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Lr((p,y)=>p-y);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=s.get(p.largestBatchId);null===y&&(y=bd(),s=s.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const l=bd(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>l.set(p,y)),!(l.size()>=i)););return fe.resolve(l)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H3(t,r));let s=this.ls.get(t);void 0===s&&(s=Cn(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class sU{constructor(){this.fs=new Yr(Ns.ds),this.ws=new Yr(Ns._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ns(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ns(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new gt(new Hn([])),r=new Ns(t,e),i=new Ns(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gt(new Hn([])),r=new Ns(t,e),i=new Ns(t,e+1);let s=Cn();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ns(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ns{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gt.comparator(e.key,t.key)||dn(e.As,t.As)}static _s(e,t){return dn(e.As,t.As)||gt.comparator(e.key,t.key)}}class lle{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Yr(Ns.ds)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new $3(s,t,r,i);this.mutationQueue.push(o);for(const l of i)this.Rs=this.Rs.add(new Ns(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,t){return fe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ns(t,0),i=new Ns(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const l=this.Ps(o.As);s.push(l)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yr(dn);return t.forEach(i=>{const s=new Ns(i,0),o=new Ns(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],l=>{r=r.add(l.As)})}),fe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;gt.isDocumentKey(s)||(s=s.child(""));const o=new Ns(new gt(s),0);let l=new Yr(dn);return this.Rs.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(h.As)),!0)},o),fe.resolve(this.Vs(l))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){$t(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return fe.forEach(t.mutations,i=>{const s=new Ns(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ns(t,0),i=this.Rs.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ule{constructor(e){this.Ds=e,this.docs=new Lr(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(t))}getEntries(e,t){let r=Ea();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ea();const o=t.path,l=new gt(o.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||A3(Fq(y),r)<=0||(i.has(y.key)||FA(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Dt()}Cs(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dle(this)}getSize(e){return fe.resolve(this.size)}}class dle extends class AW{constructor(){this.changes=new ff(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hle{constructor(e){this.persistence=e,this.xs=new ff(t=>Ey(t),NA),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sU,this.targetCount=0,this.Ms=My.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),fe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new My(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Fn(t),fe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=t&&null===r.get(l.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ks.containsKey(t))}}class oU{constructor(e,t){this.$s={},this.overlays={},this.Os=new cc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hle(this),this.indexManager=new Jce,this.remoteDocumentCache=new ule(r=>this.referenceDelegate.Ls(r)),this.serializer=new iW(t),this.qs=new ale(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cle,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new lle(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new fle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return fe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class fle extends class Uq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class LR{constructor(e){this.persistence=e,this.Qs=new sU,this.js=null}static zs(e){return new LR(e)}get Ws(){if(this.js)return this.js;throw Dt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ws,r=>{const i=gt.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,Ht.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return fe.or([()=>fe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uU{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Cn(),i=Cn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uU(e,t.fromCache,r,i)}}class kW{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(_8(t))return fe.resolve(null);let r=zo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ER(t,null,"F"),r=zo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Cn(...s);return this.Ui.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ji(t,l);return this.zi(t,p,o,h.readTime)?this.Ki(e,ER(t,null,"F")):this.Wi(e,p,t,h)}))})))}Gi(e,t,r,i){return _8(t)||i.isEqual(Ht.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(w3()<=br.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),U3(t)),this.Wi(e,o,t,function Lq(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ht.fromTimestamp(1e9===r?new ii(t+1,0):new ii(t,r));return new ac(i,gt.empty(),e)}(i,-1)))})}ji(e,t){let r=new Yr(I8(e));return t.forEach((i,s)=>{FA(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return w3()<=br.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",U3(t)),this.Ui.getDocumentsMatchingQuery(e,t,ac.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gle{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Lr(dn),this.Yi=new ff(s=>Ey(s),NA),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function NW(n,e){return dU.apply(this,arguments)}function dU(){return dU=(0,j.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let h=Cn();for(const p of i){o.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({er:p,removedBatchIds:o,addedBatchIds:l}))})})}),dU.apply(this,arguments)}function mle(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,h,p){const y=h.batch,C=y.keys();let D=fe.resolve();return C.forEach(x=>{D=D.next(()=>p.getEntry(l,x)).next(L=>{const z=h.docVersions.get(x);$t(null!==z),L.version.compareTo(z)<0&&(y.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),p.addEntry(L)))})}),D.next(()=>o.mutationQueue.removeMutationBatch(l,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Cn();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(l=l.add(o.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LW(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function _le(n,e){const t=vt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const l=[];e.targetChanges.forEach((y,C)=>{const D=i.get(C);if(!D)return;l.push(t.Bs.removeMatchingKeys(s,y.removedDocuments,C).next(()=>t.Bs.addMatchingKeys(s,y.addedDocuments,C)));let x=D.withSequenceNumber(s.currentSequenceNumber);var L,z,q;null!==e.targetMismatches.get(C)?x=x.withResumeToken(hs.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),i=i.insert(C,x),z=x,q=y,(0===(L=D).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0)&&l.push(t.Bs.updateTargetData(s,x))});let h=Ea(),p=Cn();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),l.push(function FW(n,e,t){let r=Cn(),i=Cn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ea();return t.forEach((l,h)=>{const p=s.get(l);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),h.isNoDocument()&&h.version.isEqual(Ht.min())?(e.removeEntry(l,h.readTime),o=o.insert(l,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(l,h)):Ze("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",h.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(y=>{h=y.nr,p=y.sr})),!r.isEqual(Ht.min())){const y=t.Bs.getLastRemoteSnapshotVersion(s).next(C=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(y)}return fe.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(t.Ji=i,s))}function yle(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hC(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,fe.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new gf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function fC(n,e,t){return hU.apply(this,arguments)}function hU(){return hU=(0,j.Z)(function*(n,e,t){const r=vt(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Eg(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),hU.apply(this,arguments)}function UR(n,e,t){const r=vt(n);let i=Ht.min(),s=Cn();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,h,p){const y=vt(l),C=y.Yi.get(p);return void 0!==C?fe.resolve(y.Ji.get(C)):y.Bs.getTargetData(h,p)}(r,o,zo(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,l.targetId).next(h=>{s=h})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:Ht.min(),t?s:Cn())).next(l=>(function BW(n,e,t){let r=n.Xi.get(e)||Ht.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function v8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),l),{documents:l,ir:s})))}class _U{constructor(){this.activeTargetIds=function B3(){return Ice}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GW{constructor(){this.Hr=new _U,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _U,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cle{Yr(e){}shutdown(){}}class HW{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $R=null;function vU(){return null===$R?$R=268435456+Math.round(2147483648*Math.random()):$R++,"0x"+$R.toString(16)}const Ele={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bo="WebChannelConnection";class Tle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=vU(),l=this.To(e,t);Ze("RestConnection",`Sending RPC '${e}' ${o}:`,l,r);const h={};return this.Eo(h,i,s),this.Ao(e,l,h,r).then(p=>(Ze("RestConnection",`Received RPC '${e}' ${o}: `,p),p),p=>{throw Wc("RestConnection",`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+YI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Ele[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=vU();return new Promise((o,l)=>{const h=new Cae;h.setWithCredentials(!0),h.listenOnce(yae.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case E3.NO_ERROR:const y=h.getResponseJson();Ze(bo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case E3.TIMEOUT:Ze(bo,`RPC '${e}' ${s} timed out`),l(new Ge(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case E3.HTTP_ERROR:const C=h.getStatus();if(Ze(bo,`RPC '${e}' ${s} failed with status:`,C,"response text:",h.getResponseText()),C>0){let D=h.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D?.error;if(x&&x.status&&x.message){const L=function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(q)>=0?q:Ie.UNKNOWN}(x.status);l(new Ge(L,x.message))}else l(new Ge(Ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new Ge(Ie.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Ze(bo,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);Ze(bo,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}Ro(e,t,r){const i=vU(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mae(),l=_ae(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.xmlHttpFactory=new Iae({})),this.Eo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=s.join("");Ze(bo,`Creating RPC '${e}' stream ${i}: ${y}`,h);const C=o.createWebChannel(y,h);let D=!1,x=!1;const L=new wle({ro:q=>{x?Ze(bo,`Not sending because RPC '${e}' stream ${i} is closed:`,q):(D||(Ze(bo,`Opening RPC '${e}' stream ${i} transport.`),C.open(),D=!0),Ze(bo,`RPC '${e}' stream ${i} sending:`,q),C.send(q))},oo:()=>C.close()}),z=(q,de,Ee)=>{q.listen(de,ge=>{try{Ee(ge)}catch(Le){setTimeout(()=>{throw Le},0)}})};return z(C,cR.EventType.OPEN,()=>{x||Ze(bo,`RPC '${e}' stream ${i} transport opened.`)}),z(C,cR.EventType.CLOSE,()=>{x||(x=!0,Ze(bo,`RPC '${e}' stream ${i} transport closed`),L.wo())}),z(C,cR.EventType.ERROR,q=>{x||(x=!0,Wc(bo,`RPC '${e}' stream ${i} transport errored:`,q),L.wo(new Ge(Ie.UNAVAILABLE,"The operation could not be completed")))}),z(C,cR.EventType.MESSAGE,q=>{var de;if(!x){const Ee=q.data[0];$t(!!Ee);const ge=Ee,Le=ge.error||(null===(de=ge[0])||void 0===de?void 0:de.error);if(Le){Ze(bo,`RPC '${e}' stream ${i} received error:`,Le);const ot=Le.status;let tt=function($n){const bi=qi[$n];if(void 0!==bi)return V8(bi)}(ot),zt=Le.message;void 0===tt&&(tt=Ie.INTERNAL,zt="Unknown error status: "+ot+" with message "+Le.message),x=!0,L.wo(new Ge(tt,zt)),C.close()}else Ze(bo,`RPC '${e}' stream ${i} received:`,Ee),L._o(Ee)}}),z(l,vae.STAT_EVENT,q=>{q.stat===xq.PROXY?Ze(bo,`RPC '${e}' stream ${i} detected buffering proxy`):q.stat===xq.NOPROXY&&Ze(bo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}}function GR(){return typeof document<"u"?document:null}function nS(n){return new Oce(n,!0)}class IU{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qW{constructor(e,t,r,i,s,o,l,h){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new IU(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,j.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,j.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,j.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ge(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,j.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ble extends qW{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Fce(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:Dt(),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?($t(void 0===p||"string"==typeof p),hs.fromBase64String(p||"")):($t(void 0===p||p instanceof Uint8Array),hs.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const p=void 0===h.code?Ie.UNKNOWN:V8(h.code);return new Ge(p,h.message||"")}(o);t=new G8(r,i,s,l||null)}else if("documentChange"in e){const r=e.documentChange,i=Ad(n,r.document.name),s=Fi(r.document.updateTime),o=r.document.createTime?Fi(r.document.createTime):Ht.min(),l=new ao({mapValue:{fields:r.document.fields}}),h=Jr.newFoundDocument(i,s,o,l);t=new SR(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Ad(n,r.document),s=r.readTime?Fi(r.readTime):Ht.min(),o=Jr.newNoDocument(i,s);t=new SR([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ad(n,r.document);t=new SR([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Dce(i,s);t=new $8(r.targetId,o)}}var h;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ht.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ht.min():s.readTime?Fi(s.readTime):Ht.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=qA(this.serializer),t.addTarget=function(i,s){let o;const l=s.target;if(o=vR(l)?{documents:X8(i,l)}:{query:Y3(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=W8(i,s.resumeToken);const h=W3(i,s.expectedCount);null!==h&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(Ht.min())>0){o.readTime=cC(i,s.snapshotVersion.toTimestamp());const h=W3(i,s.expectedCount);null!==h&&(o.expectedCount=h)}return o}(this.serializer,e);const r=function Uce(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=qA(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ale extends qW{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Vce(n,e){return n&&n.length>0?($t(void 0!==e),n.map(t=>function(r,i){let s=Fi(r.updateTime?r.updateTime:i);return s.isEqual(Ht.min())&&(s=Fi(i)),new Tce(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.cu(r,t)}return $t(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qA(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function WA(n,e){let t;if(e instanceof oC)t={update:Y8(n,e.key,e.value)};else if(e instanceof aC)t={delete:zA(n,e.key)};else if(e instanceof pf)t={update:Y8(n,e.key,e.data),updateMask:Gce(e.fieldMask)};else{if(!(e instanceof j3))return Dt();t={verify:zA(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof iC)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ty)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof by)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sC)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Nce(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Dt()),t;var i}(this.serializer,r))};this.Wo(t)}}class Sle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ge(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ge(Ie.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(Ie.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Ple{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Li(t),this.mu=!1):Ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xle{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(l=>{r.enqueueAndForget((0,j.Z)(function*(){var h;Og(o)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,j.Z)(function*(p){const y=vt(p);y.vu.add(4),yield pC(y),y.bu.set("Unknown"),y.vu.delete(4),yield rS(y)}),function(p){return h.apply(this,arguments)})(o))}))}),this.bu=new Ple(r,i)}}function rS(n){return EU.apply(this,arguments)}function EU(){return EU=(0,j.Z)(function*(n){if(Og(n))for(const e of n.Ru)yield e(!0)}),EU.apply(this,arguments)}function pC(n){return wU.apply(this,arguments)}function wU(){return wU=(0,j.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),wU.apply(this,arguments)}function HR(n,e){const t=vt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),AU(t)?bU(t):mC(t).Ko()&&TU(t,e))}function iS(n,e){const t=vt(n),r=mC(t);t.Au.delete(e),r.Ko()&&WW(t,e),0===t.Au.size&&(r.Ko()?r.jo():Og(t)&&t.bu.set("Unknown"))}function TU(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mC(n).su(e)}function WW(n,e){n.Vu.qt(e),mC(n).iu(e)}function bU(n){n.Vu=new xce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),mC(n).start(),n.bu.gu()}function AU(n){return Og(n)&&!mC(n).Uo()&&n.Au.size>0}function Og(n){return 0===vt(n).vu.size}function ZW(n){n.Vu=void 0}function Mle(n){return SU.apply(this,arguments)}function SU(){return SU=(0,j.Z)(function*(n){n.Au.forEach((e,t)=>{TU(n,e)})}),SU.apply(this,arguments)}function Rle(n,e){return DU.apply(this,arguments)}function DU(){return DU=(0,j.Z)(function*(n,e){ZW(n),AU(n)?(n.bu.Iu(e),bU(n)):n.bu.set("Unknown")}),DU.apply(this,arguments)}function kle(n,e,t){return PU.apply(this,arguments)}function PU(){return PU=(0,j.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof G8&&2===e.state&&e.cause)try{yield(r=(0,j.Z)(function*(i,s){const o=s.cause;for(const l of s.targetIds)i.Au.has(l)&&(yield i.remoteSyncer.rejectListen(l,o),i.Au.delete(l),i.Vu.removeTarget(l))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zR(n,r)}else if(e instanceof SR?n.Vu.Ht(e):e instanceof $8?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ht.min()))try{const r=yield LW(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const p=i.Au.get(h);p&&i.Au.set(h,p.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,h)=>{const p=i.Au.get(l);if(!p)return;i.Au.set(l,p.withResumeToken(hs.EMPTY_BYTE_STRING,p.snapshotVersion)),WW(i,l);const y=new gf(p.target,l,h,p.sequenceNumber);TU(i,y)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield zR(n,r)}var r}),PU.apply(this,arguments)}function zR(n,e,t){return xU.apply(this,arguments)}function xU(){return xU=(0,j.Z)(function*(n,e,t){if(!Eg(e))throw e;n.vu.add(1),yield pC(n),n.bu.set("Offline"),t||(t=()=>LW(n.localStore)),n.asyncQueue.enqueueRetryable((0,j.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield rS(n)}))}),xU.apply(this,arguments)}function KW(n,e){return e().catch(t=>zR(n,t,e))}function gC(n){return MU.apply(this,arguments)}function MU(){return MU=(0,j.Z)(function*(n){const e=vt(n),t=Ng(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ole(e);)try{const i=yield yle(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Nle(e,i)}catch(i){yield zR(e,i)}QW(e)&&YW(e)}),MU.apply(this,arguments)}function Ole(n){return Og(n)&&n.Eu.length<10}function Nle(n,e){n.Eu.push(e);const t=Ng(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function QW(n){return Og(n)&&!Ng(n).Uo()&&n.Eu.length>0}function YW(n){Ng(n).start()}function Lle(n){return RU.apply(this,arguments)}function RU(){return RU=(0,j.Z)(function*(n){Ng(n).hu()}),RU.apply(this,arguments)}function Fle(n){return kU.apply(this,arguments)}function kU(){return kU=(0,j.Z)(function*(n){const e=Ng(n);for(const t of n.Eu)e.uu(t.mutations)}),kU.apply(this,arguments)}function Vle(n,e,t){return OU.apply(this,arguments)}function OU(){return OU=(0,j.Z)(function*(n,e,t){const r=n.Eu.shift(),i=G3.from(r,e,t);yield KW(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gC(n)}),OU.apply(this,arguments)}function Ule(n,e){return NU.apply(this,arguments)}function NU(){return NU=(0,j.Z)(function*(n,e){var t;e&&Ng(n).ou&&(yield(t=(0,j.Z)(function*(r,i){if(F8(s=i.code)&&s!==Ie.ABORTED){const o=r.Eu.shift();Ng(r).Qo(),yield KW(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gC(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),QW(n)&&YW(n)}),NU.apply(this,arguments)}function JW(n,e){return LU.apply(this,arguments)}function LU(){return LU=(0,j.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Og(t);t.vu.add(3),yield pC(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield rS(t)}),LU.apply(this,arguments)}function VU(){return VU=(0,j.Z)(function*(n,e){const t=vt(n);e?(t.vu.delete(2),yield rS(t)):e||(t.vu.add(2),yield pC(t),t.bu.set("Unknown"))}),VU.apply(this,arguments)}function mC(n){return n.Su||(n.Su=function(e,t,r){const i=vt(e);return i.fu(),new ble(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Mle.bind(null,n),ao:Rle.bind(null,n),nu:kle.bind(null,n)}),n.Ru.push(function(){var e=(0,j.Z)(function*(t){t?(n.Su.Qo(),AU(n)?bU(n):n.bu.set("Unknown")):(yield n.Su.stop(),ZW(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ng(n){return n.Du||(n.Du=function(e,t,r){const i=vt(e);return i.fu(),new Ale(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Lle.bind(null,n),ao:Ule.bind(null,n),au:Fle.bind(null,n),cu:Vle.bind(null,n)}),n.Ru.push(function(){var e=(0,j.Z)(function*(t){t?(n.Du.Qo(),yield gC(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class UU{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,l=new UU(e,t,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _C(n,e){if(Li("AsyncQueue",`${e}: ${n}`),Eg(n))return new Ge(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class yC{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=VA(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new yC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yC)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new yC;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XW{constructor(){this.Cu=new Lr(gt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class vC{constructor(e,t,r,i,s,o,l,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new vC(e,t,yC.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&LA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ble{constructor(){this.Nu=void 0,this.listeners=[]}}class jle{constructor(){this.queries=new ff(e=>y8(e),LA),this.onlineState="Unknown",this.ku=new Set}}function BU(n,e){return jU.apply(this,arguments)}function jU(){return jU=(0,j.Z)(function*(n,e){const t=vt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ble),i)try{s.Nu=yield t.onListen(r)}catch(o){const l=_C(o,`Initialization of query '${U3(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&HU(t)}),jU.apply(this,arguments)}function $U(n,e){return GU.apply(this,arguments)}function GU(){return GU=(0,j.Z)(function*(n,e){const t=vt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),GU.apply(this,arguments)}function $le(n,e){const t=vt(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const l of o.listeners)l.$u(i)&&(r=!0);o.Nu=i}}r&&HU(t)}function Gle(n,e,t){const r=vt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function HU(n){n.ku.forEach(e=>{e.next()})}class zU{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new vC(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class nZ{constructor(e){this.key=e}}class rZ{constructor(e){this.key=e}}class iZ{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cn(),this.mutatedKeys=Cn(),this.tc=I8(e),this.ec=new yC(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new XW,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const h="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,p="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,C)=>{const D=i.get(y),x=FA(this.query,C)?C:null,L=!!D&&this.mutatedKeys.has(D.key),z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let q=!1;D&&x?D.data.isEqual(x.data)?L!==z&&(r.track({type:3,doc:x}),q=!0):this.rc(D,x)||(r.track({type:2,doc:x}),q=!0,(h&&this.tc(x,h)>0||p&&this.tc(x,p)<0)&&(l=!0)):!D&&x?(r.track({type:0,doc:x}),q=!0):D&&!x&&(r.track({type:1,doc:D}),q=!0,(h||p)&&(l=!0)),q&&(x?(o=o.add(x),s=z?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const y="F"===this.query.limitType?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{ec:o,ic:r,zi:l,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((p,y)=>function(C,D){const x=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return x(C)-x(D)}(p.type,y.type)||this.tc(p.doc,y.doc)),this.oc(r);const o=t?this.uc():[],l=0===this.Zu.size&&this.current?1:0,h=l!==this.Xu;return this.Xu=l,0!==s.length||h?{snapshot:new vC(this.query,e.ec,i,s,e.mutatedKeys,0===l,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XW,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new rZ(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new nZ(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Cn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vC.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class qle{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wle{constructor(e){this.key=e,this.fc=!1}}class Zle{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ff(l=>y8(l),LA),this._c=new Map,this.mc=new Set,this.gc=new Lr(gt.comparator),this.yc=new Map,this.Ic=new sU,this.Tc={},this.Ec=new Map,this.Ac=My.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Kle(n,e){return qU.apply(this,arguments)}function qU(){return qU=(0,j.Z)(function*(n,e){const t=gB(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield hC(t.localStore,zo(e)),l=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield WU(t,e,r,"current"===l,o.resumeToken),t.isPrimaryClient&&HR(t.remoteStore,o)}return i}),qU.apply(this,arguments)}function WU(n,e,t,r,i){return ZU.apply(this,arguments)}function ZU(){return ZU=(0,j.Z)(function*(n,e,t,r,i){n.Rc=(C,D,x)=>{return(L=(0,j.Z)(function*(z,q,de,Ee){let ge=q.view.sc(de);ge.zi&&(ge=yield UR(z.localStore,q.query,!1).then(({documents:tt})=>q.view.sc(tt,ge)));const Le=Ee&&Ee.targetChanges.get(q.targetId),ot=q.view.applyChanges(ge,z.isPrimaryClient,Le);return iB(z,q.targetId,ot.cc),ot.snapshot}),function(z,q,de,Ee){return L.apply(this,arguments)})(n,C,D,x);var L};const s=yield UR(n.localStore,e,!0),o=new iZ(e,s.ir),l=o.sc(s.documents),h=HA.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),p=o.applyChanges(l,n.isPrimaryClient,h);iB(n,t,p.cc);const y=new qle(e,t,o);return n.wc.set(e,y),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),p.snapshot}),ZU.apply(this,arguments)}function Qle(n,e){return KU.apply(this,arguments)}function KU(){return KU=(0,j.Z)(function*(n,e){const t=vt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!LA(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield fC(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),iS(t.remoteStore,r.targetId),IC(t,r.targetId)}).catch(Cg))):(IC(t,r.targetId),yield fC(t.localStore,r.targetId,!0))}),KU.apply(this,arguments)}function QU(){return QU=(0,j.Z)(function*(n,e,t){const r=mB(n);try{const i=yield function(s,o){const l=vt(s),h=ii.now(),p=o.reduce((D,x)=>D.add(x.key),Cn());let y,C;return l.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=Ea(),L=Cn();return l.Zi.getEntries(D,p).next(z=>{x=z,x.forEach((q,de)=>{de.isValidDocument()||(L=L.add(q))})}).next(()=>l.localDocuments.getOverlayedDocuments(D,x)).next(z=>{y=z;const q=[];for(const de of o){const Ee=Ace(de,y.get(de.key).overlayedDocument);null!=Ee&&q.push(new pf(de.key,Ee,i8(Ee.value.mapValue),si.exists(!0)))}return l.mutationQueue.addMutationBatch(D,h,q,o)}).next(z=>{C=z;const q=z.applyToLocalDocumentSet(y,L);return l.documentOverlayCache.saveOverlays(D,z.batchId,q)})}).then(()=>({batchId:C.batchId,changes:E8(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let h=s.Tc[s.currentUser.toKey()];h||(h=new Lr(dn)),h=h.insert(o,l),s.Tc[s.currentUser.toKey()]=h}(r,i.batchId,t),yield mf(r,i.changes),yield gC(r.remoteStore)}catch(i){const s=_C(i,"Failed to persist write");t.reject(s)}}),QU.apply(this,arguments)}function sZ(n,e){return YU.apply(this,arguments)}function YU(){return YU=(0,j.Z)(function*(n,e){const t=vt(n);try{const r=yield _le(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?$t(o.fc):i.removedDocuments.size>0&&($t(o.fc),o.fc=!1))}),yield mf(t,r,e)}catch(r){yield Cg(r)}}),YU.apply(this,arguments)}function oZ(n,e,t){const r=vt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const l=o.view.Mu(e);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=vt(s);l.onlineState=o;let h=!1;l.queries.forEach((p,y)=>{for(const C of y.listeners)C.Mu(o)&&(h=!0)}),h&&HU(l)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jle(n,e,t){return JU.apply(this,arguments)}function JU(){return JU=(0,j.Z)(function*(n,e,t){const r=vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Lr(gt.comparator);o=o.insert(s,Jr.newNoDocument(s,Ht.min()));const l=Cn().add(s),h=new GA(Ht.min(),new Map,new Lr(dn),o,l);yield sZ(r,h),r.gc=r.gc.remove(s),r.yc.delete(e),sB(r)}else yield fC(r.localStore,e,!1).then(()=>IC(r,e,t)).catch(Cg)}),JU.apply(this,arguments)}function Xle(n,e){return XU.apply(this,arguments)}function XU(){return XU=(0,j.Z)(function*(n,e){const t=vt(n),r=e.batch.batchId;try{const i=yield mle(t.localStore,e);rB(t,r,null),nB(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield mf(t,i)}catch(i){yield Cg(i)}}),XU.apply(this,arguments)}function eue(n,e,t){return eB.apply(this,arguments)}function eB(){return eB=(0,j.Z)(function*(n,e,t){const r=vt(n);try{const i=yield function(s,o){const l=vt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return l.mutationQueue.lookupMutationBatch(h,o).next(y=>($t(null!==y),p=y.keys(),l.mutationQueue.removeMutationBatch(h,y))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>l.localDocuments.getDocuments(h,p))})}(r.localStore,e);rB(r,e,t),nB(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield mf(r,i)}catch(i){yield Cg(i)}}),eB.apply(this,arguments)}function nB(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rB(n,e,t){const r=vt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function IC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||aZ(n,r)})}function aZ(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(iS(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sB(n))}function iB(n,e,t){for(const r of t)r instanceof nZ?(n.Ic.addReference(r.key,e),nue(n,r)):r instanceof rZ?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||aZ(n,r.key)):Dt()}function nue(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),sB(n))}function sB(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new gt(Hn.fromString(e)),r=n.Ac.next();n.yc.set(r,new Wle(t)),n.gc=n.gc.insert(t,r),HR(n.remoteStore,new gf(zo(rC(t.path)),r,"TargetPurposeLimboResolution",cc.ct))}}function mf(n,e,t){return oB.apply(this,arguments)}function oB(){return oB=(0,j.Z)(function*(n,e,t){const r=vt(n),i=[],s=[],o=[];var l;r.wc.isEmpty()||(r.wc.forEach((l,h)=>{o.push(r.Rc(h,e,t).then(p=>{if((p||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){i.push(p);const y=uU.Li(h.targetId,p);s.push(y)}}))}),yield Promise.all(o),r.dc.nu(i),yield(l=(0,j.Z)(function*(h,p){const y=vt(h);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>fe.forEach(p,D=>fe.forEach(D.Fi,x=>y.persistence.referenceDelegate.addReference(C,D.targetId,x)).next(()=>fe.forEach(D.Bi,x=>y.persistence.referenceDelegate.removeReference(C,D.targetId,x)))))}catch(C){if(!Eg(C))throw C;Ze("LocalStore","Failed to update sequence numbers: "+C)}for(const C of p){const D=C.targetId;if(!C.fromCache){const x=y.Ji.get(D),z=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);y.Ji=y.Ji.insert(D,z)}}}),function(h,p){return l.apply(this,arguments)})(r.localStore,s))}),oB.apply(this,arguments)}function rue(n,e){return aB.apply(this,arguments)}function aB(){return aB=(0,j.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield NW(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(l=>{l.reject(new Ge(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mf(t,r.er)}var i}),aB.apply(this,arguments)}function iue(n,e){const t=vt(n),r=t.yc.get(e);if(r&&r.fc)return Cn().add(r.key);{let i=Cn();const s=t._c.get(e);if(!s)return i;for(const o of s){const l=t.wc.get(o);i=i.unionWith(l.view.nc)}return i}}function gB(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jle.bind(null,e),e.dc.nu=$le.bind(null,e.eventManager),e.dc.Pc=Gle.bind(null,e.eventManager),e}function mB(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eue.bind(null,e),e}class sS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,j.Z)(function*(){t.serializer=nS(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function OW(n,e,t,r){return new gle(n,e,t,r)}(this.persistence,new kW,e.initialUser,this.serializer)}createPersistence(e){return new oU(LR.zs,this.serializer)}createSharedClientState(e){return new GW}terminate(){var e=this;return(0,j.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CC{initialize(e,t){var r=this;return(0,j.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>oZ(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=rue.bind(null,r.syncEngine),yield function FU(n,e){return VU.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jle}createDatastore(e){const t=nS(e.databaseInfo.databaseId),r=new Tle(e.databaseInfo);return new Sle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=l=>oZ(this.syncEngine,l,0),o=HW.D()?new HW:new Cle,new xle(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,l,h,p){const y=new Zle(r,i,s,o,l,h);return p&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,j.Z)(function*(t){const r=vt(t);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield pC(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _ue{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ks.UNAUTHENTICATED,this.clientId=Oq.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,j.Z)(function*(l){Ze("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,j.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,j.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_C(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function WR(n,e){return yB.apply(this,arguments)}function yB(){return yB=(0,j.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,j.Z)(function*(s){r.isEqual(s)||(yield NW(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yB.apply(this,arguments)}function vB(n,e){return IB.apply(this,arguments)}function IB(){return IB=(0,j.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CB(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JW(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>JW(e.remoteStore,s)),n._onlineComponents=e}),IB.apply(this,arguments)}function hZ(n){return"FirebaseError"===n.name?n.code===Ie.FAILED_PRECONDITION||n.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function CB(n){return EB.apply(this,arguments)}function EB(){return EB=(0,j.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hZ(t))throw t;Wc("Error using user provided cache. Falling back to memory cache: "+t),yield WR(n,new sS)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield WR(n,new sS);return n._offlineComponents}),EB.apply(this,arguments)}function ZR(n){return wB.apply(this,arguments)}function wB(){return wB=(0,j.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield vB(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield vB(n,new CC))),n._onlineComponents}),wB.apply(this,arguments)}function KR(n){return CB(n).then(e=>e.localStore)}function EC(n){return bB.apply(this,arguments)}function bB(){return bB=(0,j.Z)(function*(n){const e=yield ZR(n),t=e.eventManager;return t.onListen=Kle.bind(null,e.syncEngine),t.onUnlisten=Qle.bind(null,e.syncEngine),t}),bB.apply(this,arguments)}function mZ(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return function(i,s,o,l,h){const p=new qR({next:C=>{s.enqueueAndForget(()=>$U(i,y));const D=C.docs.has(o);!D&&C.fromCache?h.reject(new Ge(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&C.fromCache&&l&&"server"===l.source?h.reject(new Ge(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(C)},error:C=>h.reject(C)}),y=new zU(rC(o.path),p,{includeMetadataChanges:!0,Ku:!0});return BU(i,y)}(yield EC(n),n.asyncQueue,e,t,r)})),r.promise}function _Z(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return function(i,s,o,l,h){const p=new qR({next:C=>{s.enqueueAndForget(()=>$U(i,y)),C.fromCache&&"server"===l.source?h.reject(new Ge(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(C)},error:C=>h.reject(C)}),y=new zU(o,p,{includeMetadataChanges:!0,Ku:!0});return BU(i,y)}(yield EC(n),n.asyncQueue,e,t,r)})),r.promise}function yZ(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const vZ=new Map;function AB(n,e,t){if(!t)throw new Ge(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CZ(n){if(!gt.isDocumentKey(n))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EZ(n){if(gt.isDocumentKey(n))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QR(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QR(n);throw new Ge(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wZ(n,e){if(e<=0)throw new Ge(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TZ{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function IZ(n,e,t,r){if(!0===e&&!0===r)throw new Ge(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yZ(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oS{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TZ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TZ(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bae;switch(t.type){case"firstParty":return new Pae(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ge(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vZ.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),vZ.delete(e),t.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class co{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Sd extends co{constructor(e,t,r){super(e,t,rC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new gt(e))}withConverter(e){return new Sd(this.firestore,e,this._path)}}function YR(n,e,...t){if(n=(0,k.m9)(n),1===arguments.length&&(e=Oq.A()),AB("doc","path",e),n instanceof oS){const r=Hn.fromString(e,...t);return CZ(r),new Xr(n,null,new gt(r))}{if(!(n instanceof Xr||n instanceof Sd))throw new Ge(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return CZ(r),new Xr(n.firestore,n instanceof Sd?n.converter:null,new gt(r))}}function SZ(n,e){return n=(0,k.m9)(n),e=(0,k.m9)(e),(n instanceof Xr||n instanceof Sd)&&(e instanceof Xr||e instanceof Sd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function SB(n,e){return n=(0,k.m9)(n),e=(0,k.m9)(e),n instanceof co&&e instanceof co&&n.firestore===e.firestore&&LA(n._query,e._query)&&n.converter===e.converter}class Sue{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new IU(this,"async_queue_retry"),this.Xc=()=>{const t=GR();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=GR();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=GR();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ds;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,j.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Eg(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Li("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=UU.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,j.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function DB(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ei extends oS{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DZ(this),this._firestoreClient.terminate()}}function xue(n,e){const t="object"==typeof n?n:(0,zc.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,zc._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,k.P0)("firestore");s&&function bZ(n,e,t,r={}){var i;const s=(n=jn(n,oS))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=ks.MOCK_USER;else{l=(0,k.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ge(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ks(p)}n._authCredentials=new Aae(new Rq(l,h))}}(i,...s)}return i}function Vi(n){return n._firestoreClient||DZ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DZ(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sce(n._databaseId,l,n._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yZ(p.experimentalLongPollingOptions),p.useFetchStreams));var l,p;n._firestoreClient=new _ue(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dd(hs.fromBase64String(e))}catch(t){throw new Ge(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dd(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _f{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ky{constructor(e){this._methodName=e}}class JR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}const Bue=/^__.*__$/;class jue{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pf(e,this.data,this.fieldMask,t,this.fieldTransforms):new oC(e,this.data,t,this.fieldTransforms)}}class MZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RZ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class XR{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new XR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nk(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(RZ(this.ca)&&Bue.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $ue{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nS(e)}ya(e,t,r,i=!1){return new XR({ca:e,methodName:t,ga:r,path:wi.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(n){const e=n._freezeSettings(),t=nS(n._databaseId);return new $ue(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ek(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);RB("Data must be an object, but it was:",o,r);const l=NZ(r,o);let h,p;if(s.merge)h=new Ca(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const y=[];for(const C of s.mergeFields){const D=lS(e,C,t);if(!o.contains(D))throw new Ge(Ie.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);FZ(y,D)||y.push(D)}h=new Ca(y),p=o.fieldTransforms.filter(C=>h.covers(C.field))}else h=null,p=o.fieldTransforms;return new jue(new ao(l),h,p)}class cS extends ky{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cS}}function OZ(n,e,t,r=!1){return Ny(t,n.ya(r?4:3,e))}function Ny(n,e){if(LZ(n=(0,k.m9)(n)))return RB("Unsupported field value:",e,n),NZ(n,e);if(n instanceof ky)return function(t,r){if(!RZ(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let l=Ny(o,r.wa(s));null==l&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,k.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return A8(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ii.fromDate(t);return{timestampValue:cC(r.serializer,i)}}if(t instanceof ii){const i=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cC(r.serializer,i)}}if(t instanceof JR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dd)return{bytesValue:W8(r.serializer,t._byteString)};if(t instanceof Xr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Z3(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${QR(t)}`)}(n,e)}function NZ(n,e){const t={};return Kq(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wg(n,(r,i)=>{const s=Ny(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function LZ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ii||n instanceof JR||n instanceof Dd||n instanceof Xr||n instanceof ky)}function RB(n,e,t){if(!LZ(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=QR(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function lS(n,e,t){if((e=(0,k.m9)(e))instanceof _f)return e._internalPath;if("string"==typeof e)return tk(n,e);throw nk("Field path arguments must be of type string or ",n,!1,void 0,t)}const que=new RegExp("[~\\*/\\[\\]]");function tk(n,e,t){if(e.search(que)>=0)throw nk(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _f(...e.split("."))._internalPath}catch{throw nk(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nk(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new Ge(Ie.INVALID_ARGUMENT,l+n+h)}function FZ(n,e){return n.some(t=>t.isEqual(e))}class uS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wue extends uS{data(){return super.data()}}function rk(n,e){return"string"==typeof e?tk(n,e):e instanceof _f?e._internalPath:e._delegate._internalPath}function VZ(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kB{}class dS extends kB{}function Lg(n,e,...t){let r=[];e instanceof kB&&r.push(e),r=r.concat(t),function(i){const s=i.filter(l=>l instanceof wC).length,o=i.filter(l=>l instanceof hS).length;if(s>1||s>0&&o>0)throw new Ge(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class hS extends dS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hS(e,t,r)}_apply(e){const t=this._parse(e);return $Z(e._query,t),new co(e.firestore,e.converter,V3(e._query,t))}_parse(e){const t=Oy(e.firestore);return function(i,s,o,l,h,p,y){let C;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){jZ(y,p);const D=[];for(const x of y)D.push(BZ(l,i,x));C={arrayValue:{values:D}}}else C=BZ(l,i,y)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||jZ(y,p),C=OZ(o,"where",y,"in"===p||"not-in"===p);return Bn.create(h,p,C)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class wC extends kB{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wC(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const l of o)$Z(s,l),s=V3(s,l)}(e._query,t),new co(e.firestore,e.converter,V3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class OB extends dS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new OB(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new tC(i,s);return function(l,h){if(null===L3(l)){const p=CR(l);null!==p&&GZ(0,p,h.field)}}(r,o),o}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new hf(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ik extends dS{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ik(e,t,r)}_apply(e){return new co(e.firestore,e.converter,ER(e._query,this._limit,this._limitType))}}class sk extends dS{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sk(e,t,r)}_apply(e){const t=UZ(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(i=t,new hf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ok extends dS{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ok(e,t,r)}_apply(e){const t=UZ(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(i=t,new hf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function UZ(n,e,t,r){if(t[0]=(0,k.m9)(t[0]),t[0]instanceof uS)return function(i,s,o,l,h){if(!l)throw new Ge(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const y of wy(i))if(y.field.isKeyField())p.push(Cy(s,l.key));else{const C=l.data.field(y.field);if(pR(C))throw new Ge(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const D=y.field.canonicalString();throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}p.push(C)}return new Pg(p,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Oy(n.firestore);return function(s,o,l,h,p,y){const C=s.explicitOrderBy;if(p.length>C.length)throw new Ge(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let x=0;x<p.length;x++){const L=p[x];if(C[x].field.isKeyField()){if("string"!=typeof L)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof L}`);if(!F3(s)&&-1!==L.indexOf("/"))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${L}' contains a slash.`);const z=s.path.child(Hn.fromString(L));if(!gt.isDocumentKey(z))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const q=new gt(z);D.push(Cy(o,q))}else{const z=OZ(l,h,L);D.push(z)}}return new Pg(D,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BZ(n,e,t){if("string"==typeof(t=(0,k.m9)(t))){if(""===t)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F3(e)&&-1!==t.indexOf("/"))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Hn.fromString(t));if(!gt.isDocumentKey(r))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cy(n,new gt(r))}if(t instanceof Xr)return Cy(n,t._key);throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QR(t)}.`)}function jZ(n,e){if(!Array.isArray(n)||0===n.length)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $Z(n,e){if(e.isInequality()){const r=CR(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=L3(n);null!==s&&GZ(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ge(Ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function GZ(n,e,t){if(!t.isEqual(e))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NB{convertValue(e,t="none"){switch(Sg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(df(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wg(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new JR(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(MA(e));default:return null}}convertTimestamp(e){const t=Tg(e);return new ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Hn.fromString(e);$t(rW(r));const i=new bg(r.get(1),r.get(3)),s=new gt(r.popFirst(5));return i.isEqual(t)||Li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function ak(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ly{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yf extends uS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rk("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fS extends yf{data(e={}){return super.data(e)}}class Fg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ly(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fS(this._firestore,this._userDataWriter,r.key,r,new Ly(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fS(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ly(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const l=new fS(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ly(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:ide(o.type),doc:l,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ide(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function zZ(n,e){return n instanceof yf&&e instanceof yf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fg&&e instanceof Fg&&n._firestore===e._firestore&&SB(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Vg extends NB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}function qZ(n,e,t){n=jn(n,Xr);const r=jn(n.firestore,ei),i=ak(n.converter,e,t);return TC(r,[ek(Oy(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,si.none())])}function WZ(n,e,t,...r){n=jn(n,Xr);const i=jn(n.firestore,ei),s=Oy(i);let o;return o="string"==typeof(e=(0,k.m9)(e))||e instanceof _f?function MB(n,e,t,r,i,s){const o=n.ya(1,e,t),l=[lS(e,r,t)],h=[i];if(s.length%2!=0)throw new Ge(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)l.push(lS(e,s[D])),h.push(s[D+1]);const p=[],y=ao.empty();for(let D=l.length-1;D>=0;--D)if(!FZ(p,l[D])){const x=l[D];let L=h[D];L=(0,k.m9)(L);const z=o.da(x);if(L instanceof cS)p.push(x);else{const q=Ny(L,z);null!=q&&(p.push(x),y.set(x,q))}}const C=new Ca(p);return new MZ(y,C,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function xB(n,e,t,r){const i=n.ya(1,e,t);RB("Data must be an object, but it was:",i,r);const s=[],o=ao.empty();wg(r,(h,p)=>{const y=tk(e,h,t);p=(0,k.m9)(p);const C=i.da(y);if(p instanceof cS)s.push(y);else{const D=Ny(p,C);null!=D&&(s.push(y),o.set(y,D))}});const l=new Ca(s);return new MZ(o,l,i.fieldTransforms)}(s,"updateDoc",n._key,e),TC(i,[o.toMutation(n._key,si.exists(!0))])}function ZZ(n,...e){var t,r,i;n=(0,k.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||DB(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(DB(e[o])){const C=e[o];e[o]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[o+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[o+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let h,p,y;if(n instanceof Xr)p=jn(n.firestore,ei),y=rC(n._key.path),h={next:C=>{e[o]&&e[o](LB(p,n,C))},error:e[o+1],complete:e[o+2]};else{const C=jn(n,co);p=jn(C.firestore,ei),y=C._query;const D=new Vg(p);h={next:x=>{e[o]&&e[o](new Fg(p,D,C,x))},error:e[o+1],complete:e[o+2]},VZ(n._query)}return function(C,D,x,L){const z=new qR(L),q=new zU(D,z,x);return C.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return BU(yield EC(C),q)})),()=>{z.Dc(),C.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return $U(yield EC(C),q)}))}}(Vi(p),y,l,h)}function TC(n,e){return function(t,r){const i=new ds;return t.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return function Yle(n,e,t){return QU.apply(this,arguments)}(yield function TB(n){return ZR(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Vi(n),e)}function LB(n,e,t){const r=t.docs.get(e._key),i=new Vg(n);return new yf(n,i,e._key,r,new Ly(t.hasPendingWrites,t.fromCache),e.converter)}function YZ(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function JZ(){if(!function rce(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pS{constructor(e){this._delegate=e}static fromBase64String(e){return JZ(),new pS(Dd.fromBase64String(e))}static fromUint8Array(e){return YZ(),new pS(Dd.fromUint8Array(e))}toBase64(){return JZ(),this._delegate.toBase64()}toUint8Array(){return YZ(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VB(n){return function Rde(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ck extends NB{constructor(e){super(),this.firestore=e}convertBytes(e){return new pS(new Dd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Zc.forKey(t,this.firestore,null)}}class Fy{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mS(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fy.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Fy(e,new ck(e),t),i.set(t,s)),s}}Fy.INSTANCES=new WeakMap;class Zc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ck(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Zc(t,new Xr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new Zc(t,new Xr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new bC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bC(this.firestore,function AZ(n,e,...t){if(n=(0,k.m9)(n),AB("collection","path",e),n instanceof oS){const r=Hn.fromString(e,...t);return EZ(r),new Sd(n,null,r)}{if(!(n instanceof Xr||n instanceof Sd))throw new Ge(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return EZ(r),new Sd(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw qo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,k.m9)(e))instanceof Xr&&SZ(this._delegate,e)}set(e,t){t=function FB(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?qZ(this._delegate,e,t):qZ(this._delegate,e)}catch(r){throw qo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?WZ(this._delegate,e):WZ(this._delegate,e,t,...r)}catch(i){throw qo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dde(n){return TC(jn(n.firestore,ei),[new aC(n._key,si.none())])}(this._delegate)}onSnapshot(...e){const t=nK(e),r=rK(e,i=>new gS(this.firestore,new yf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ZZ(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ode(n){n=jn(n,Xr);const e=jn(n.firestore,ei),t=Vi(e),r=new Vg(e);return function Iue(n,e){const t=new ds;return n.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return(r=(0,j.Z)(function*(i,s,o){try{const l=yield function(h,p){const y=vt(h);return y.persistence.runTransaction("read document","readonly",C=>y.localDocuments.getDocument(C,p))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new Ge(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const h=_C(l,`Failed to get document '${s} from cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield KR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new yf(e,r,n._key,i,new Ly(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ade(n){n=jn(n,Xr);const e=jn(n.firestore,ei);return mZ(Vi(e),n._key,{source:"server"}).then(t=>LB(e,n,t))}(this._delegate):function sde(n){n=jn(n,Xr);const e=jn(n.firestore,ei);return mZ(Vi(e),n._key).then(t=>LB(e,n,t))}(this._delegate),t.then(r=>new gS(this.firestore,new yf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Zc(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}function qo(n,e,t){return n.message=n.message.replace(e,t),n}function nK(n){for(const e of n)if("object"==typeof e&&!VB(e))return e;return{}}function rK(n,e){var t,r;let i;return i=VB(n[0])?n[0]:VB(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class gS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Zc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zZ(this._delegate,e._delegate)}}class mS extends gS{data(e){const t=this._delegate.data(e);return function Tae(n,e){n||Dt()}(void 0!==t),t}}class Wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ck(e)}where(e,t,r){try{return new Wo(this.firestore,Lg(this._delegate,function Zue(n,e,t){const r=e,i=rk("where",n);return hS._create(i,r,t)}(e,t,r)))}catch(i){throw qo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wo(this.firestore,Lg(this._delegate,function Kue(n,e="asc"){const t=e,r=rk("orderBy",n);return OB._create(r,t)}(e,t)))}catch(r){throw qo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,Lg(this._delegate,function Que(n){return wZ("limit",n),ik._create("limit",n,"F")}(e)))}catch(t){throw qo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,Lg(this._delegate,function Yue(n){return wZ("limitToLast",n),ik._create("limitToLast",n,"L")}(e)))}catch(t){throw qo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,Lg(this._delegate,function Jue(...n){return sk._create("startAt",n,!0)}(...e)))}catch(t){throw qo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,Lg(this._delegate,function Xue(...n){return sk._create("startAfter",n,!1)}(...e)))}catch(t){throw qo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,Lg(this._delegate,function ede(...n){return ok._create("endBefore",n,!1)}(...e)))}catch(t){throw qo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,Lg(this._delegate,function tde(...n){return ok._create("endAt",n,!0)}(...e)))}catch(t){throw qo(t,"endAt()","Query.endAt()")}}isEqual(e){return SB(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function lde(n){n=jn(n,co);const e=jn(n.firestore,ei),t=Vi(e),r=new Vg(e);return function Cue(n,e){const t=new ds;return n.asyncQueue.enqueueAndForget((0,j.Z)(function*(){return(r=(0,j.Z)(function*(i,s,o){try{const l=yield UR(i,s,!0),h=new iZ(s,l.ir),p=h.sc(l.documents),y=h.applyChanges(p,!1);o.resolve(y.snapshot)}catch(l){const h=_C(l,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield KR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Fg(e,r,n,i))}(this._delegate):"server"===e?.source?function ude(n){n=jn(n,co);const e=jn(n.firestore,ei),t=Vi(e),r=new Vg(e);return _Z(t,n._query,{source:"server"}).then(i=>new Fg(e,r,n,i))}(this._delegate):function cde(n){n=jn(n,co);const e=jn(n.firestore,ei),t=Vi(e),r=new Vg(e);return VZ(n._query),_Z(t,n._query).then(i=>new Fg(e,r,n,i))}(this._delegate),t.then(r=>new UB(this.firestore,new Fg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nK(e),r=rK(e,i=>new UB(this.firestore,new Fg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ZZ(this._delegate,t,r)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}class Nde{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UB{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mS(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Nde(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new mS(this._firestore,r))})}isEqual(e){return zZ(this._delegate,e._delegate)}}class bC extends Wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Zc(this.firestore,e):null}doc(e){try{return new Zc(this.firestore,void 0===e?YR(this._delegate):YR(this._delegate,e))}catch(t){throw qo(t,"doc()","CollectionReference.doc()")}}add(e){return function hde(n,e){const t=jn(n.firestore,ei),r=YR(n),i=ak(n.converter,e);return TC(t,[ek(Oy(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Zc(this.firestore,t))}isEqual(e){return SZ(this._delegate,e._delegate)}withConverter(e){return new bC(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}function iK(n,e){return function Ude(n,e=k4.z){return new vs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function jB(n,e){return iK(n,e).pipe((0,jt.U)(t=>({payload:t,type:"query"})))}function lk(n,e){return jB(n,e).pipe(xc(void 0),O4(),(0,jt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,l)=>{const h=i.find(y=>y.doc.ref.isEqual(o.ref)),p=t?.payload.docs.find(y=>y.ref.isEqual(o.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(o.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:o}})}),s}))}function sK(n,e,t){return lk(n,t).pipe(la((r,i)=>function jde(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function $de(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $B(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $B(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $B(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),fz(),(0,jt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function $B(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function oK(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class aK{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lk(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,jt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xc(void 0),O4(),xi(([r,i])=>i.length>0||!r),(0,jt.U)(([r,i])=>i),Gt.iC)}auditTrail(e){return this.stateChanges(e).pipe(la((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oK(e);return sK(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return jB(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gt.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(Gt.iC)}add(e){return this.ref.add(e)}doc(e){return new cK(this.ref.doc(e),this.afs)}}class cK{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=dK(r,t);return new aK(i,s,this.afs)}snapshotChanges(){return function Bde(n,e){return iK(n,e).pipe(xc(void 0),O4(),(0,jt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,jt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,On.D)(this.ref.get(e)).pipe(Gt.iC)}}class Gde{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lk(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xi(t=>t.length>0),Gt.iC):lk(this.query,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}auditTrail(e){return this.stateChanges(e).pipe(la((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oK(e);return sK(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return jB(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Gt.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(Gt.iC)}}const lK=new u.OlP("angularfire2.enableFirestorePersistence"),uK=new u.OlP("angularfire2.firestore.persistenceSettings"),Hde=new u.OlP("angularfire2.firestore.settings"),zde=new u.OlP("angularfire2.firestore.use-emulator");function dK(n,e=(t=>t)){return{query:e(n),ref:n}}let lc=(()=>{class n{constructor(t,r,i,s,o,l,h,p,y,C,D,x,L,z,q,de,Ee){this.schedulers=h;const ge=(0,us.on)(t,l,r),Le=y;C&&WV(ge,l,D,L,z,q,x,de),[this.firestore,this.persistenceEnabled$]=(0,us.cc)(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const ot=l.runOutsideAngular(()=>ge.firestore());if(s&&ot.settings(s),Le&&ot.useEmulator(...Le),i&&!Yo(o)){const tt=()=>{try{return(0,On.D)(ot.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(zt){return typeof console<"u"&&console.warn(zt),xt(!1)}};return[ot,l.runOutsideAngular(tt)]}return[ot,xt(!1)]},[s,Le,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=dK(i,r),l=this.schedulers.ngZone.run(()=>s);return new aK(l,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Gde(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new cK(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us.Dh),u.LFG(us.xv,8),u.LFG(lK,8),u.LFG(Hde,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gt.HU),u.LFG(uK,8),u.LFG(zde,8),u.LFG(hg,8),u.LFG(jV,8),u.LFG($V,8),u.LFG(GV,8),u.LFG(HV,8),u.LFG(zV,8),u.LFG(qV,8),u.LFG(sf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qde=(()=>{class n{constructor(){yM.Z.registerVersion("angularfire",Gt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lK,useValue:!0},{provide:uK,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lc]}),n})();const Wde=["titleInput"],Zde=["descriptionInput"],Kde=["subjectInput"];function Qde(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",24)(1,"div",25)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"button",26),u.NdJ("click",function(){const s=u.CHM(t).index,o=u.oxw();return u.KtG(o.deleteCard(s))}),u._uU(5,"X"),u.qZA()(),u.TgZ(6,"div",27)(7,"div",28)(8,"input",29),u.NdJ("ngModelChange",function(i){const o=u.CHM(t).$implicit;return u.KtG(o.term=i)}),u.qZA(),u.TgZ(9,"h6"),u._uU(10,"Term"),u.qZA()(),u.TgZ(11,"div",28)(12,"input",30),u.NdJ("ngModelChange",function(i){const o=u.CHM(t).$implicit;return u.KtG(o.definition=i)}),u.qZA(),u.TgZ(13,"h6"),u._uU(14,"Definition"),u.qZA()(),u.TgZ(15,"button",31),u._UZ(16,"img",32)(17,"input",33,34),u.qZA(),u.TgZ(19,"button",35),u.NdJ("click",function(){const s=u.CHM(t).index,o=u.MAs(18),l=u.oxw();return u.KtG(l.uploadFile(o,s))}),u._uU(20,"Upload"),u.qZA()()()}if(2&n){const t=e.$implicit,r=e.index,i=u.oxw();u.xp6(3),u.Oqu(r+1),u.xp6(5),u.Q6J("ngModel",t.term),u.xp6(4),u.Q6J("ngModel",t.definition),u.xp6(4),u.Q6J("src",t.image?t.image:i.uploadImageURL,u.LSH)}}let Yde=(()=>{class n{constructor(t,r,i){this.auth=t,this.afs=r,this.router=i,this.storage=(0,u.f3M)(GI),this.delete=new u.vpe,this.term="",this.definition="",this.basePath="/uploads",this.uploadImageURL="../../assets/images/img.png",this.cards=[{term:"",definition:"",image:""},{term:"",definition:"",image:""}],this.name="",this.description="",this.subject="",this.decksCollection=r.collection("Decks")}ngOnInit(){}createNewDeck(){this.name=this.titleInput.nativeElement.value,this.description=this.descriptionInput.nativeElement.value,this.subject=this.subjectInput.nativeElement.value;const t={cards:this.cards,name:this.name,description:this.description,subject:this.subject,creator:localStorage.getItem("fullName"),email:localStorage.getItem("email"),time:(new Date).toLocaleDateString(),profileImg:localStorage.getItem("profileImg")};if(""==this.name)alert("In order to create a deck, it needs a title");else if(""==this.subject)alert("Error. Please choose a subject");else if(""==this.cards[0].term||""==this.cards[1].term||""==this.cards[0].definition||""==this.cards[1].definition)alert("Error. You need at least 2 cards");else{const r=this.name.toLowerCase().split(" ");this.decksCollection.add({...t,searchKeywords:r}).then(i=>{alert("Deck has been created"),console.log("Deck added with ID: ",i.id),this.router.navigate(["yourDecks"])}).catch(i=>{console.error("Error adding deck: ",i)})}}addCard(){this.cards.push({term:"",definition:"",image:""})}deleteCard(t){this.cards.splice(t,1)}uploadFile(t,r){var i=this;return(0,j.Z)(function*(){if(!t.files)return;const s=t.files[0];if(s){const o=(new Date).getTime(),l=M4(i.storage,"images/"+o+"-"+s.name),h=R4(l,s);try{yield h;const y=yield x4(l);i.cards[r].image=y,console.log("image URL",y)}catch(p){console.error("Error uploading file:",p)}}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(PM),u.Y36(lc),u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create"]],viewQuery:function(t,r){if(1&t&&(u.Gf(Wde,5),u.Gf(Zde,5),u.Gf(Kde,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.titleInput=i.first),u.iGM(i=u.CRH())&&(r.descriptionInput=i.first),u.iGM(i=u.CRH())&&(r.subjectInput=i.first)}},inputs:{cardNumber:"cardNumber"},outputs:{delete:"delete"},decls:40,vars:2,consts:[[1,"createSection"],[1,"createContainer"],[1,"deckDescriptionArea"],[1,"s"],["type","text","placeholder","Enter Title","maxlength","80"],["titleInput",""],[1,"ss"],[1,"description"],["type","text","placeholder","Enter Description","maxlength","100",3,"ngModel","ngModelChange"],["descriptionInput",""],[1,"subject"],["id","subject","name","subject"],["subjectInput",""],["value","","disabled","","selected",""],["value","English"],["value","Social Studies"],["value","Math"],["value","Science"],["value","Art"],["value","Music"],["value","Languages"],["class","card",4,"ngFor","ngForOf"],[1,"addCardBtn",3,"click"],[1,"createDeckBtn",3,"click"],[1,"card"],[1,"topcard"],[1,"deleteCard",3,"click"],[1,"bottomcard"],[1,"inputcontainer"],["type","text","name","","placeholder","Enter Term","id","",3,"ngModel","ngModelChange"],["type","text","name","","placeholder","Enter Definition","id","",3,"ngModel","ngModelChange"],[1,"addImageBtn"],["alt","",3,"src"],["type","file","id","myImage"],["upload",""],[1,"uploadImageBtn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),u._uU(5,"Title"),u.qZA(),u._UZ(6,"input",4,5),u.qZA(),u.TgZ(8,"div",6)(9,"div",7)(10,"h6"),u._uU(11,"Description"),u.qZA(),u.TgZ(12,"input",8,9),u.NdJ("ngModelChange",function(s){return r.description=s}),u.qZA()(),u.TgZ(14,"div",10)(15,"h6"),u._uU(16,"Subject"),u.qZA(),u.TgZ(17,"select",11,12)(19,"option",13),u._uU(20,"Choose a subject"),u.qZA(),u.TgZ(21,"option",14),u._uU(22,"English"),u.qZA(),u.TgZ(23,"option",15),u._uU(24,"Social Studies"),u.qZA(),u.TgZ(25,"option",16),u._uU(26,"Math"),u.qZA(),u.TgZ(27,"option",17),u._uU(28,"Science"),u.qZA(),u.TgZ(29,"option",18),u._uU(30,"Art"),u.qZA(),u.TgZ(31,"option",19),u._uU(32,"Music"),u.qZA(),u.TgZ(33,"option",20),u._uU(34,"Languages"),u.qZA()()()(),u.YNc(35,Qde,21,4,"div",21),u.TgZ(36,"button",22),u.NdJ("click",function(){return r.addCard()}),u._uU(37,"+ Add Card"),u.qZA(),u.TgZ(38,"button",23),u.NdJ("click",function(){return r.createNewDeck()}),u._uU(39,"Create"),u.qZA()()()()),2&t&&(u.xp6(12),u.Q6J("ngModel",r.description),u.xp6(23),u.Q6J("ngForOf",r.cards))},dependencies:[u4,h4,af,hy,p4,mg,Us],styles:[".createSection[_ngcontent-%COMP%]{width:100%;min-height:70vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:6px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]{max-width:900px;min-height:500px;margin:20px auto;position:relative;padding-bottom:70px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .addCardBtn[_ngcontent-%COMP%]{bottom:100px;border:2px solid var(--teal-color);color:var(--teal-color);background-color:#fff;padding:30px;border-radius:20px;font-size:1.5rem;width:100%;transition:.3s ease}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .addCardBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--yellow-color);border:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .createDeckBtn[_ngcontent-%COMP%]{bottom:30px;right:0;border:none;background-color:#4cbfdc;padding:7px;color:#fff;border-radius:10px;transition:.3s ease;width:120px;height:60px;font-size:1.2rem;margin-top:10px;justify-content:right;float:right}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .createDeckBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]{width:100%;min-height:200px;margin-bottom:10px}.ss[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   .s[_ngcontent-%COMP%]{width:100%;height:80px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.description[_ngcontent-%COMP%]{width:66%;height:80px;margin-right:10px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.subject[_ngcontent-%COMP%]{width:33%;height:80px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;outline:none;padding:2px;border-bottom:1px solid var(--teal-color);width:100%}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;outline:none;padding:2px;border-bottom:1px solid var(--teal-color);width:100%}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:lighter;padding:3px;font-size:24px;color:var(--teal-color);margin:0}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;height:150px;margin-bottom:20px;border-radius:20px;padding:20px;box-shadow:#959da526 0 8px 24px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]   .deleteCard[_ngcontent-%COMP%]{border:none;color:var(--darkblue-color);font-size:24px;background-color:#6ac4db00;margin-top:-10px;transition:.3s ease}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]   .deleteCard[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--orange-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:5px;position:relative}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]{width:50%;padding:5px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;border-bottom:1px solid var(--teal-color);width:100%;outline:none;padding:2px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:lighter;padding:3px;font-size:16px;color:var(--teal-color)}.addImageBtn[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:40px;width:35px;height:35px;border:none;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#fff;cursor:pointer}.addImageBtn[_ngcontent-%COMP%]:hover{cursor:pointer}.addImageBtn[_ngcontent-%COMP%]   #myImage[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.uploadImageBtn[_ngcontent-%COMP%]{border:none;background-color:var(--yellow-color);padding:3px 5px;color:#fff;border-radius:10px}.uploadImageBtn[_ngcontent-%COMP%]:hover{cursor:pointer}img[_ngcontent-%COMP%]{min-width:20px;max-width:40px;min-height:20px;max-height:30px}.addImageBtn[_ngcontent-%COMP%]   #myImage[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})(),hK=(()=>{class n{constructor(t,r){this.afs=t,this.afAuth=r}loadRecentlyVisitedDecks(){return this.afAuth.authState}updateRecentlyVisitedDecks(t){var r=this;return(0,j.Z)(function*(){const i=r.afAuth.currentUser;if(i){const s=i.uid;(yield r.afs.collection("users").doc(s).get().toPromise()).exists?(yield r.afs.collection("users").doc(s).update({recentlyVisitedDecks:t}),console.log("Recently visited decks updated in Firestore")):(yield r.afs.collection("users").doc(s).set({recentlyVisitedDecks:t}),console.log("User document created with recently visited decks"))}return null})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lc),u.LFG(hg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fK=(()=>{class n{constructor(t){this.firestore=t}getQueryResults(t){throw new Error("Method not implemented.")}getAllUsers(){return this.firestore.collection("Users").snapshotChanges()}getAllDecks(){return this.firestore.collection("Decks").snapshotChanges()}getYourDecks(t){return this.firestore.collection("Decks",r=>r.where("email","==",t)).snapshotChanges()}getDeckSearch(t){return this.firestore.collection("Decks",r=>r.where("subject","==",t)).snapshotChanges()}getDeckSearch2(t){return this.firestore.collection("Decks",r=>r.where("name","==",t)).snapshotChanges()}getDeckSearch3(t){return this.firestore.collection("Decks",r=>r.where("searchKeywords","array-contains",t.toLowerCase())).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jde(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){const s=u.CHM(t).$implicit,o=u.oxw();return u.KtG(o.searchCat(s))}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.s9C("id",t),u.xp6(1),u.Oqu(t)}}function Xde(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17),u.NdJ("click",function(){const s=u.CHM(t).$implicit,o=u.oxw(2);return u.KtG(o.navigateToDeck(s.id))}),u.TgZ(1,"div",18)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"h2"),u._uU(5),u.qZA(),u.TgZ(6,"h6"),u._uU(7),u.qZA(),u.TgZ(8,"p"),u._uU(9),u.qZA(),u.TgZ(10,"p",19),u._uU(11),u.qZA(),u.TgZ(12,"p",20),u._uU(13),u.qZA(),u._UZ(14,"div",21),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.s9C("id",t.id),u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.email),u.xp6(2),u.Oqu(t.time),u.xp6(2),u.Oqu(t.description),u.xp6(2),u.Oqu(t.subject),u.xp6(2),u.hij("",t.cardCount," terms")}}function ehe(n,e){if(1&n&&(u.TgZ(0,"div",15)(1,"div",16),u.YNc(2,Xde,15,7,"div",11),u.qZA()()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngForOf",t.recentlyVisitedDecks)}}function the(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17),u.NdJ("click",function(){const s=u.CHM(t).$implicit,o=u.oxw();return u.KtG(o.navigateToDeck(s.id))}),u.TgZ(1,"div",18)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"h2"),u._uU(5),u.qZA(),u.TgZ(6,"h6"),u._uU(7),u.qZA(),u.TgZ(8,"p"),u._uU(9),u.qZA(),u.TgZ(10,"p",19),u._uU(11),u.qZA(),u.TgZ(12,"p",20),u._uU(13),u.qZA(),u._UZ(14,"div",21),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.s9C("id",t.id),u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.email),u.xp6(2),u.hij(" ",t.time,""),u.xp6(2),u.Oqu(t.description),u.xp6(2),u.Oqu(t.subject),u.xp6(2),u.hij("",t.cardCount," terms")}}let nhe=(()=>{class n{constructor(t,r,i,s){this.afs=t,this.router=r,this.dataService=i,this.recentlyVisitedService=s,this.decks=[],this.subjects=["Math","English","Languages","Social Studies","Science","Music","Art","History","Computer Science"],this.visibleSubjects=[],this.startIndex=0,this.subjectsPerPage=4,this.currentPage=1,this.decksPerPage=9,this.word="",this.totalPages=1,this.recentlyVisitedDecks=[],this.decksCollection=t.collection("Decks"),this.updateVisibleSubjects(),this.usersCollection=t.collection("Users")}ngOnInit(){this.recentlyVisitedService.loadRecentlyVisitedDecks().subscribe(r=>{r&&this.loadRecentlyVisitedDecks(r.uid)}),this.dataService.getAllDecks().subscribe(r=>{this.decks=r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s,cardCount:s.cards.length}}),this.totalPages=Math.ceil(this.decks.length/this.decksPerPage)});const t=localStorage.getItem("recentlyVisitedDecks");t&&(this.recentlyVisitedDecks=JSON.parse(t))}loadRecentlyVisitedDecks(t){this.recentlyVisitedService.loadRecentlyVisitedDecks().subscribe(r=>{r&&r.recentlyVisitedDecks&&(this.recentlyVisitedDecks=r.recentlyVisitedDecks)})}updateVisibleSubjects(){this.visibleSubjects=this.subjects.slice(this.startIndex,this.startIndex+this.subjectsPerPage)}scrollLeft(){this.startIndex>0&&(this.startIndex-=1,this.updateVisibleSubjects())}scrollRight(){this.startIndex+this.subjectsPerPage<this.subjects.length&&(this.startIndex+=1,this.updateVisibleSubjects())}navigateToDeck(t){const r=this.decks.find(s=>s.id===t);!this.recentlyVisitedDecks.some(s=>s.id===t)&&(this.recentlyVisitedDecks.unshift(r),this.recentlyVisitedDecks=this.recentlyVisitedDecks.slice(0,3),localStorage.setItem("recentlyVisitedDecks",JSON.stringify(this.recentlyVisitedDecks)),this.recentlyVisitedService.updateRecentlyVisitedDecks(this.recentlyVisitedDecks)),this.router.navigate(["deck",t])}searchCat(t){console.log(t),this.dataService.getDeckSearch(t).subscribe(r=>{this.decks=r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s,cardCount:s.cards.length}}),console.log(this.decks)})}searchAll(){console.log(this.word),this.dataService.getDeckSearch2(this.word).subscribe(t=>{this.decks=t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i,cardCount:i.cards.length}}),console.log(this.decks)},t=>{console.error("Error fetching decks:",t)}),this.dataService.getDeckSearch3(this.word.toLowerCase()).subscribe(t=>{this.decks=t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i,cardCount:i.cards.length}}),console.log(this.decks)},t=>{console.error("Error fetching decks:",t)}),this.word=""}getDecksForCurrentPage(){const t=(this.currentPage-1)*this.decksPerPage;return this.decks.slice(t,t+this.decksPerPage)}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lc),u.Y36(vn),u.Y36(fK),u.Y36(hK))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-explore"]],features:[u._Bn([hK])],decls:22,vars:5,consts:[[1,"exploreSection"],[1,"exploreSection-search"],[1,"search"],["type","text","placeholder","Search for study sets",3,"ngModel","ngModelChange"],["id","searchBtn",3,"click"],[1,"subjectsearch"],[1,"scroll-button","left-button",3,"click"],[3,"id","click",4,"ngFor","ngForOf"],[1,"scroll-button","right-button",3,"click"],["class","recent",4,"ngIf"],[1,"decksHolder"],[3,"click",4,"ngFor","ngForOf"],[1,"deckpageControl"],[1,"btn",3,"click"],[3,"id","click"],[1,"recent"],[1,"decksHolder2"],[3,"click"],[1,"deck",3,"id"],[1,"sub"],[1,"term"],[1,"underline"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),u.NdJ("ngModelChange",function(s){return r.word=s}),u.qZA(),u.TgZ(4,"button",4),u.NdJ("click",function(){return r.searchAll()}),u._uU(5,"Seach"),u.qZA()(),u.TgZ(6,"div",5)(7,"button",6),u.NdJ("click",function(){return r.scrollLeft()}),u._uU(8,"\u25c1"),u.qZA(),u.YNc(9,Jde,2,2,"button",7),u.TgZ(10,"button",8),u.NdJ("click",function(){return r.scrollRight()}),u._uU(11,"\u25b7"),u.qZA()()(),u.YNc(12,ehe,3,1,"div",9),u.TgZ(13,"div",10),u.YNc(14,the,15,7,"div",11),u.qZA(),u.TgZ(15,"div",12)(16,"div",13),u.NdJ("click",function(){return r.prevPage()}),u._uU(17,"\u25c1"),u.qZA(),u.TgZ(18,"div"),u._uU(19),u.qZA(),u.TgZ(20,"div",13),u.NdJ("click",function(){return r.nextPage()}),u._uU(21,"\u25b7"),u.qZA()()()),2&t&&(u.xp6(3),u.Q6J("ngModel",r.word),u.xp6(6),u.Q6J("ngForOf",r.visibleSubjects),u.xp6(3),u.Q6J("ngIf",r.recentlyVisitedDecks&&r.recentlyVisitedDecks.length>0),u.xp6(2),u.Q6J("ngForOf",r.getDecksForCurrentPage()),u.xp6(5),u.Oqu(r.currentPage))},dependencies:[af,hy,mg,Us,Cr],styles:[".exploreSection[_ngcontent-%COMP%]{width:100%;min-height:85vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]{width:400px;min-height:120px;margin:0 auto;padding-top:20px;padding-bottom:20px}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;justify-content:space-evenly}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;border-radius:10px;height:35px;padding-left:10px;width:350px;outline:none}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #searchBtn[_ngcontent-%COMP%]{border:none;width:60px;margin-left:-20px;background-color:#4cbfdc;border-radius:10px;height:35px;color:#fff;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;font-size:1rem}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #searchBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:15px;flex-wrap:wrap;justify-content:flex-start}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#4cbfdc;padding:2px;color:#fff;border-radius:10px;transition:.3s ease;margin:2px;width:75px;height:35px;font-size:12px;outline:none}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   .scroll-button[_ngcontent-%COMP%]{background-color:var(--yellow-color);border:none;color:#fff;padding:5px;border-radius:20px;width:35px;height:35px;transition:.3s ease}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   .scroll-button[_ngcontent-%COMP%]:hover{background-color:var(--orange-color);cursor:pointer}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}.exploreSection[_ngcontent-%COMP%]   .recent[_ngcontent-%COMP%]{max-width:900px;min-height:150px;margin:0 auto;justify-content:flex-start;flex-wrap:wrap;padding-bottom:20px}.exploreSection[_ngcontent-%COMP%]   .recent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-left:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]{max-width:900px;min-height:150px;margin:0 auto;display:flex;justify-content:flex-start;flex-wrap:wrap;padding-bottom:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]{width:280px;min-height:180px;padding:20px;border-radius:20px;margin:10px;box-shadow:#0003 0 5px 15px;position:relative;transform:.3s ease;transition:.3s ease;text-decoration:none;background-color:var(--yellow-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover   .underline[_ngcontent-%COMP%]{display:block;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:var(--yellow-color);display:none;transition:.3s ease;margin:0 auto}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover{background-color:#fff7e1;cursor:pointer;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:var(--darkblue-color);font-weight:bolder;margin-bottom:4px}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;width:70px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;left:10px;color:var(--yellow-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{background-color:var(--teal-color);border-radius:20px;width:100px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;right:10px;color:#fff;text-align:center}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--darkblue-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:10px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter}.exploreSection[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter;position:absolute;top:10px;right:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]{max-width:900px;min-height:400px;margin:0 auto;display:flex;justify-content:flex-start;flex-wrap:wrap;padding-bottom:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]{width:280px;min-height:180px;padding:20px;border-radius:20px;margin:10px;box-shadow:#0003 0 5px 15px;position:relative;transform:.3s ease;transition:.3s ease;text-decoration:none}a[_ngcontent-%COMP%]{text-decoration:none}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover   .underline[_ngcontent-%COMP%]{display:block;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:var(--yellow-color);display:none;transition:.3s ease;margin:0 auto}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover{background-color:#fff7e1;cursor:pointer;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:var(--darkblue-color);font-weight:bolder;margin-bottom:4px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{background-color:var(--yellow-color);border-radius:20px;width:70px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;left:10px;color:#fff}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{background-color:var(--teal-color);border-radius:20px;width:100px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;right:10px;color:#fff;text-align:center}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--darkblue-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:10px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter;position:absolute;top:10px;right:20px}.deckpageControl[_ngcontent-%COMP%]{height:100px;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;padding-bottom:30px}.deckpageControl[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:var(--yellow-color);border:none;color:#fff;padding:5px;border-radius:30px;width:50px;height:50px;transition:.3s ease;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;margin:10px}.deckpageControl[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--orange-color)}@media screen and (max-width: 900px){.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]{justify-content:center}.exploreSection[_ngcontent-%COMP%]   .recent[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center;justify-content:space-evenly}.exploreSection[_ngcontent-%COMP%]   .recent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px auto}.exploreSection[_ngcontent-%COMP%]   .recent[_ngcontent-%COMP%]   .decksHolder2[_ngcontent-%COMP%]{justify-content:center}}@media screen and (max-width: 450px){.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]{max-width:340px}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;font-size:10px}}"]}),n})(),rhe=(()=>{class n{constructor(t,r,i){this.router=t,this.firestore=r,this.afAuth=i,this.fName="",this.lName="",this.email="",this.password=""}ngOnInit(){}navigate(t){this.router.navigate([t])}createUser(){var t=this;return(0,j.Z)(function*(){if(""==t.fName||""==t.lName||""==t.email||""==t.password)alert("All feilds need to be filled");else{Gh();try{const i=yield t.afAuth.createUserWithEmailAndPassword(t.email,t.password);if(i.user){const s=i.user.uid;yield t.firestore.collection("Users").doc(s).set({fName:t.fName,lName:t.lName,email:t.email,password:t.password}),localStorage.setItem("fullName",t.fName+" "+t.lName),localStorage.setItem("fname",t.fName),localStorage.setItem("lname",t.lName),localStorage.setItem("firstLetter",t.fName.charAt(0).toUpperCase()),localStorage.setItem("email",t.email),localStorage.setItem("userIsLoggedIn",JSON.stringify("true")),t.router.navigate(["explore"]),setTimeout(()=>{window.location.reload()},2e3),console.log("User data added to Firestore with UID as document ID"),alert("Hello "+t.fName+"! You have created an account"),t.fName="",t.lName="",t.email="",t.password=""}}catch(i){console.log("Error creating user and adding data:",i),"FirebaseError: Firebase: The email address is badly formatted. (auth/invalid-email)."==i?alert("Email is badly forrmatted"):"FirebaseError: Firebase: Password should be at least 6 characters (auth/weak-password)."==i?alert("Password needs to be at least 6 characters long"):alert("Email may already be used. Please try another email.")}}})()}register(t,r){var i=this;return(0,j.Z)(function*(){try{const s=yield i.afAuth.createUserWithEmailAndPassword(t,r);console.log("User is registered",s.user)}catch(s){console.log("Error registering user",s)}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vn),u.Y36(lc),u.Y36(hg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signin"]],decls:39,vars:4,consts:[[1,"loginsection"],[1,"loginsection-content"],[1,"loginsection-content-titleBtns"],[1,"on",3,"click"],[3,"click"],[1,"loginsection-content-loginInfo"],["for","fName"],["id","fName","type","text","placeholder","Jimmy",3,"ngModel","ngModelChange"],["for","lName"],["id","lName","placeholder","Johnson","type","text",3,"ngModel","ngModelChange"],["for","email"],["id","email","placeholder","users@flash.com","type","email",3,"ngModel","ngModelChange"],["for","password"],["id","password","placeholder","*********","type","password",3,"ngModel","ngModelChange"],["id","loginUser","type","submit",3,"click"],["id","wave2","viewBox","0 0 1440 490","version","1.1","xmlns","http://www.w3.org/2000/svg",2,"transform","rotate(180deg)","transition","0.3s"],["id","sw-gradient-0","x1","0","x2","0","y1","1","y2","0"],["stop-color","rgba(251, 133, 0, 1)","offset","0%"],["stop-color","rgba(255, 183, 3, 1)","offset","100%"],["fill","url(#sw-gradient-0)","d","M0,392L26.7,392C53.3,392,107,392,160,343C213.3,294,267,196,320,171.5C373.3,147,427,196,480,204.2C533.3,212,587,180,640,204.2C693.3,229,747,310,800,302.2C853.3,294,907,196,960,196C1013.3,196,1067,294,1120,285.8C1173.3,278,1227,163,1280,114.3C1333.3,65,1387,82,1440,98C1493.3,114,1547,131,1600,155.2C1653.3,180,1707,212,1760,220.5C1813.3,229,1867,212,1920,236.8C1973.3,261,2027,327,2080,351.2C2133.3,376,2187,359,2240,367.5C2293.3,376,2347,408,2400,367.5C2453.3,327,2507,212,2560,171.5C2613.3,131,2667,163,2720,147C2773.3,131,2827,65,2880,32.7C2933.3,0,2987,0,3040,24.5C3093.3,49,3147,98,3200,163.3C3253.3,229,3307,310,3360,351.2C3413.3,392,3467,392,3520,343C3573.3,294,3627,196,3680,155.2C3733.3,114,3787,131,3813,138.8L3840,147L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 0px)","opacity","1"],["id","sw-gradient-1","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-1)","d","M0,49L26.7,65.3C53.3,82,107,114,160,163.3C213.3,212,267,278,320,269.5C373.3,261,427,180,480,196C533.3,212,587,327,640,375.7C693.3,425,747,408,800,367.5C853.3,327,907,261,960,212.3C1013.3,163,1067,131,1120,138.8C1173.3,147,1227,196,1280,204.2C1333.3,212,1387,180,1440,147C1493.3,114,1547,82,1600,57.2C1653.3,33,1707,16,1760,57.2C1813.3,98,1867,196,1920,196C1973.3,196,2027,98,2080,65.3C2133.3,33,2187,65,2240,138.8C2293.3,212,2347,327,2400,359.3C2453.3,392,2507,343,2560,269.5C2613.3,196,2667,98,2720,81.7C2773.3,65,2827,131,2880,130.7C2933.3,131,2987,65,3040,32.7C3093.3,0,3147,0,3200,57.2C3253.3,114,3307,229,3360,261.3C3413.3,294,3467,245,3520,261.3C3573.3,278,3627,359,3680,375.7C3733.3,392,3787,343,3813,318.5L3840,294L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 50px)","opacity","0.9"],["id","sw-gradient-2","x1","0","x2","0","y1","1","y2","0"],["fill","url(#sw-gradient-2)","d","M0,343L26.7,302.2C53.3,261,107,180,160,147C213.3,114,267,131,320,155.2C373.3,180,427,212,480,236.8C533.3,261,587,278,640,310.3C693.3,343,747,392,800,367.5C853.3,343,907,245,960,212.3C1013.3,180,1067,212,1120,253.2C1173.3,294,1227,343,1280,318.5C1333.3,294,1387,196,1440,196C1493.3,196,1547,294,1600,277.7C1653.3,261,1707,131,1760,114.3C1813.3,98,1867,196,1920,196C1973.3,196,2027,98,2080,98C2133.3,98,2187,196,2240,220.5C2293.3,245,2347,196,2400,187.8C2453.3,180,2507,212,2560,236.8C2613.3,261,2667,278,2720,302.2C2773.3,327,2827,359,2880,318.5C2933.3,278,2987,163,3040,163.3C3093.3,163,3147,278,3200,294C3253.3,310,3307,229,3360,171.5C3413.3,114,3467,82,3520,98C3573.3,114,3627,180,3680,228.7C3733.3,278,3787,310,3813,326.7L3840,343L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z",2,"transform","translate(0, 100px)","opacity","0.8"],[1,"loginsection-right"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),u.NdJ("click",function(){return r.navigate("signin")}),u._uU(4,"Sign Up"),u.qZA(),u.TgZ(5,"a",4),u.NdJ("click",function(){return r.navigate("login")}),u._uU(6,"Log in"),u.qZA()(),u.TgZ(7,"div",5)(8,"label",6),u._uU(9,"First Name"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(s){return r.fName=s}),u.qZA(),u.TgZ(11,"label",8),u._uU(12,"Last Name"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(s){return r.lName=s}),u.qZA(),u.TgZ(14,"label",10),u._uU(15,"Email"),u.qZA(),u.TgZ(16,"input",11),u.NdJ("ngModelChange",function(s){return r.email=s}),u.qZA(),u.TgZ(17,"label",12),u._uU(18,"Password"),u.qZA(),u.TgZ(19,"input",13),u.NdJ("ngModelChange",function(s){return r.password=s}),u.qZA(),u.TgZ(20,"div",14),u.NdJ("click",function(){return r.createUser()}),u._uU(21,"Create Account"),u.qZA()(),u.O4$(),u.TgZ(22,"svg",15)(23,"defs")(24,"linearGradient",16),u._UZ(25,"stop",17)(26,"stop",18),u.qZA()(),u._UZ(27,"path",19),u.TgZ(28,"defs")(29,"linearGradient",20),u._UZ(30,"stop",17)(31,"stop",18),u.qZA()(),u._UZ(32,"path",21),u.TgZ(33,"defs")(34,"linearGradient",22),u._UZ(35,"stop",17)(36,"stop",18),u.qZA()(),u._UZ(37,"path",23),u.qZA()(),u.kcU(),u._UZ(38,"div",24),u.qZA()),2&t&&(u.xp6(10),u.Q6J("ngModel",r.fName),u.xp6(3),u.Q6J("ngModel",r.lName),u.xp6(3),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngModel",r.password))},dependencies:[af,hy,mg],styles:[".loginsection[_ngcontent-%COMP%]{width:100%;min-height:82vh;display:flex;align-items:center;justify-content:space-between}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{width:600px;min-height:80vh;position:relative;border-radius:20px;margin:25px auto;box-shadow:#32325d26 0 6px 12px -2px,#0003 0 3px 7px -3px}#wave2[_ngcontent-%COMP%]{position:absolute;z-index:5;top:0;left:0;border-radius:20px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:100%;height:90px;margin-top:150px;padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:15px;padding-bottom:3px;color:#023047cc;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:2rem;font-weight:700}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:var(--darkblue-color);border-bottom:4px dotted var(--orange-color)}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{width:100%;min-height:300px;padding:25px 50px;display:flex;flex-direction:column}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:5px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;border-radius:10px;height:45px;padding-left:10px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}#loginUser[_ngcontent-%COMP%]{margin-top:30px;border:none;background-color:#fb8600b3;border-radius:10px;height:60px;padding-left:10px;color:#fff;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:1.2rem;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease}#loginUser[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--orange-color)}@media screen and (max-width: 650px){.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{margin:25px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:300px;height:50px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.7rem}}@media screen and (max-width: 400px){.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]{margin:25px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-loginInfo[_ngcontent-%COMP%]{padding:30px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]{width:300px;height:50px;margin-top:120px}.loginsection[_ngcontent-%COMP%]   .loginsection-content[_ngcontent-%COMP%]   .loginsection-content-titleBtns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.7rem}}"]}),n})();function ihe(n,e){if(1&n&&u._UZ(0,"img",16),2&n){const t=u.oxw();u.Q6J("src",t.deck.profileImg,u.LSH)}}function she(n,e){1&n&&u._UZ(0,"img",17)}function ohe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",18)(1,"div",19)(2,"div",20),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.copyLink())}),u._uU(3,"Copy Link"),u.qZA(),u.TgZ(4,"div",21),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.moreOption())}),u._uU(5,"Close"),u.qZA()()()}}function ahe(n,e){if(1&n&&u._UZ(0,"img",27),2&n){const t=u.oxw().$implicit;u.s9C("src",t.image,u.LSH),u.s9C("alt",t.image)}}function che(n,e){if(1&n&&(u.TgZ(0,"div",22)(1,"div",23),u._uU(2),u.qZA(),u.TgZ(3,"div",24)(4,"div",25),u._uU(5),u.qZA(),u.YNc(6,ahe,1,2,"img",26),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.term," "),u.xp6(3),u.hij(" ",t.definition," "),u.xp6(1),u.Q6J("ngIf",t.image)}}let lhe=(()=>{class n{constructor(t,r,i){this.route=t,this.afs=r,this.router=i,this.deck={},this.d="inactive"}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.afs.collection("Decks").doc(t).valueChanges().subscribe(r=>{r&&(this.deck=r,this.deck.id=t)})}navigateToStudyDeck(t){this.router.navigate(["studyDeck",t])}navigateToExplore(){this.router.navigate(["explore"])}printPage(){window.print()}moreOption(){this.d="inactive"==this.d?"active":"inactive"}copyLink(){const t=window.location.href,r=document.createElement("input");document.body.appendChild(r),r.value=t,r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("Link has been copied to clipboard"),this.d="inactive"==this.d?"active":"inactive"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(No),u.Y36(lc),u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-deck-detail"]],decls:28,vars:8,consts:[[1,"deckDetail"],[1,"deckInfo"],[1,"back",3,"click"],[1,"sub"],[1,"deckTop"],[1,"creatorContent"],["class","circ","alt","",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"creator"],[1,"deckoptions"],[1,"print",3,"click"],[1,"more",3,"click"],["class","moreDeckHolder",4,"ngIf"],[1,"studySetBtn",3,"click"],[1,"cardsHolder"],["class","card",4,"ngFor","ngForOf"],["alt","",1,"circ",3,"src"],["src","../../assets/images/icons8-user-default-50.png","alt","Default Image"],[1,"moreDeckHolder"],[1,"btnHolder"],[1,"btn",3,"click"],[1,"btn2",3,"click"],[1,"card"],[1,"term"],[1,"def"],[2,"padding-bottom","10px"],["class","imgCard",3,"src","alt",4,"ngIf"],[1,"imgCard",3,"src","alt"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u.NdJ("click",function(){return r.navigateToExplore()}),u._uU(3,"<< go back"),u.qZA(),u.TgZ(4,"h1"),u._uU(5),u.qZA(),u.TgZ(6,"p",3),u._uU(7),u.qZA(),u.TgZ(8,"div",4)(9,"div",5),u.YNc(10,ihe,1,1,"img",6),u.YNc(11,she,1,0,"ng-template",null,7,u.W1O),u.TgZ(13,"div",8)(14,"p"),u._uU(15,"Created by"),u.qZA(),u.TgZ(16,"h2"),u._uU(17),u.qZA()()(),u.TgZ(18,"div",9)(19,"div",10),u.NdJ("click",function(){return r.printPage()}),u.qZA(),u.TgZ(20,"div",11),u.NdJ("click",function(){return r.moreOption()}),u.qZA()(),u.YNc(21,ohe,6,0,"div",12),u.qZA(),u.TgZ(22,"h3"),u._uU(23),u.qZA()(),u.TgZ(24,"div",13),u.NdJ("click",function(){return r.navigateToStudyDeck(r.deck.id)}),u._uU(25,"Study Deck"),u.qZA(),u.TgZ(26,"div",14),u.YNc(27,che,7,3,"div",15),u.qZA()()),2&t){const i=u.MAs(12);u.xp6(5),u.Oqu(r.deck.name),u.xp6(2),u.hij("Subject: ",r.deck.subject,""),u.xp6(3),u.Q6J("ngIf",r.deck.profileImg)("ngIfElse",i),u.xp6(7),u.Oqu(r.deck.email),u.xp6(4),u.Q6J("ngIf","active"===r.d),u.xp6(2),u.Oqu(r.deck.description),u.xp6(4),u.Q6J("ngForOf",r.deck.cards)}},dependencies:[Us,Cr],styles:[".deckDetail[_ngcontent-%COMP%]{max-width:860px;min-height:52vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:30px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]{width:100%;min-height:150px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;margin:0;font-size:3rem}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0;cursor:pointer;font-weight:lighter;color:var(--yellow-color);transition:.3s ease}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{width:100%;margin:8px auto;color:#c8d2e6;font-size:16px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]{width:250px;height:80px;display:flex;align-items:center;justify-content:space-between}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .circ[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50px;background-color:var(--yellow-color);box-shadow:#0000001a 0 5px 15px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{width:200px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:3px;font-size:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]{width:70px;display:flex;align-items:right;justify-content:space-between}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(more.163ff1d2f76efa9e.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .print[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(print.c62d9fe2bc2d7fd0.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:lighter;width:100%}.deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:80px;background-color:#4cbfdc;box-shadow:#0000001a 0 5px 15px;transition:.3s ease;border-radius:10px;display:flex;align-items:center;justify-content:space-evenly;color:#fff;font-size:1.5rem;font-weight:700}.deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]:hover{background-color:var(--teal-color);cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]{width:100%;min-height:200px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:100%;min-height:80px;box-shadow:#0000001a 0 5px 15px;border-radius:10px;margin-top:10px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:35%;padding:20px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{width:65%;padding:20px;border-left:1px solid var(--teal-color);margin:5px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:250px;min-height:100px;background-color:#fff;box-shadow:#0000001a 0 5px 15px;padding:10px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btnHolder[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:20px;border:none;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer;margin-bottom:3px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#fff7e1}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:20px;border:none;background-color:var(--yellow-color);color:#fff;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer}.imgCard[_ngcontent-%COMP%]{max-width:200px;height:150px;background-repeat:no-repeat;background-size:contain;background-position:center}@media screen and (max-width: 450px){.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex-direction:column}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:100%}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{border-left:none;border-top:2px solid var(--teal-color);width:100%}}@media print{.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%], .deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]{display:none}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgCard[_ngcontent-%COMP%]{display:block;max-width:200px;height:100px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]{width:100%;min-height:210px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:100%;min-height:226px;box-shadow:none;border-radius:0;margin-top:10px;border-bottom:var(--teal-color) 1px dashed}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:50%;padding:20px;min-height:210px;display:flex;align-items:center;justify-content:space-evenly}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{width:50%;padding:20px;border-left:none;margin:5px;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}}"]}),n})();class pK{}const vf="*";function dhe(n,e){return{type:7,name:n,definitions:e,options:{}}}function gK(n,e=null){return{type:4,styles:e,timings:n}}function mK(n,e=null){return{type:2,steps:n,options:e}}function uk(n){return{type:6,styles:n,offset:null}}function _K(n,e,t){return{type:0,name:n,styles:e,options:t}}function yK(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function vK(n){Promise.resolve().then(n)}class _S{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vK(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class IK{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?vK(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function hhe(n,e){if(1&n&&u._UZ(0,"div",19),2&n){const t=u.oxw();u.Udp("background-image","url("+(null==t.currentCard?null:t.currentCard.image)+")")}}function fhe(n,e){if(1&n&&u._UZ(0,"img",20),2&n){const t=u.oxw();u.s9C("src",null==t.currentCard?null:t.currentCard.image,u.LSH)}}function phe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",21)(1,"button",22),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.startOver())}),u._uU(2,"Start Over"),u.qZA(),u.TgZ(3,"button",22),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigateToDeck(i.deck.id))}),u._uU(4,"Close Study Set"),u.qZA()()}}let ghe=(()=>{class n{constructor(t,r,i){this.route=t,this.afs=r,this.router=i,this.deck={},this.currentCardIndex=0,this.flip="inactive",this.terms="true"}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.afs.collection("Decks").doc(t).valueChanges().subscribe(r=>{if(r){this.deck=r,this.deck.id=t;const i=localStorage.getItem("currentCardIndex");i?(this.currentCardIndex=Number(i),this.currentCard=this.deck.cards[this.currentCardIndex]):(this.currentCard=this.deck.cards[0],this.currentCardIndex=0)}}),this.startOver()}nextCard(){this.flip="inactive";const t=this.deck.cards.indexOf(this.currentCard);t<this.deck.cards.length-1&&(this.currentCard=this.deck.cards[t+1],this.currentCardIndex=t+1,localStorage.setItem("currentCardIndex",this.currentCardIndex.toString()))}previousCard(){const t=this.deck.cards.indexOf(this.currentCard);t>0&&(this.currentCard=this.deck.cards[t-1],this.currentCardIndex=t-1,localStorage.setItem("currentCardIndex",this.currentCardIndex.toString()))}toggleFlip(){this.flip="inactive"==this.flip?"active":"inactive"}switch(){this.flip="inactive"==this.flip?"active":"inactive",this.currentCardIndex=0,this.currentCard=this.deck.cards[this.currentCardIndex]}shuffle(){console.log("shuffle deck");for(let t=this.deck.cards.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[this.deck.cards[t],this.deck.cards[r]]=[this.deck.cards[r],this.deck.cards[t]],console.log(r)}}startOver(){this.shuffle(),this.currentCardIndex=0,this.currentCard=this.deck.cards[this.currentCardIndex],this.flip="inactive",localStorage.setItem("currentCardIndex",this.currentCardIndex.toString())}navigateToDeck(t){this.router.navigate(["deck",t]),this.startOver()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(No),u.Y36(lc),u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-study"]],decls:27,vars:11,consts:[[1,"studySection"],[1,"topInfo"],[1,"shuffleBtn",3,"click"],["src","../../assets/images/shuffle.png","alt",""],[1,"oppositeBtn",3,"click"],["src","../../assets/images/opp.png","alt",""],[1,"exitBtn",3,"click"],["src","../../assets/images/exit.png","alt",""],[1,"flashcardHolder"],[1,"flashcard",3,"click"],[1,"term"],["class","img",3,"background-image",4,"ngIf"],[1,"def"],["alt","",3,"src",4,"ngIf"],[1,"navigationControls"],[1,"btn",3,"disabled","click"],["src","../../assets/images/left.png","alt",""],["src","../../assets/images/right.png","alt",""],["class","lastCard",4,"ngIf"],[1,"img"],["alt","",3,"src"],[1,"lastCard"],[1,"btn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"p"),u._uU(3),u.qZA(),u.TgZ(4,"h1"),u._uU(5),u.qZA(),u.TgZ(6,"div",2),u.NdJ("click",function(){return r.startOver()}),u._UZ(7,"img",3),u.qZA(),u.TgZ(8,"div",4),u.NdJ("click",function(){return r.switch()}),u._UZ(9,"img",5),u.qZA(),u.TgZ(10,"div",6),u.NdJ("click",function(){return r.navigateToDeck(r.deck.id)}),u._UZ(11,"img",7),u.qZA()(),u.TgZ(12,"div",8)(13,"div",9),u.NdJ("click",function(){return r.toggleFlip()}),u.TgZ(14,"div",10),u._uU(15),u.qZA(),u.YNc(16,hhe,1,2,"div",11),u.TgZ(17,"div",12),u.YNc(18,fhe,1,1,"img",13),u.TgZ(19,"div"),u._uU(20),u.qZA()()(),u.TgZ(21,"div",14)(22,"button",15),u.NdJ("click",function(){return r.previousCard()}),u._UZ(23,"img",16),u.qZA(),u.TgZ(24,"button",15),u.NdJ("click",function(){return r.nextCard()}),u._UZ(25,"img",17),u.qZA()(),u.YNc(26,phe,5,0,"div",18),u.qZA()()),2&t&&(u.xp6(3),u.AsE("",r.currentCardIndex+1,"/",r.deck.cards.length,""),u.xp6(2),u.Oqu(r.deck.name),u.xp6(8),u.Q6J("@flipState",r.flip),u.xp6(2),u.Oqu(null==r.currentCard?null:r.currentCard.term),u.xp6(1),u.Q6J("ngIf",null==r.currentCard?null:r.currentCard.image),u.xp6(2),u.Q6J("ngIf",null==r.currentCard?null:r.currentCard.image),u.xp6(2),u.hij(" ",null==r.currentCard?null:r.currentCard.definition," "),u.xp6(2),u.Q6J("disabled",0===r.currentCardIndex),u.xp6(2),u.Q6J("disabled",r.currentCardIndex===r.deck.cards.length-1),u.xp6(2),u.Q6J("ngIf",r.currentCardIndex===r.deck.cards.length-1))},dependencies:[Cr],styles:[".studySection[_ngcontent-%COMP%]{width:100%;min-height:82vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:30px}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]{width:100%;text-align:center;position:relative}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--darkblue-color)}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px;color:#c8d2e6}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .exitBtn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:40px;height:40px;border-radius:30px;background-color:#4cbfdc;color:#fff;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;transition:.3s ease}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .exitBtn[_ngcontent-%COMP%]:hover{background-color:var(--orange-color)}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .oppositeBtn[_ngcontent-%COMP%]{position:absolute;right:50px;top:0;width:40px;height:40px;border-radius:30px;background-color:#4cbfdc;color:#fff;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;transition:.3s ease}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .oppositeBtn[_ngcontent-%COMP%]:hover{background-color:var(--teal-color)}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .shuffleBtn[_ngcontent-%COMP%]{position:absolute;right:100px;top:0;width:40px;height:40px;border-radius:30px;background-color:#4cbfdc;padding:5px;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;transition:.3s ease}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .shuffleBtn[_ngcontent-%COMP%]:hover{background-color:var(--teal-color)}.studySection[_ngcontent-%COMP%]   .flashcardHolder[_ngcontent-%COMP%]{max-width:800px;margin:30px auto}.studySection[_ngcontent-%COMP%]   .flashcardHolder[_ngcontent-%COMP%]   .flashcard[_ngcontent-%COMP%]{position:relative;box-shadow:#0000001a 0 5px 15px;width:100%;height:360px;margin:30px auto;border-radius:10px;transform-style:preserve-3d;transition:transform 1s;display:flex;align-items:center;justify-content:space-evenly}.term[_ngcontent-%COMP%], .def[_ngcontent-%COMP%]{position:absolute;width:100%;padding:30px;max-height:100%;overflow-y:auto;backface-visibility:hidden;text-align:center;display:flex;align-items:center;justify-content:space-evenly;font-size:24px;font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.def[_ngcontent-%COMP%]{transform:rotateY(179.9deg);margin:0 auto;flex-direction:column}.def[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;max-width:250px;height:180px;background-repeat:no-repeat;background-size:contain;background-position:center;padding:10px}.navigationControls[_ngcontent-%COMP%]{width:150px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}.navigationControls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;width:60px;height:60px;border-radius:40px;background-color:#4cbfdc;color:#fff;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;transition:.3s ease}.navigationControls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--teal-color)}.lastCard[_ngcontent-%COMP%]{width:290px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}.lastCard[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;width:130px;height:50px;border-radius:10px;background-color:var(--yellow-color);color:#fff;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;transition:.3s ease;margin:10px}.lastCard[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--orange-color)}@media screen and (max-width: 550px){.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]{width:100%;text-align:center;position:relative;height:120px;padding-top:50px}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .exitBtn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:40px;height:40px;border-radius:30px}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .oppositeBtn[_ngcontent-%COMP%]{position:absolute;right:50px;top:0;width:40px;height:40px;border-radius:30px}.studySection[_ngcontent-%COMP%]   .topInfo[_ngcontent-%COMP%]   .shuffleBtn[_ngcontent-%COMP%]{position:absolute;right:100px;top:0;width:40px;height:40px;border-radius:30px}}"],data:{animation:[dhe("flipState",[_K("active",uk({transform:"rotateY(180deg)"})),_K("inactive",uk({transform:"rotateY(0)"})),yK("active => inactive",gK("500ms ease-out")),yK("inactive => active",gK("500ms ease-in"))])]}}),n})();function mhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6),u.NdJ("click",function(){const s=u.CHM(t).$implicit,o=u.oxw();return u.KtG(o.navigateToDeck(s.id))}),u.TgZ(1,"div",7)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.TgZ(6,"h6"),u._uU(7),u.qZA(),u.TgZ(8,"p",8),u._uU(9),u.qZA(),u.TgZ(10,"p",9),u._uU(11),u.qZA(),u.TgZ(12,"div",10),u.NdJ("click",function(){const s=u.CHM(t).$implicit,o=u.oxw();return u.KtG(o.navigateToEditDeck(s.id))}),u.qZA(),u._UZ(13,"div",11),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.s9C("id",t.id),u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.description),u.xp6(2),u.hij(" ",t.time,""),u.xp6(2),u.Oqu(t.subject),u.xp6(2),u.hij("",t.cardCount," terms")}}let _he=(()=>{class n{constructor(t,r,i){this.afs=t,this.router=r,this.dataService=i,this.fullName=localStorage.getItem("fullName"),this.decks=[],this.currentPage=1,this.decksPerPage=9,this.totalPages=1,this.decksCollection=t.collection("Decks")}ngOnInit(){const t=localStorage.getItem("email");this.dataService.getYourDecks(t).subscribe(r=>{this.decks=r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s,cardCount:s.cards.length}}),this.totalPages=Math.ceil(this.decks.length/this.decksPerPage)})}navigateToDeck(t){this.router.navigate(["yourDeck",t])}navigateToEditDeck(t){this.router.navigate(["updateDeck",t])}getDecksForCurrentPage(){const t=(this.currentPage-1)*this.decksPerPage;return this.decks.slice(t,t+this.decksPerPage)}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lc),u.Y36(vn),u.Y36(fK))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-your-decks"]],decls:12,vars:3,consts:[[1,"exploreSection"],[1,"name"],[1,"decksHolder"],[3,"click",4,"ngFor","ngForOf"],[1,"deckpageControl"],[1,"btn",3,"click"],[3,"click"],[1,"deck",3,"id"],[1,"sub"],[1,"term"],[1,"edit",3,"click"],[1,"underline"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2),u.YNc(4,mhe,14,6,"div",3),u.TgZ(5,"div",4)(6,"div",5),u.NdJ("click",function(){return r.prevPage()}),u._uU(7,"\u25c1"),u.qZA(),u.TgZ(8,"div"),u._uU(9),u.qZA(),u.TgZ(10,"div",5),u.NdJ("click",function(){return r.nextPage()}),u._uU(11,"\u25b7"),u.qZA()()()()),2&t&&(u.xp6(2),u.hij("",r.fullName,"'s Decks"),u.xp6(2),u.Q6J("ngForOf",r.getDecksForCurrentPage()),u.xp6(5),u.Oqu(r.currentPage))},dependencies:[Us],styles:[".exploreSection[_ngcontent-%COMP%]{width:100%;min-height:82vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.exploreSection[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding:20px;margin:0 auto;width:300px;display:flex;align-items:center;justify-content:space-evenly;font-size:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]{max-width:900px;min-height:400px;margin:30px auto;display:flex;justify-content:flex-start;flex-wrap:wrap}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]{width:280px;min-height:180px;padding:20px;border-radius:20px;margin:10px;box-shadow:#0003 0 5px 15px;position:relative;transform:.3s ease;transition:.3s ease;text-decoration:none}a[_ngcontent-%COMP%]{text-decoration:none}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover   .underline[_ngcontent-%COMP%]{display:block;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:var(--yellow-color);display:none;transition:.3s ease;margin:0 auto}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]:hover{background-color:#fff7e1;cursor:pointer;border-radius:0}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:var(--darkblue-color);font-weight:bolder;margin-bottom:4px;padding-right:10px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{background-color:var(--yellow-color);border-radius:20px;width:70px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;left:10px;color:#fff}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{background-color:var(--teal-color);border-radius:20px;width:100px;padding:5px;display:flex;align-items:center;justify-content:space-evenly;font-size:12px;position:absolute;bottom:0;right:10px;color:#fff;text-align:center}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:20px;height:20px;transition:.3s ease;background-image:url(edit.918e531cce0319f5.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer;position:absolute;top:25px;right:20px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--darkblue-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter}.deckpageControl[_ngcontent-%COMP%]{height:100px;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;padding-bottom:30px}.deckpageControl[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:var(--yellow-color);border:none;color:#fff;padding:5px;border-radius:30px;width:50px;height:50px;transition:.3s ease;display:flex;align-items:center;justify-content:space-evenly;cursor:pointer;margin:10px}.deckpageControl[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--orange-color)}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px;padding:0;margin-bottom:10px;color:#0230477f;font-weight:lighter;position:absolute;top:10px;right:20px}@media screen and (max-width: 900px){.exploreSection[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:0 auto;width:300px;display:flex;align-items:center;justify-content:space-evenly;font-size:16px}.exploreSection[_ngcontent-%COMP%]   .decksHolder[_ngcontent-%COMP%]{justify-content:center}}@media screen and (max-width: 450px){.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]{max-width:340px}.exploreSection[_ngcontent-%COMP%]   .exploreSection-search[_ngcontent-%COMP%]   .subjectsearch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;font-size:10px}}"]}),n})();function yhe(n,e){if(1&n&&u._UZ(0,"img",19),2&n){const t=u.oxw();u.Q6J("src",t.deck.profileImg,u.LSH)}}function vhe(n,e){1&n&&u._UZ(0,"img",20)}function Ihe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",21)(1,"p"),u._uU(2),u.qZA(),u.TgZ(3,"div",22)(4,"div",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleting(i.deck.id))}),u._uU(5,"Yes, Delete"),u.qZA(),u.TgZ(6,"div",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteDeck())}),u._uU(7,"Close"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(2),u.hij("Are you sure you want to delete ",t.deck.name,"?")}}function Che(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25)(1,"div",22)(2,"div",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.copyLink())}),u._uU(3,"Copy Link"),u.qZA(),u.TgZ(4,"div",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.moreOption())}),u._uU(5,"Close"),u.qZA()()()}}function Ehe(n,e){if(1&n&&u._UZ(0,"img",31),2&n){const t=u.oxw().$implicit;u.s9C("src",t.image,u.LSH),u.s9C("alt",t.image)}}function whe(n,e){if(1&n&&(u.TgZ(0,"div",26)(1,"div",27),u._uU(2),u.qZA(),u.TgZ(3,"div",28)(4,"div",29),u._uU(5),u.qZA(),u.YNc(6,Ehe,1,2,"img",30),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.term," "),u.xp6(3),u.hij(" ",t.definition," "),u.xp6(1),u.Q6J("ngIf",t.image)}}let The=(()=>{class n{constructor(t,r,i){this.route=t,this.afs=r,this.router=i,this.deck={},this.d="inactive",this.m="inactive"}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.afs.collection("Decks").doc(t).valueChanges().subscribe(r=>{r&&(this.deck=r,this.deck.id=t)})}navigateToStudyDeck(t){this.router.navigate(["studyDeck",t])}navigateToEditDeck(t){this.router.navigate(["updateDeck",t])}navigateToYourDecks(){this.router.navigate(["yourDecks"])}deleteDeck(){this.d="inactive"==this.d?"active":"inactive"}deleting(t){console.log(t),this.router.navigate(["yourDecks"]),this.afs.collection("Decks").doc(t).delete().then(()=>{console.log("Deck deleted successfully"),this.router.navigate(["yourDecks"]),alert("You have deleted Deck")}).catch(r=>{console.error("Error deleting deck: ",r)})}printPage(){window.print()}moreOption(){this.m="inactive"==this.m?"active":"inactive"}copyLink(){const t=window.location.href,r=document.createElement("input");document.body.appendChild(r),r.value=t,r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("Link has been copied to clipboard"),this.m="inactive"==this.m?"active":"inactive"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(No),u.Y36(lc),u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-your-decks-detail"]],decls:31,vars:9,consts:[[1,"deckDetail"],[1,"deckInfo"],[1,"back",3,"click"],[1,"sub"],[1,"deckTop"],[1,"creatorContent"],["class","circ","alt","",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"creator"],[1,"deckoptions"],[1,"print",3,"click"],[1,"edit",3,"click"],[1,"delete",3,"click"],[1,"more",3,"click"],["class","deleteDeckHolder",4,"ngIf"],["class","moreDeckHolder",4,"ngIf"],[1,"studySetBtn",3,"click"],[1,"cardsHolder"],["class","card",4,"ngFor","ngForOf"],["alt","",1,"circ",3,"src"],["src","../../assets/images/icons8-user-default-50.png","alt","Default Image"],[1,"deleteDeckHolder"],[1,"btnHolder"],[1,"btn",3,"click"],[1,"btn2",3,"click"],[1,"moreDeckHolder"],[1,"card"],[1,"term"],[1,"def"],[2,"padding-bottom","10px"],["class","imgCard",3,"src","alt",4,"ngIf"],[1,"imgCard",3,"src","alt"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u.NdJ("click",function(){return r.navigateToYourDecks()}),u._uU(3,"<< go back"),u.qZA(),u.TgZ(4,"h1"),u._uU(5),u.qZA(),u.TgZ(6,"p",3),u._uU(7),u.qZA(),u.TgZ(8,"div",4)(9,"div",5),u.YNc(10,yhe,1,1,"img",6),u.YNc(11,vhe,1,0,"ng-template",null,7,u.W1O),u.TgZ(13,"div",8)(14,"p"),u._uU(15,"Created by"),u.qZA(),u.TgZ(16,"h2"),u._uU(17),u.qZA()()(),u.TgZ(18,"div",9)(19,"div",10),u.NdJ("click",function(){return r.printPage()}),u.qZA(),u.TgZ(20,"div",11),u.NdJ("click",function(){return r.navigateToEditDeck(r.deck.id)}),u.qZA(),u.TgZ(21,"div",12),u.NdJ("click",function(){return r.deleteDeck()}),u.qZA(),u.TgZ(22,"div",13),u.NdJ("click",function(){return r.moreOption()}),u.qZA()(),u.YNc(23,Ihe,8,1,"div",14),u.YNc(24,Che,6,0,"div",15),u.qZA(),u.TgZ(25,"h3"),u._uU(26),u.qZA()(),u.TgZ(27,"div",16),u.NdJ("click",function(){return r.navigateToStudyDeck(r.deck.id)}),u._uU(28,"Study Deck"),u.qZA(),u.TgZ(29,"div",17),u.YNc(30,whe,7,3,"div",18),u.qZA()()),2&t){const i=u.MAs(12);u.xp6(5),u.Oqu(r.deck.name),u.xp6(2),u.hij("Subject: ",r.deck.subject,""),u.xp6(3),u.Q6J("ngIf",r.deck.profileImg)("ngIfElse",i),u.xp6(7),u.Oqu(r.deck.email),u.xp6(6),u.Q6J("ngIf","active"===r.d),u.xp6(1),u.Q6J("ngIf","active"===r.m),u.xp6(2),u.Oqu(r.deck.description),u.xp6(4),u.Q6J("ngForOf",r.deck.cards)}},dependencies:[Us,Cr],styles:[".deckDetail[_ngcontent-%COMP%]{max-width:860px;min-height:52vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:30px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]{width:100%;min-height:150px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;margin:0;font-size:3rem}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0;cursor:pointer;font-weight:lighter;color:var(--yellow-color);transition:.3s ease}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:hover{color:var(--orange-color)}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{width:100%;margin:8px auto;color:#c8d2e6;font-size:16px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]{width:250px;height:80px;display:flex;align-items:center;justify-content:space-between}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .circ[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50px;background-color:var(--yellow-color);box-shadow:#0000001a 0 5px 15px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{width:200px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .creatorContent[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:3px;font-size:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]{width:150px;display:flex;align-items:center;justify-content:space-evenly}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(edit.918e531cce0319f5.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .print[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(print.c62d9fe2bc2d7fd0.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(trash.5f4053362a29251d.svg);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deckoptions[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{width:30px;height:30px;transition:.3s ease;background-image:url(more.163ff1d2f76efa9e.png);background-position:center;background-repeat:no-repeat;background-size:cover;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:250px;min-height:100px;background-color:#fff;box-shadow:#0000001a 0 5px 15px;padding:10px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btnHolder[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:20px;border:none;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer;margin-bottom:3px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#fff7e1}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .moreDeckHolder[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:20px;border:none;background-color:var(--yellow-color);color:#fff;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deleteDeckHolder[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:250px;min-height:150px;text-align:center;background-color:#fff;box-shadow:#0000001a 0 5px 15px;padding:10px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deleteDeckHolder[_ngcontent-%COMP%]   .btnHolder[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deleteDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:20px;border:none;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer;margin-bottom:3px;border-radius:10px}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deleteDeckHolder[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#fff7e1}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   .deckTop[_ngcontent-%COMP%]   .deleteDeckHolder[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:20px;border:none;background-color:var(--yellow-color);color:#fff;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:lighter;width:100%}.deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:80px;background-color:#4cbfdc;box-shadow:#0000001a 0 5px 15px;transition:.3s ease;border-radius:10px;display:flex;align-items:center;justify-content:space-evenly;color:#fff;font-size:1.5rem;font-weight:700}.deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]:hover{background-color:var(--teal-color);cursor:pointer}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]{width:100%;min-height:200px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:100%;min-height:80px;box-shadow:#0000001a 0 5px 15px;border-radius:10px;margin-top:10px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:35%;padding:20px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{width:65%;padding:20px;border-left:1px solid var(--teal-color);margin:5px}.imgCard[_ngcontent-%COMP%]{max-width:200px;height:150px;background-repeat:no-repeat;background-size:contain;background-position:center}@media screen and (max-width: 450px){.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex-direction:column}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:100%}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{border-left:none;border-top:1px solid var(--teal-color);width:100%}}@media print{.deckDetail[_ngcontent-%COMP%]   .deckInfo[_ngcontent-%COMP%], .deckDetail[_ngcontent-%COMP%]   .studySetBtn[_ngcontent-%COMP%]{display:none}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgCard[_ngcontent-%COMP%]{display:block;max-width:200px;height:100px}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]{width:100%;min-height:210px;margin:0 auto}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:100%;min-height:226px;box-shadow:none;border-radius:0;margin-top:10px;border-bottom:var(--teal-color) 1px dashed}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{width:50%;padding:20px;min-height:210px;display:flex;align-items:center;justify-content:space-evenly}.deckDetail[_ngcontent-%COMP%]   .cardsHolder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .def[_ngcontent-%COMP%]{width:50%;padding:20px;border-left:none;margin:5px;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}}"]}),n})();const bhe=["titleInput"],Ahe=["descriptionInput"],She=["subjectInput"];function Dhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",24)(1,"div",25)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"button",26),u.NdJ("click",function(){const s=u.CHM(t).index,o=u.oxw();return u.KtG(o.deleteCard(s))}),u._uU(5,"X"),u.qZA()(),u.TgZ(6,"div",27)(7,"div",28)(8,"input",29),u.NdJ("ngModelChange",function(i){const o=u.CHM(t).$implicit;return u.KtG(o.term=i)}),u.qZA(),u.TgZ(9,"h6"),u._uU(10,"Term"),u.qZA()(),u.TgZ(11,"div",28)(12,"input",30),u.NdJ("ngModelChange",function(i){const o=u.CHM(t).$implicit;return u.KtG(o.definition=i)}),u.qZA(),u.TgZ(13,"h6"),u._uU(14,"Definition"),u.qZA()(),u.TgZ(15,"button",31),u._UZ(16,"img",32)(17,"input",33,34),u.qZA(),u.TgZ(19,"button",35),u.NdJ("click",function(){const s=u.CHM(t).index,o=u.MAs(18),l=u.oxw();return u.KtG(l.uploadFile(o,s))}),u._uU(20,"Upload "),u.qZA()()()}if(2&n){const t=e.$implicit,r=e.index,i=u.oxw();u.xp6(3),u.Oqu(r+1),u.xp6(5),u.Q6J("ngModel",t.term),u.xp6(4),u.Q6J("ngModel",t.definition),u.xp6(4),u.Q6J("src",t.image?t.image:i.uploadImageURL,u.LSH)}}let Phe=(()=>{class n{constructor(t,r,i){this.route=t,this.afs=r,this.router=i,this.storage=(0,u.f3M)(GI),this.delete=new u.vpe,this.term="",this.definition="",this.deck={},this.basePath="/uploads",this.uploadImageURL="../../assets/images/img.png",this.cards=[{term:"",definition:"",image:""},{term:"",definition:"",image:""}],this.name="",this.description="",this.subject="",this.decksCollection=r.collection("Decks")}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.afs.collection("Decks").doc(t).valueChanges().subscribe(r=>{r&&(this.deck=r,this.deck.id=t)})}updateDeck(){this.name=this.titleInput.nativeElement.value,this.description=this.descriptionInput.nativeElement.value,this.subject=this.subjectInput.nativeElement.value;const t={cards:this.deck.cards,name:this.name,description:this.description,subject:this.subject,creator:localStorage.getItem("fullName"),email:localStorage.getItem("email"),time:(new Date).toLocaleDateString(),profileImg:localStorage.getItem("profileImg")};if(""==this.name)alert("In order to update the deck, it needs a title");else if(""==this.subject)alert("Error. Please choose a subject");else if(this.deck.id){const r=this.name.toLowerCase().split(" ");this.decksCollection.doc(this.deck.id).update({...t,searchKeywords:r}).then(()=>{alert("Deck updated successfully"),this.router.navigate(["yourDeck",this.deck.id])}).catch(i=>{console.error("Error updating deck: ",i),alert("Error updating the deck")})}}addCard(){this.deck.cards.push({term:"",definition:"",image:""}),console.log("adding card")}deleteCard(t){this.deck.cards.splice(t,1)}uploadFile(t,r){var i=this;return(0,j.Z)(function*(){if(!t.files)return;const s=t.files[0];if(s){const o=(new Date).getTime(),l=M4(i.storage,"images/"+o+"-"+s.name),h=R4(l,s);try{yield h;const y=yield x4(l);i.deck.cards[r].image=y,console.log("image URL",y)}catch(p){console.error("Error uploading file:",p)}}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(No),u.Y36(lc),u.Y36(vn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-update-deck"]],viewQuery:function(t,r){if(1&t&&(u.Gf(bhe,5),u.Gf(Ahe,5),u.Gf(She,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.titleInput=i.first),u.iGM(i=u.CRH())&&(r.descriptionInput=i.first),u.iGM(i=u.CRH())&&(r.subjectInput=i.first)}},inputs:{cardNumber:"cardNumber"},outputs:{delete:"delete"},decls:40,vars:4,consts:[[1,"createSection"],[1,"createContainer"],[1,"deckDescriptionArea"],[1,"s"],["type","text","placeholder","Enter Title",3,"ngModel","ngModelChange"],["titleInput",""],[1,"ss"],[1,"description"],["type","text","placeholder","Enter Description",3,"ngModel","ngModelChange"],["descriptionInput",""],[1,"subject"],["id","subject","name","subject",3,"ngModel","ngModelChange"],["subjectInput",""],["value","","disabled","","selected",""],["value","English"],["value","Social Studies"],["value","Math"],["value","Science"],["value","Art"],["value","Music"],["value","Languages"],["class","card",4,"ngFor","ngForOf"],[1,"addCardBtn",3,"click"],[1,"createDeckBtn",3,"click"],[1,"card"],[1,"topcard"],[1,"deleteCard",3,"click"],[1,"bottomcard"],[1,"inputcontainer"],["type","text","name","","placeholder","Enter Term","id","",3,"ngModel","ngModelChange"],["type","text","name","","placeholder","Enter Definition","id","",3,"ngModel","ngModelChange"],[1,"addImageBtn"],["alt","",3,"src"],["type","file","id","myImage"],["upload",""],[1,"uploadImageBtn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),u._uU(5,"Title"),u.qZA(),u.TgZ(6,"input",4,5),u.NdJ("ngModelChange",function(s){return r.deck.name=s}),u.qZA()(),u.TgZ(8,"div",6)(9,"div",7)(10,"h6"),u._uU(11,"Description"),u.qZA(),u.TgZ(12,"input",8,9),u.NdJ("ngModelChange",function(s){return r.deck.description=s}),u.qZA()(),u.TgZ(14,"div",10)(15,"h6"),u._uU(16,"Subject"),u.qZA(),u.TgZ(17,"select",11,12),u.NdJ("ngModelChange",function(s){return r.deck.subject=s}),u.TgZ(19,"option",13),u._uU(20,"Choose a subject"),u.qZA(),u.TgZ(21,"option",14),u._uU(22,"English"),u.qZA(),u.TgZ(23,"option",15),u._uU(24,"Social Studies"),u.qZA(),u.TgZ(25,"option",16),u._uU(26,"Math"),u.qZA(),u.TgZ(27,"option",17),u._uU(28,"Science"),u.qZA(),u.TgZ(29,"option",18),u._uU(30,"Art"),u.qZA(),u.TgZ(31,"option",19),u._uU(32,"Music"),u.qZA(),u.TgZ(33,"option",20),u._uU(34,"Languages"),u.qZA()()()(),u.YNc(35,Dhe,21,4,"div",21),u.TgZ(36,"button",22),u.NdJ("click",function(){return r.addCard()}),u._uU(37,"+ Add Card"),u.qZA(),u.TgZ(38,"button",23),u.NdJ("click",function(){return r.updateDeck()}),u._uU(39,"Update Deck"),u.qZA()()()()),2&t&&(u.xp6(6),u.Q6J("ngModel",r.deck.name),u.xp6(6),u.Q6J("ngModel",r.deck.description),u.xp6(5),u.Q6J("ngModel",r.deck.subject),u.xp6(18),u.Q6J("ngForOf",r.deck.cards))},dependencies:[u4,h4,af,DM,hy,mg,Us],styles:[".createSection[_ngcontent-%COMP%]{width:100%;min-height:70vh;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:6px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]{max-width:900px;min-height:500px;margin:20px auto;position:relative;padding-bottom:70px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .addCardBtn[_ngcontent-%COMP%]{bottom:100px;border:2px solid var(--teal-color);color:var(--teal-color);background-color:#fff;padding:30px;border-radius:20px;font-size:1.5rem;width:100%;transition:.3s ease}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .addCardBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--yellow-color);border:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .createDeckBtn[_ngcontent-%COMP%]{bottom:30px;right:0;border:none;background-color:#4cbfdc;padding:7px;color:#fff;border-radius:10px;transition:.3s ease;width:120px;height:60px;font-size:1.2rem;margin-top:10px;justify-content:right;float:right}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .createDeckBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]{width:100%;min-height:200px;margin-bottom:10px}.ss[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   .s[_ngcontent-%COMP%]{width:100%;height:80px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.description[_ngcontent-%COMP%]{width:66%;height:80px;margin-right:10px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.subject[_ngcontent-%COMP%]{width:33%;height:80px;margin-bottom:20px;box-shadow:#959da526 0 8px 24px;border-radius:20px;padding:5px 20px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;outline:none;padding:2px;border-bottom:1px solid var(--teal-color);width:100%}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;outline:none;padding:2px;border-bottom:1px solid var(--teal-color);width:100%}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .deckDescriptionArea[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:lighter;padding:3px;font-size:24px;color:var(--teal-color);margin:0}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;height:150px;margin-bottom:20px;border-radius:20px;padding:20px;box-shadow:#959da526 0 8px 24px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]   .deleteCard[_ngcontent-%COMP%]{border:none;color:var(--darkblue-color);font-size:24px;background-color:#6ac4db00;margin-top:-10px;transition:.3s ease}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .topcard[_ngcontent-%COMP%]   .deleteCard[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--orange-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:5px;position:relative}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]{width:50%;padding:5px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#6ac4db00;border-bottom:1px solid var(--teal-color);width:100%;outline:none;padding:2px}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--yellow-color)}.createSection[_ngcontent-%COMP%]   .createContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .bottomcard[_ngcontent-%COMP%]   .inputcontainer[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:lighter;padding:3px;font-size:16px;color:var(--teal-color)}.addImageBtn[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:40px;width:35px;height:35px;border:none;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#fff;cursor:pointer}.addImageBtn[_ngcontent-%COMP%]:hover{cursor:pointer}.addImageBtn[_ngcontent-%COMP%]   #myImage[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.addImageBtn[_ngcontent-%COMP%]   #myImage[_ngcontent-%COMP%]:hover{cursor:pointer}.uploadImageBtn[_ngcontent-%COMP%]{border:none;background-color:var(--yellow-color);padding:3px 5px;color:#fff;border-radius:10px}.uploadImageBtn[_ngcontent-%COMP%]:hover{cursor:pointer}img[_ngcontent-%COMP%]{min-width:20px;max-width:40px;min-height:20px;max-height:30px}"]}),n})(),CK=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.firestore=i,this.isAuthenticated=localStorage.getItem("userIsLoggedIn")}login(t,r){var i=this;return(0,j.Z)(function*(){try{yield i.afAuth.signInWithEmailAndPassword(t,r),i.router.navigate(["admin/list"])}catch(s){console.log(s)}})()}register(t,r){var i=this;return(0,j.Z)(function*(){try{yield i.afAuth.createUserWithEmailAndPassword(t,r),i.router.navigate(["admin/list"])}catch(s){console.log(s)}})()}updateUser(t,r){return this.firestore.collection("Users").doc(t).update(r)}isLoggedIn(){return this.isAuthenticated}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hg),u.LFG(vn),u.LFG(lc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),By=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!!this.authService.isLoggedIn()||(alert("You need to be logged in"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(CK),u.LFG(vn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xhe=[{path:"",component:Rv},{path:"home",component:Rv},{path:"login",component:wie},{path:"signin",component:rhe},{path:"create",component:Yde,canActivate:[By]},{path:"explore",component:nhe,canActivate:[By]},{path:"deck/:id",component:lhe,canActivate:[By]},{path:"studyDeck/:id",component:ghe,canActivate:[By]},{path:"yourDecks",component:_he,canActivate:[By]},{path:"yourDeck/:id",component:The,canActivate:[By]},{path:"updateDeck/:id",component:Phe,canActivate:[By]},{path:"**",component:Rv}];let Mhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$D.forRoot(xhe),$D]}),n})();const Rhe=["fnameInput"],khe=["lnameInput"],Ohe=["profileImageInput"];function Nhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("home"))}),u._uU(1,"Home "),u._UZ(2,"div",24),u.qZA()}}function Lhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("explore"))}),u._uU(1,"Explore "),u._UZ(2,"div",24),u.qZA()}}function Fhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("create"))}),u._uU(1,"Create "),u._UZ(2,"div",24),u.qZA()}}function Vhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("yourDecks"))}),u._uU(1,"Your Decks "),u._UZ(2,"div",24),u.qZA()}}function Uhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",25),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("login"))}),u._uU(1,"Login"),u.qZA()}}function Bhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",26),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.navigate("signin"))}),u._uU(1,"Signup"),u.qZA()}}function jhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.toggleMenu2())}),u.TgZ(1,"div",11),u._UZ(2,"div",12)(3,"div",12)(4,"div",12),u.qZA()()}}function $he(n,e){if(1&n&&u._UZ(0,"img",37),2&n){const t=u.oxw(2);u.s9C("src",t.profileImg,u.LSH)}}function Ghe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("home"))}),u._uU(1,"Home "),u._UZ(2,"div",24),u.qZA()}}function Hhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("explore"))}),u._uU(1,"Explore "),u._UZ(2,"div",24),u.qZA()}}function zhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("create"))}),u._uU(1,"Create "),u._UZ(2,"div",24),u.qZA()}}function qhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("yourDecks"))}),u._uU(1,"YourDecks "),u._UZ(2,"div",24),u.qZA()}}function Whe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.moreOption())}),u._uU(1,"Update Account Info"),u.qZA()}}function Zhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"label",38),u._uU(2,"First Name"),u.qZA(),u.TgZ(3,"input",39),u.NdJ("ngModelChange",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.updatedfName=i)}),u.qZA(),u.TgZ(4,"label",40),u._uU(5,"Last Name"),u.qZA(),u.TgZ(6,"input",41),u.NdJ("ngModelChange",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.updatedlName=i)}),u.qZA(),u.TgZ(7,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.updateUserInfo())}),u._uU(8,"Save"),u.qZA(),u.TgZ(9,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.moreOption())}),u._uU(10,"Close"),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(3),u.s9C("placeholder",t.firstName),u.Q6J("ngModel",t.updatedfName),u.xp6(3),u.s9C("placeholder",t.lastName),u.Q6J("ngModel",t.updatedlName)}}function Khe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div"),u._UZ(1,"input",43,44),u.TgZ(3,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.MAs(2),s=u.oxw(2);return u.KtG(s.uploadFile(i))}),u._uU(4,"Upload"),u.qZA(),u.TgZ(5,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.uploadOption())}),u._uU(6,"Close"),u.qZA()()}}function Qhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteOption())}),u._uU(1,"Delete Account"),u.qZA()}}function Yhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"button",45),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteCurrentUser())}),u._uU(2,"Yes, Delete Account"),u.qZA(),u.TgZ(3,"button",45),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteOption())}),u._uU(4,"No, Close"),u.qZA()()}}function Jhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"h1",46),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.logoutUser())}),u._uU(1,"Logout"),u.qZA()}}function Xhe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",46),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("login"))}),u._uU(1,"Login "),u.qZA()}}function efe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",46),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.navigate("signin"))}),u._uU(1,"Signup "),u.qZA()}}function tfe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",27)(1,"div",28)(2,"button",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.toggleMenu())}),u._uU(3,"x"),u.qZA()(),u.TgZ(4,"div",29)(5,"div",30),u.YNc(6,$he,1,1,"img",31),u.TgZ(7,"h5"),u._uU(8),u.qZA(),u.TgZ(9,"h6"),u._uU(10),u.qZA()(),u.TgZ(11,"div",32),u.YNc(12,Ghe,3,0,"a",33),u.YNc(13,Hhe,3,0,"a",33),u.YNc(14,zhe,3,0,"a",33),u.YNc(15,qhe,3,0,"a",33),u.YNc(16,Whe,2,0,"h1",33),u.YNc(17,Zhe,11,4,"div",34),u.TgZ(18,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.uploadOption())}),u._uU(19,"Upload Profile Image"),u.qZA(),u.YNc(20,Khe,7,0,"div",34),u.YNc(21,Qhe,2,0,"h1",33),u.YNc(22,Yhe,5,0,"div",34),u.YNc(23,Jhe,2,0,"h1",36),u.YNc(24,Xhe,2,0,"a",36),u.YNc(25,efe,2,0,"a",36),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(6),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(2),u.Oqu(t.fullName),u.xp6(2),u.Oqu(t.userEmail),u.xp6(2),u.Q6J("ngIf",!t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf","active"===t.m),u.xp6(3),u.Q6J("ngIf","active"===t.u),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf","active"===t.d),u.xp6(1),u.Q6J("ngIf",t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",!t.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",!t.userIsLoggedIn)}}function nfe(n,e){if(1&n&&u._UZ(0,"img",49),2&n){const t=u.oxw(2);u.Q6J("src",t.profileImg,u.LSH)}}function rfe(n,e){1&n&&u._UZ(0,"img",50)}function ife(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"label",38),u._uU(2,"First Name"),u.qZA(),u.TgZ(3,"input",39),u.NdJ("ngModelChange",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.updatedfName=i)}),u.qZA(),u.TgZ(4,"label",40),u._uU(5,"Last Name"),u.qZA(),u.TgZ(6,"input",41),u.NdJ("ngModelChange",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.updatedlName=i)}),u.qZA(),u.TgZ(7,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.updateUserInfo())}),u._uU(8,"Save"),u.qZA(),u.TgZ(9,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.moreOption())}),u._uU(10,"Close"),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(3),u.s9C("placeholder",t.firstName),u.Q6J("ngModel",t.updatedfName),u.xp6(3),u.s9C("placeholder",t.lastName),u.Q6J("ngModel",t.updatedlName)}}function sfe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div"),u._UZ(1,"input",43,44),u.TgZ(3,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.MAs(2),s=u.oxw(2);return u.KtG(s.uploadFile(i))}),u._uU(4,"Upload"),u.qZA(),u.TgZ(5,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.uploadOption())}),u._uU(6,"Close"),u.qZA()()}}function ofe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"button",45),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteCurrentUser())}),u._uU(2,"Yes, Delete Account"),u.qZA(),u.TgZ(3,"button",45),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteOption())}),u._uU(4,"No, Close"),u.qZA()()}}function afe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"h1",46),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.logoutUser())}),u._uU(1,"Logout"),u.qZA()}}function cfe(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",27)(1,"div",28)(2,"button",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.toggleMenu2())}),u._uU(3,"x"),u.qZA()(),u.TgZ(4,"div",29)(5,"div",30),u.YNc(6,nfe,1,1,"img",47),u.YNc(7,rfe,1,0,"ng-template",null,48,u.W1O),u.TgZ(9,"h5"),u._uU(10),u.qZA(),u.TgZ(11,"h6"),u._uU(12),u.qZA()(),u.TgZ(13,"div",32)(14,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.moreOption())}),u._uU(15,"Update Account Info"),u.qZA(),u.YNc(16,ife,11,4,"div",34),u.TgZ(17,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.uploadOption())}),u._uU(18,"Upload Profile Image"),u.qZA(),u.YNc(19,sfe,7,0,"div",34),u.TgZ(20,"h1",35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteOption())}),u._uU(21,"Delete Account"),u.qZA(),u.YNc(22,ofe,5,0,"div",34),u.YNc(23,afe,2,0,"h1",36),u.qZA()()()}if(2&n){const t=u.MAs(8),r=u.oxw();u.xp6(6),u.Q6J("ngIf",r.profileImg)("ngIfElse",t),u.xp6(4),u.Oqu(r.fullName),u.xp6(2),u.Oqu(r.userEmail),u.xp6(4),u.Q6J("ngIf","active"===r.m),u.xp6(3),u.Q6J("ngIf","active"===r.u),u.xp6(3),u.Q6J("ngIf","active"===r.d),u.xp6(1),u.Q6J("ngIf",r.userIsLoggedIn)}}let lfe=(()=>{class n{constructor(t,r,i){this.router=t,this.firestore=r,this.userService=i,this.storage=(0,u.f3M)(GI),this.isMenuVisible=!1,this.isMenuVisible2=!1,this.d="inactive",this.m="inactive",this.u="inactive",this.fullName=localStorage.getItem("fullName"),this.userEmail=localStorage.getItem("email"),this.firstName=localStorage.getItem("fname"),this.lastName=localStorage.getItem("lname"),this.profileImg=localStorage.getItem("profileImg"),this.updatedfName="",this.updatedlName="",this.proImg="",this.userIsLoggedIn=!1,this.decks=[]}ngOnInit(){const t=localStorage.getItem("userIsLoggedIn");this.userIsLoggedIn=!!t&&JSON.parse(t);const i=Gh().currentUser;i&&console.log(i.uid),this.person=this.firestore.collection("Users").doc("userId123").valueChanges()}toggleMenu(){this.isMenuVisible=!this.isMenuVisible}toggleMenu2(){this.isMenuVisible2=!this.isMenuVisible2}navigate(t){this.router.navigate([t]),this.isMenuVisible=!1}logoutUser(){localStorage.setItem("userIsLoggedIn",JSON.stringify("false")),this.userIsLoggedIn=!1,localStorage.clear(),this.router.navigate(["home"]),this.isMenuVisible2=!this.isMenuVisible2}deleteUser(t){var r=this;return(0,j.Z)(function*(){const i=r.firestore.collection("Users").doc(t);try{yield i.delete(),console.log("User data deleted from Firestore"),r.router.navigate(["home"]),localStorage.clear()}catch(o){console.error("Error deleting user data from Firestore:",o)}const s=Gh();try{yield function lne(n){return qb(Un(n.firestore,Or),[new pI(n._key,ri.none())])}(function P$(n,e,...t){if(n=(0,k.m9)(n),1===arguments.length&&(e=Yt.newId()),sV("doc","path",e),n instanceof jb){const r=Mn.fromString(e,...t);return b$(r),new Oi(n,null,new ut(r))}{if(!(n instanceof Oi||n instanceof pd))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return b$(r),new Oi(n.firestore,n instanceof pd?n.converter:null,new ut(r))}}(s,"Users",t)),console.log("User deleted from Authentication")}catch(o){console.error("Error deleting user from Authentication:",o)}})()}deleteCurrentUser(){const r=Gh().currentUser;r&&(this.deleteUser(r.uid),r.delete().then(()=>{alert("You have deleted your account"),localStorage.setItem("userIsLoggedIn",JSON.stringify("false")),this.userIsLoggedIn=!1}).catch(s=>{}))}updateUserInfo(){if(!this.updatedfName||!this.updatedlName)return void alert("First Name and Last Name are required.");this.decks.forEach(r=>{const i=r.id,s={creator:this.updatedfName+" "+this.updatedlName};this.firestore.collection("Decks").doc(i).update(s).then(()=>{console.log(`User information updated for deck ${i} successfully`)}).catch(o=>{console.error(`Error updating user information for deck ${i}:`,o),alert(`Error updating user information for deck ${i}`)})}),localStorage.setItem("fname",this.updatedfName),localStorage.setItem("lname",this.updatedlName),localStorage.setItem("fullName",this.updatedfName+" "+this.updatedlName),this.fullName=localStorage.getItem("fullName"),this.userEmail=localStorage.getItem("email"),this.firstName=localStorage.getItem("fname"),this.lastName=localStorage.getItem("lname"),this.isMenuVisible2=!this.isMenuVisible2,this.moreOption();const t=Gh();t.currentUser?this.userService.updateUser(t.currentUser.uid,{fName:this.updatedfName,lName:this.updatedlName}).then(()=>{console.log("User information updated successfully"),alert("User information updated successfully"),this.fnameInput&&this.lnameInput&&(this.fnameInput.nativeElement.value="",this.lnameInput.nativeElement.value="")}).catch(s=>{console.error("Error updating user information:",s),alert("Error updating user information")}):console.log("No user is currently authenticated.")}moreOption(){this.m="inactive"==this.m?"active":"inactive"}deleteOption(){this.d="inactive"==this.d?"active":"inactive"}uploadOption(){this.u="inactive"==this.u?"active":"inactive"}uploadFile(t){var r=this;return(0,j.Z)(function*(){if(!t.files)return;const i=t.files[0];if(i){const s=(new Date).getTime(),o=M4(r.storage,"user-images/"+s+"-"+i.name),l=R4(o,i);try{yield l;const p=yield x4(o);console.log("image URL",p),localStorage.setItem("profileImg",p),localStorage.getItem("profileImg");const y=Gh();y.currentUser?r.userService.updateUser(y.currentUser.uid,{profileImg:p}).then(()=>{console.log("User information updated successfully"),alert("User information updated successfully"),r.fnameInput&&r.lnameInput&&(r.fnameInput.nativeElement.value="",r.lnameInput.nativeElement.value="")}).catch(x=>{console.error("Error updating user information:",x),alert("Error updating user information")}):console.log("No user is currently authenticated.")}catch(h){console.error("Error uploading file:",h)}}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vn),u.Y36(lc),u.Y36(CK))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&(u.Gf(Rhe,5),u.Gf(khe,5),u.Gf(Ohe,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.fnameInput=i.first),u.iGM(i=u.CRH())&&(r.lnameInput=i.first),u.iGM(i=u.CRH())&&(r.profileImageInput=i.first)}},decls:79,vars:9,consts:[["id","main-menu",1,"header"],["id","main-menu-left"],[1,"logo"],[3,"click",4,"ngIf"],["id","main-menu-right"],["id","logbtn",3,"click",4,"ngIf"],["id","signbtn",3,"click",4,"ngIf"],["id","hamburger-menu",1,"header"],["id","menu-left"],["id","menu-right"],["id","ham-menu",3,"click"],[1,"hamburger"],[1,"bar"],["id","sidebar-menu","class","header",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"columns"],[1,"column"],[1,"footer-bottom"],["id","year"],[2,"padding-left","30px"],[1,"footer-menu"],[1,"f-menu"],[3,"click"],[1,"underline"],["id","logbtn",3,"click"],["id","signbtn",3,"click"],["id","sidebar-menu",1,"header"],[1,"top-sideBar"],[1,"sidebar-links2"],[1,"profileInfo"],["id","userIconCirc2",3,"src",4,"ngIf"],["id","updateAccount"],["class","btn",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn",3,"click"],["class","btn2",3,"click",4,"ngIf"],["id","userIconCirc2",3,"src"],["for","fName"],["id","fnameInput","type","text",3,"ngModel","placeholder","ngModelChange"],["for","lName"],["id","lnameInput","type","text",3,"ngModel","placeholder","ngModelChange"],["id","updateUser",3,"click"],["type","file","id","profileImageInput"],["upload",""],["id","deleteUser",3,"click"],[1,"btn2",3,"click"],["id","userIconCirc2","alt","",3,"src",4,"ngIf","ngIfElse"],["defaultProfileImage",""],["id","userIconCirc2","alt","",3,"src"],["id","userIconCirc2","src","../assets/images/icons8-user-default-50.png","alt","Default Profile Image"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),u._uU(3,"FlashCardz"),u.qZA(),u.YNc(4,Nhe,3,0,"a",3),u.YNc(5,Lhe,3,0,"a",3),u.YNc(6,Fhe,3,0,"a",3),u.YNc(7,Vhe,3,0,"a",3),u.qZA(),u.TgZ(8,"div",4),u.YNc(9,Uhe,2,0,"a",5),u.YNc(10,Bhe,2,0,"a",6),u.YNc(11,jhe,5,0,"div",3),u.qZA()(),u.TgZ(12,"nav",7)(13,"div",8)(14,"div",2),u._uU(15,"FlashCardz"),u.qZA()(),u.TgZ(16,"div",9)(17,"button",10),u.NdJ("click",function(){return r.toggleMenu()}),u.TgZ(18,"div",11),u._UZ(19,"div",12)(20,"div",12)(21,"div",12),u.qZA()()()(),u.YNc(22,tfe,26,15,"div",13),u.YNc(23,cfe,24,8,"div",13),u._UZ(24,"router-outlet"),u.TgZ(25,"footer",14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"h2"),u._uU(30,"About Us"),u.qZA(),u.TgZ(31,"p"),u._uU(32,"About Flashcardz"),u.qZA(),u.TgZ(33,"p"),u._uU(34,"How it works"),u.qZA(),u.TgZ(35,"p"),u._uU(36,"Careers"),u.qZA(),u.TgZ(37,"p"),u._uU(38,"Get the app"),u.qZA()(),u.TgZ(39,"div",17)(40,"h2"),u._uU(41,"For Learners"),u.qZA(),u.TgZ(42,"p"),u._uU(43,"Flashcards"),u.qZA(),u.TgZ(44,"p"),u._uU(45,"Learn"),u.qZA(),u.TgZ(46,"p"),u._uU(47,"Tutors"),u.qZA(),u.TgZ(48,"p"),u._uU(49,"Helpers Lab"),u.qZA()(),u.TgZ(50,"div",17)(51,"h2"),u._uU(52,"Resources"),u.qZA(),u.TgZ(53,"p"),u._uU(54,"Help Center"),u.qZA(),u.TgZ(55,"p"),u._uU(56,"Community guidelines"),u.qZA(),u.TgZ(57,"p"),u._uU(58,"Privacy"),u.qZA(),u.TgZ(59,"p"),u._uU(60,"Terms"),u.qZA()()()(),u.TgZ(61,"div",18)(62,"p"),u._uU(63,"Copyright & copy "),u.TgZ(64,"span",19),u._uU(65,"2023"),u.qZA(),u.TgZ(66,"a",20),u._uU(67,"Marielle Harrell"),u.qZA()(),u.TgZ(68,"div",21)(69,"ul",22)(70,"li")(71,"a",23),u.NdJ("click",function(){return r.navigate("home")}),u._uU(72,"Home"),u.qZA()(),u.TgZ(73,"li")(74,"a",23),u.NdJ("click",function(){return r.navigate("explore")}),u._uU(75,"Explore"),u.qZA()(),u.TgZ(76,"li")(77,"a",23),u.NdJ("click",function(){return r.navigate("create")}),u._uU(78,"Create"),u.qZA()()()()()()),2&t&&(u.xp6(4),u.Q6J("ngIf",!r.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",r.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",r.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",r.userIsLoggedIn),u.xp6(2),u.Q6J("ngIf",!r.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",!r.userIsLoggedIn),u.xp6(1),u.Q6J("ngIf",r.userIsLoggedIn),u.xp6(11),u.Q6J("ngIf",r.isMenuVisible),u.xp6(1),u.Q6J("ngIf",r.isMenuVisible2))},dependencies:[af,hy,mg,Cr,oE],styles:["#main-menu[_ngcontent-%COMP%]{display:block;height:100px;width:100%;background:var(--darkblue-color);margin:0;padding:20px 30px;display:flex;align-items:center;justify-content:space-between}#main-menu[_ngcontent-%COMP%]   #main-menu-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}#main-menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:var(--yellow-color);font-size:1.8rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-weight:bolder;margin-right:30px}#main-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white-color);font-size:1rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;width:100px;height:100px;display:flex;align-items:center;justify-content:space-evenly;padding:20px 10px;position:relative;transition:.3s ease}#main-menu[_ngcontent-%COMP%]   #main-menu-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .underline[_ngcontent-%COMP%]{display:block}#main-menu[_ngcontent-%COMP%]   #main-menu-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100px;height:5px;background-color:var(--yellow-color);display:none;transition:.3s ease}#main-menu[_ngcontent-%COMP%]   #main-menu-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{display:flex;cursor:pointer}#main-menu[_ngcontent-%COMP%]   #main-menu-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}#main-menu[_ngcontent-%COMP%]   #main-menu-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:5px;background-color:#ffffff1a;width:90px;height:30px;border-radius:20px;transition:.3s ease}#main-menu[_ngcontent-%COMP%]   #main-menu-right[_ngcontent-%COMP%]   #logbtn[_ngcontent-%COMP%]:hover{margin:5px;background-color:var(--teal-color);width:90px;height:30px;border-radius:20px;cursor:pointer}#main-menu[_ngcontent-%COMP%]   #main-menu-right[_ngcontent-%COMP%]   #signbtn[_ngcontent-%COMP%]:hover{cursor:pointer;margin:5px;background-color:var(--orange-color);width:90px;height:30px;border-radius:20px}#userIconCirc[_ngcontent-%COMP%]{width:35px;height:35px;background-color:var(--yellow-color);color:#fff;align-items:center;justify-content:space-evenly;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:18px;border-radius:20px;margin-right:10px;transition:.3s ease}#userIconCirc[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}#userIconCirc2[_ngcontent-%COMP%]{width:60px;height:60px;background-color:var(--yellow-color);color:#fff;display:flex;align-items:center;justify-content:space-evenly;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:18px;border-radius:50px;margin:0 auto;transition:.3s ease}#hamburger-menu[_ngcontent-%COMP%]{height:100px;width:100%;background:var(--darkblue-color);margin:0;padding:20px 30px;display:none;align-items:center;justify-content:space-between}#menu-left[_ngcontent-%COMP%]{width:200px}#menu-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:var(--yellow-color);font-size:1.8rem;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-weight:bolder;margin-right:30px}#menu-right[_ngcontent-%COMP%]   #ham-menu[_ngcontent-%COMP%]{width:40px;height:40px;background-color:var(--darkblue-color);border:none}.hamburger[_ngcontent-%COMP%]{flex-direction:column;width:40px;height:40px;margin:5px;padding:5px;background-color:#ffffff1a;border-radius:20px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease}.hamburger[_ngcontent-%COMP%]:hover{background-color:var(--teal-color);cursor:pointer}.bar[_ngcontent-%COMP%]{background-color:var(--white-color);height:3px;width:22px;margin:1px 0;border-radius:2px;transition:.4s}#sidebar-menu[_ngcontent-%COMP%]{position:absolute;right:80px;top:50px;min-height:200px;width:220px;border-radius:10px;background-color:#fff;box-shadow:#0000001a 0 5px 15px;display:block;z-index:100}#sidebar-menu[_ngcontent-%COMP%]   .top-sideBar[_ngcontent-%COMP%]{width:100%;height:30px;position:relative;color:#034160}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   .profileInfo[_ngcontent-%COMP%]{width:100%;padding-top:10px}#updateAccount[_ngcontent-%COMP%]{width:100%;min-height:140px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:16px;padding:10px}#updateAccount[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px;text-align:center;padding-top:30px;font-weight:lighter}#updateAccount[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:20px;border:none;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer;margin-bottom:3px;border-radius:10px}#updateAccount[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#fff7e1}#updateAccount[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:20px;border:none;background-color:var(--yellow-color);color:#fff;padding:22px;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease;cursor:pointer;margin:3px}#updateAccount[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;padding-bottom:5px;padding-top:10px;margin-bottom:10px}#updateAccount[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-radius:10px;height:30px;padding-left:5px;margin-top:5px;margin-bottom:10px;width:190px;font-size:12px;background-color:#f5f5f5;outline:none}#updateUser[_ngcontent-%COMP%], #deleteUser[_ngcontent-%COMP%]{margin:10px auto;border:none;background-color:#219dbcb3;border-radius:20px;height:30px;width:190px;padding-left:10px;color:#fff;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:.8rem;display:flex;align-items:center;justify-content:space-evenly;transition:.3s ease}#updateUser[_ngcontent-%COMP%]:hover, #deleteUser[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--teal-color)}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding-bottom:5px;padding-top:15px;font-size:16px;margin:0 auto;text-align:center;font-weight:lighter}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:12px;margin:0 auto;text-align:center;font-weight:lighter;color:#adb4c5}#sidebar-menu[_ngcontent-%COMP%]   .top-sideBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border:none;position:absolute;top:10px;right:10px;background-color:#ffffff1a;font-size:1.5rem;border-radius:20px;transition:.3s ease}#sidebar-menu[_ngcontent-%COMP%]   .top-sideBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--teal-color);cursor:pointer;color:#fff}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]{min-height:180px;width:100%;display:flex;align-items:center;flex-direction:column}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links[_ngcontent-%COMP%]{min-height:400px;width:100%;display:flex;align-items:center;justify-content:space-between;flex-direction:column}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;height:50px;border-radius:0;width:100%;text-decoration:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;position:relative}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .underline[_ngcontent-%COMP%]{display:block}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:var(--yellow-color);display:none;transition:.3s ease}#sidebar-menu[_ngcontent-%COMP%]   .sidebar-links2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{display:flex;cursor:pointer}footer[_ngcontent-%COMP%]{background:#034160;height:auto;width:100%;padding-top:40px;color:#fff;font-family:sans-serif}.footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center}.footer-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.1rem;font-weight:500;text-transform:capitalize;line-height:3rem}.footer-content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:1000px;flex-wrap:wrap;margin:0 auto}.footer-content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:280px;min-height:150px;margin:40px auto;padding:5px}.footer-content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:1.8rem;color:#fff}.footer-content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:1rem;color:#fff;transition:.3s ease}.footer-content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--yellow-color)}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:500px;margin:10px auto;line-height:28px;font-size:14px;color:#fff}.footer-bottom[_ngcontent-%COMP%]{background:var(--darkblue-color);width:100%;padding:20px 20px 40px;text-align:center}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left;font-size:14px;word-spacing:2px}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;text-decoration:none}.footer-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase}.footer-menu[_ngcontent-%COMP%]{float:right}.footer-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.footer-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:10px;display:block}.footer-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:10px}.footer-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 750px){footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{padding:20px;font-size:14px}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .f-menu[_ngcontent-%COMP%]{margin:0 auto;max-width:330px;font-size:10px;display:flex;justify-content:space-between;text-align:center;align-items:center}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .f-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:space-evenly}}@media (max-width: 500px){.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:none}.footer-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-bottom:20px;text-align:center}}@media screen and (max-width: 730px){#userIconCirc[_ngcontent-%COMP%]{display:flex}#main-menu[_ngcontent-%COMP%]{display:none}#hamburger-menu[_ngcontent-%COMP%]{display:flex}}@media print{.header[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%], #main-menu[_ngcontent-%COMP%], #hamburger-menu[_ngcontent-%COMP%], #sidebar-menu[_ngcontent-%COMP%]{display:none}}"]}),n})();var ufe=$(5032);class ffe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,k.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,k.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class pfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,k.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const bK=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ffe(e)}}catch{}return new pfe},jy=bK("localStorage"),zB=bK("sessionStorage"),AC=new br.Yd("@firebase/database"),AK=function(){let n=1;return function(){return n++}}(),SK=function(n){const e=(0,k.dS)(n),t=new k.gQ;t.update(e);const r=t.digest();return k.US.encodeByteArray(r)},yS=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=yS.apply(null,r):e+="object"==typeof r?(0,k.Wl)(r):r,e+=" "}return e};let $y=null,DK=!0;const Ls=function(...n){if(!0===DK&&(DK=!1,null===$y&&!0===zB.get("logging_enabled")&&function(n,e){(0,k.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(AC.logLevel=br.in.VERBOSE,$y=AC.log.bind(AC),e&&zB.set("logging_enabled",!0)):"function"==typeof n?$y=n:($y=null,zB.remove("logging_enabled"))}(!0)),$y){const e=yS.apply(null,n);$y(e)}},vS=function(n){return function(...e){Ls(n,...e)}},qB=function(...n){const e="FIREBASE INTERNAL ERROR: "+yS(...n);AC.error(e)},Pd=function(...n){const e=`FIREBASE FATAL ERROR: ${yS(...n)}`;throw AC.error(e),new Error(e)},Ao=function(...n){const e="FIREBASE WARNING: "+yS(...n);AC.warn(e)},dk=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Bg="[MIN_NAME]",If="[MAX_NAME]",Gy=function(n,e){if(n===e)return 0;if(n===Bg||e===If)return-1;if(e===Bg||n===If)return 1;{const t=RK(n),r=RK(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},IS=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(e))},WB=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,k.Wl)(e[r]),t+=":",t+=WB(n[e[r]]);return t+="}",t},xK=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Fs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const MK=function(n){(0,k.hu)(!dk(n),"Invalid JSON number");const r=1023;let i,s,o,l,h;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=l+r,o=Math.round(n*Math.pow(2,52-l)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(i?1:0),p.reverse();const y=p.join("");let C="";for(h=0;h<64;h+=8){let D=parseInt(y.substr(h,8),2).toString(16);1===D.length&&(D="0"+D),C+=D}return C.toLowerCase()},Cfe=new RegExp("^-?(0*)\\d{1,10}$"),RK=function(n){if(Cfe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},SC=function(n){try{n()}catch(e){setTimeout(()=>{throw Ao("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},CS=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};let ES=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const FK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BK="websocket",jK="long_polling";class KB{constructor(e,t,r,i,s=!1,o="",l=!1,h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $K(n,e,t){let r;if((0,k.hu)("string"==typeof e,"typeof type must == string"),(0,k.hu)("object"==typeof t,"typeof params must == object"),e===BK)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==jK)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sfe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Fs(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Dfe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,k.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,k.p$)(this.counters_)}}const QB={};function JB(n){const e=n.toString();return QB[e]||(QB[e]=new Dfe),QB[e]}class xfe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&SC(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jg{constructor(e,t,r,i,s,o,l){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vS(e),this.stats_=JB(t),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),$K(t,jK,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xfe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XB((...s)=>{const[o,l,h,p,y]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=l,this.password=h;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&FK.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jg.forceAllow_=!0}static forceDisallow(){jg.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!jg.forceAllow_&&(jg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,k.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,k.h$)(t),i=xK(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,k.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class XB{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=AK(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=XB.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ls("frame writing exception"),l.stack&&Ls(l.stack),Ls(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ls("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,k.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ls("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let fk=null;typeof MozWebSocket<"u"?fk=MozWebSocket:typeof WebSocket<"u"&&(fk=WebSocket);let DC=(()=>{class n{constructor(t,r,i,s,o,l,h){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vS(this.connId),this.stats_=JB(r),this.connURL=n.connectionURL_(r,l,h,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const l={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&FK.test(location.hostname)&&(l.r="f"),r&&(l.s=r),i&&(l.ls=i),s&&(l.ac=s),o&&(l.p=o),$K(t,BK,l)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jy.set("previous_websocket_failure",!0);try{let i;if((0,k.Yr)()){i={headers:{"User-Agent":`Firebase/5//${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,l=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;l&&(i.proxy={origin:l})}this.mySock=new fk(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==fk&&!n.forceDisallow_}static previouslyFailed(){return jy.isInMemoryStorage||!0===jy.get("previous_websocket_failure")}markConnectionHealthy(){jy.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,k.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,k.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=xK(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),KK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[jg,DC]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=DC&&DC.isAvailable();let i=r&&!DC.previouslyFailed();if(t.webSocketOnly&&(r||Ao("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[DC];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class nQ{constructor(e,t,r,i,s,o,l,h,p,y){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vS("c:"+this.id+":"),this.transportManager_=new KK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=CS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=IS("t",e),r=IS("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=IS("t",e),r=IS("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=IS("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?qB("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qB("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ao("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),CS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):CS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class iQ{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,k.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,k.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class pk extends iQ{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pk}getInitialEvent(e){return(0,k.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class sr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $g(n){return n.pieces_.length-n.pieceNum_}function Dr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new sr(n.pieces_,e)}function Dn(n){return n.pieceNum_>=n.pieces_.length}class r6 extends iQ{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new r6}getInitialEvent(e){return(0,k.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const TS=1e3;let mk,zy=(()=>{class n extends class rQ{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}{constructor(t,r,i,s,o,l,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=vS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=TS,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");r6.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&pk.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,k.Wl)(o)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new k.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:l=>{const h=l.d;"ok"===l.s?r.resolve(h):r.reject(h)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(l).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,h=>{const p=h.d,y=h.s;n.warnOnListenWarnings_(p,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",h),"ok"!==y&&this.removeListen_(i,s),t.onComplete&&t.onComplete(y,p))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,k.r3)(t,"w")){const i=(0,k.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ao(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,k.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const l={p:r,d:i};void 0!==o&&(l.h=o),this.outstandingPuts_.push({action:t,request:l,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):qB("Unrecognized action received from server: "+(0,k.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=TS,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=TS,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=TS),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,j.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,l=t.lastSessionId;let h=!1,p=null;const y=function(){p?p.close():(h=!0,s())};t.realtime_={close:y,sendRequest:function(x){(0,k.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(x)}};const D=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[x,L]=yield Promise.all([t.authTokenProvider_.getToken(D),t.appCheckTokenProvider_.getToken(D)]);h?Ls("getToken() completed but was canceled"):(Ls("getToken() completed. Creating connection."),t.authToken_=x&&x.accessToken,t.appCheckToken_=L&&L.token,p=new nQ(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,z=>{Ao(z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},l))}catch(x){t.log_("Failed to get token: "+x),h||(t.repoInfo_.nodeAdmin&&Ao(x),y())}}})()}interrupt(t){Ls("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ls("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=TS,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>WB(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new sr(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ls("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ls("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,k.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+"".replace(/\./g,"-")]=1,(0,k.uI)()?t["framework.cordova"]=1:(0,k.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=pk.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rn(e,t)}}class gk{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Rn(Bg,e),i=new Rn(Bg,t);return 0!==this.compare(r,i)}minPost(){return Rn.MIN}}class dQ extends gk{static get __EMPTY_NODE(){return mk}static set __EMPTY_NODE(e){mk=e}compare(e,t){return Gy(e.name,t.name)}isDefinedOn(e){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rn.MIN}maxPost(){return new Rn(If,mk)}makePost(e,t){return(0,k.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Rn(e,mk)}toString(){return".key"}}const xd=new dQ;class _k{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let eu=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??wa.EMPTY_NODE,this.right=o??wa.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return wa.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ope{copy(e,t,r,i,s){return this}insert(e,t,r){return new eu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wa{constructor(e,t=wa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new wa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,eu.BLACK,null,null))}remove(e){return new wa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,eu.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _k(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _k(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _k(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _k(this.root_,null,this.comparator_,!0,e)}}function i6(n,e){return Gy(n,e)}wa.EMPTY_NODE=new ope;const hQ=function(n){return"number"==typeof n?"number:"+MK(n):"string:"+n},fQ=function(n){if(n.isLeafNode()){const e=n.val();(0,k.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,k.r3)(e,".sv"),"Priority must be a string or number.")}else(0,k.hu)(undefined===n||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pQ,PC=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fQ(this.priorityNode_)}static set __childrenNodeConstructor(t){pQ=t}static get __childrenNodeConstructor(){return pQ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Dn(t)?this:".priority"===Sn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Sn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,k.hu)(".priority"!==i||1===$g(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Dr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+hQ(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?MK(this.value_):this.value_,this.lazyHash_=SK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,k.hu)(s>=0,"Unknown leaf type: "+r),(0,k.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class dpe extends gk{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Gy(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rn.MIN}maxPost(){return new Rn(If,new PC("[PRIORITY-POST]",undefined))}makePost(e,t){const r=undefined(e);return new Rn(t,new PC("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fr=new dpe,hpe=Math.log(2);class fpe{constructor(e){this.count=parseInt(Math.log(e+1)/hpe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yk=function(n,e,t,r){n.sort(e);const i=function(h,p){const y=p-h;let C,D;if(0===y)return null;if(1===y)return C=n[h],D=t?t(C):C,new eu(D,C.node,eu.BLACK,null,null);{const x=parseInt(y/2,10)+h,L=i(h,x),z=i(x+1,p);return C=n[x],D=t?t(C):C,new eu(D,C.node,eu.BLACK,L,z)}},l=function(h){let p=null,y=null,C=n.length;const D=function(L,z){const q=C-L,de=C;C-=L;const Ee=i(q+1,de),ge=n[q],Le=t?t(ge):ge;x(new eu(Le,ge.node,z,null,Ee))},x=function(L){p?(p.left=L,p=L):(y=L,p=L)};for(let L=0;L<h.count;++L){const z=h.nextBitIsOne(),q=Math.pow(2,h.count-(L+1));z?D(q,eu.BLACK):(D(q,eu.BLACK),D(q,eu.RED))}return y}(new fpe(n.length));return new wa(r||e,l)};let o6;const xC={};class Cf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,k.hu)(xC&&Fr,"ChildrenNode.ts has not been loaded"),o6=o6||new Cf({".priority":xC},{".priority":Fr}),o6}get(e){const t=(0,k.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof wa?t:null}hasIndex(e){return(0,k.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,k.hu)(e!==xd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Rn.Wrap);let l,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();l=i?yk(r,e.getCompare()):xC;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const y=Object.assign({},this.indexes_);return y[h]=l,new Cf(y,p)}addToIndexes(e,t){const r=(0,k.UI)(this.indexes_,(i,s)=>{const o=(0,k.DV)(this.indexSet_,s);if((0,k.hu)(o,"Missing index implementation for "+s),i===xC){if(o.isDefinedOn(e.node)){const l=[],h=t.getIterator(Rn.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&l.push(p),p=h.getNext();return l.push(e),yk(l,o.getCompare())}return xC}{const l=t.get(e.name);let h=i;return l&&(h=h.remove(new Rn(e.name,l))),h.insert(e,e.node)}});return new Cf(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,k.UI)(this.indexes_,i=>{if(i===xC)return i;{const s=t.get(e.name);return s?i.remove(new Rn(e.name,s)):i}});return new Cf(r,this.indexSet_)}}let bS,_n=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fQ(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bS||(bS=new n(new wa(i6),null,Cf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bS}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?bS:r}}getChild(t){const r=Sn(t);return null===r?this:this.getImmediateChild(r).getChild(Dr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,k.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Rn(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?bS:this.priorityNode_;return new n(s,l,o)}}updateChild(t,r){const i=Sn(t);if(null===i)return r;{(0,k.hu)(".priority"!==Sn(t)||1===$g(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Dr(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Fr,(l,h)=>{r[l]=h.val(t),i++,o&&n.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!t&&o&&s<2*i){const l=[];for(const h in r)l[h]=r[h];return l}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+hQ(this.getPriority().val())+":"),this.forEachChild(Fr,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":SK(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Rn(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Rn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Rn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Rn.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Rn.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===AS?-1:0}withIndex(t){if(t===xd||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===xd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Fr),s=r.getIterator(Fr);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return null===o&&null===l}return!1}return!1}}resolveIndex_(t){return t===xd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class ppe extends _n{constructor(){super(new wa(i6),_n.EMPTY_NODE,Cf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _n.EMPTY_NODE}isEmpty(){return!1}}const AS=new ppe;dQ.__EMPTY_NODE=_n.EMPTY_NODE,PC.__childrenNodeConstructor=_n;function jme(n=(0,zc.getApp)(),e){const t=(0,zc._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,k.P0)("database");r&&DY(t,...r)}return t}function DY(n,e,t,r={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pd("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ES(ES.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,k.Sg)(r.mockUserToken,n.app.options.projectId);s=new ES(o)}!function Ome(n,e,t,r){n.repoInfo_=new KB(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}zy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},zy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};function xY(n){return null==n}function MY(n){return"function"==typeof n.set}function RY(n,e){return MY(e)?e:n.ref(e)}function kY(n,e){if(function c_e(n){return"string"==typeof n}(n))return e.stringCase();if(MY(n))return e.firebaseCase();if(function l_e(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function qS(n,e,t="on",r=k4.z){return new vs.y(i=>{let s=null;return s=n[t](e,(o,l)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:l})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,jt.U)(i=>{const{snapshot:s,prevKey:o}=i;let l=null;return s.exists()&&(l=s.key),{type:e,payload:s,prevKey:o,key:l}}),(0,X$.B)())}function OY(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function h_e(n,e){const{payload:t,prevKey:r,key:i}=e,s=OY(n,i),o=function d_e(n,e){if(xY(e))return 0;{const t=OY(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let l=null;e.payload.forEach(h=>{const p={payload:h,type:"value",prevKey:l,key:h.key};return l=h.key,n=[...n,p],!1})}return n;case"child_added":if(s>-1){const l=n[s-1];(l&&l.key||null)!==r&&(n=n.filter(h=>h.payload.key!==t.key)).splice(o,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(l=>l.payload.key!==t.key);case"child_changed":return n.map(l=>l.payload.key===i?e:l);case"child_moved":if(s>-1){const l=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,l),n}return n;default:return n}}function NY(n){return(xY(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function LY(n,e,t){return function u_e(n,e,t){return qS(n,"value","once",t).pipe(Mr(r=>{const i=[xt(r)];return e.forEach(s=>i.push(qS(n,s,"on",t))),(0,_V.T)(...i).pipe(la(h_e,[]))}),fz())}(n,e=NY(e),t)}function FY(n,e,t){const r=(e=NY(e)).map(i=>qS(n,i,"on",t));return(0,_V.T)(...r)}function VY(n,e){return function(r,i){return kY(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function m_e(n){return function(t){return t?kY(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function UY(n,e){return function(){return qS(n,"value","on",e)}}const v_e=new u.OlP("angularfire2.realtimeDatabaseURL"),I_e=new u.OlP("angularfire2.database.use-emulator");let C_e=(()=>{class n{constructor(t,r,i,s,o,l,h,p,y,C,D,x,L,z,q){this.schedulers=l;const de=h,Ee=(0,us.on)(t,o,r);p&&WV(Ee,o,y,D,x,L,C,z),this.database=(0,us.cc)(`${Ee.name}.database.${i}`,"AngularFireDatabase",Ee.name,()=>{const ge=o.runOutsideAngular(()=>Ee.database(i||void 0));return de&&ge.useEmulator(...de),ge},[de])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>RY(this.database,t));let s=i;return r&&(s=r(i)),function __e(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:VY(r,"update"),set:VY(r,"set"),push:i=>r.push(i),remove:m_e(r),snapshotChanges:i=>LY(n,i,t).pipe(Gt.iC),stateChanges:i=>FY(n,i,t).pipe(Gt.iC),auditTrail:i=>function f_e(n,e,t){return function g_e(n,e,t){return function p_e(n,e){return qS(n,"value","on",e).pipe((0,jt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function dfe(...n){const e=(0,ji.jO)(n);return(0,ui.e)((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),l=!1;for(let h=0;h<i;h++)(0,aa.Xf)(n[h]).subscribe((0,zr.x)(r,p=>{s[h]=p,!l&&!o[h]&&(o[h]=!0,(l=o.every(ko.y))&&(o=null))},ufe.Z));t.subscribe((0,zr.x)(r,h=>{if(l){const p=[h,...s];r.next(e?e(...p):p)}}))})}(e),(0,jt.U)(([i,s])=>{const o=i.lastKeyToLoad,l=s.map(h=>h.key);return{actions:s,lastKeyToLoad:o,loadedKeys:l}}),function hfe(n){return(0,ui.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,zr.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,jt.U)(i=>i.actions))}(n,FY(n,e).pipe(la((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(Gt.iC),valueChanges:(i,s)=>LY(n,i,t).pipe((0,jt.U)(l=>l.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),Gt.iC)}}(s,this)}object(t){return function y_e(n,e){return{query:n,snapshotChanges:()=>UY(n,e.schedulers.outsideAngular)().pipe(Gt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>UY(n,e.schedulers.outsideAngular)().pipe(Gt.iC,(0,jt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>RY(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us.Dh),u.LFG(us.xv,8),u.LFG(v_e,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gt.HU),u.LFG(I_e,8),u.LFG(hg,8),u.LFG(jV,8),u.LFG($V,8),u.LFG(GV,8),u.LFG(HV,8),u.LFG(zV,8),u.LFG(qV,8),u.LFG(sf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E_e=(()=>{class n{constructor(){yM.Z.registerVersion("angularfire",Gt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[C_e]}),n})();class T_e{constructor(e,t){this._delegate=e,this.firebase=t,(0,un._addComponent)(e,new Ts.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,un.deleteApp)(this._delegate)))}_getService(e,t=un._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=un._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,un._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,un._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const BY=new k.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),S_e=function jY(){const n=function A_e(n){const e={},t={__esModule:!0,initializeApp:function s(p,y={}){const C=un.initializeApp(p,y);if((0,k.r3)(e,C.name))return e[C.name];const D=new n(C,t);return e[C.name]=D,D},app:i,registerVersion:un.registerVersion,setLogLevel:un.setLogLevel,onLog:un.onLog,apps:null,SDK_VERSION:un.SDK_VERSION,INTERNAL:{registerComponent:function l(p){const y=p.name,C=y.replace("-compat","");if(un._registerComponent(p)&&"PUBLIC"===p.type){const D=(x=i())=>{if("function"!=typeof x[C])throw BY.create("invalid-app-argument",{appName:y});return x[C]()};void 0!==p.serviceProps&&(0,k.ZB)(D,p.serviceProps),t[C]=D,n.prototype[C]=function(...x){return this._getService.bind(this,y).apply(this,p.multipleInstances?x:[])}}return"PUBLIC"===p.type?t[C]:null},removeApp:function r(p){delete e[p]},useAsService:function h(p,y){return"serverAuth"===y?null:y},modularAPIs:un}};function i(p){if(!(0,k.r3)(e,p=p||un._DEFAULT_ENTRY_NAME))throw BY.create("no-app",{appName:p});return e[p]}return t.default=t,Object.defineProperty(t,"apps",{get:function o(){return Object.keys(e).map(p=>e[p])}}),i.App=n,t}(T_e);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:jY,extendNamespace:function e(t){(0,k.ZB)(n,t)},createSubscribe:k.ne,ErrorFactory:k.LL,deepExtend:k.ZB}),n}(),$Y=new br.Yd("@firebase/app-compat");if((0,k.jU)()&&void 0!==self.firebase){$Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&$Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const M_e=S_e;!function x_e(n){(0,un.registerVersion)("@firebase/app-compat","0.2.22",n)}();class qk{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GY{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new qk(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?o=>t(new qk(o,this,this._ref)):{next:t.next?o=>t.next(new qk(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class HY{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ef(e,this._service))}get items(){return this._delegate.items.map(e=>new Ef(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ef{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function roe(n,e){return rz(n,e)}(this._delegate,e);return new Ef(t,this.storage)}get root(){return new Ef(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ef(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new GY(lz(this._delegate,e,t),this)}putString(e,t=sc.RAW,r){this._throwIfRoot("putString");const i=C4(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new GY(new XH(this._delegate,new _d(i.data,!0),s),this)}listAll(){return function toe(n){return function Gse(n){const e={prefixes:[],items:[]};return tz(n,e).then(()=>e)}(n=(0,k.m9)(n))}(this._delegate).then(e=>new HY(e,this.storage))}list(e){return function eoe(n,e){return nz(n=(0,k.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HY(t,this.storage))}getMetadata(){return function Jse(n){return function Hse(n){n._throwIfRoot("getMetadata");const e=WH(n.storage,n._location,nA());return n.storage.makeRequestWithTokens(e,Ql)}(n=(0,k.m9)(n))}(this._delegate)}updateMetadata(e){return function Xse(n,e){return function zse(n,e){n._throwIfRoot("updateMetadata");const t=function bse(n,e,t,r){const s=cf(e.fullServerUrl(),n.host,n._protocol),l=w4(t,r),p=n.maxOperationRetryTime,y=new yd(s,"PATCH",OM(n,r),p);return y.headers={"Content-Type":"application/json; charset=utf-8"},y.body=l,y.errorHandler=rA(e),y}(n.storage,n._location,e,nA());return n.storage.makeRequestWithTokens(t,Ql)}(n=(0,k.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return uz(this._delegate)}delete(){return this._throwIfRoot("delete"),function noe(n){return function Wse(n){n._throwIfRoot("deleteObject");const e=function Ase(n,e){const r=cf(e.fullServerUrl(),n.host,n._protocol),l=new yd(r,"DELETE",function o(h,p){},n.maxOperationRetryTime);return l.successCodes=[200,204],l.errorHandler=rA(e),l}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ql)}(n=(0,k.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw LH(e)}}class zY{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(qY(e))throw BI("ref() expected a child path but got a URL, use refFromURL instead.");return new Ef(D4(this._delegate,e),this)}refFromURL(e){if(!qY(e))throw BI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Io.makeFromUrl(e,this._delegate.host)}catch{throw BI("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ef(D4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){dz(this._delegate,e,t,r)}}function qY(n){return/^[A-Za-z]+:\/\//.test(n)}function N_e(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zY(t,r)}function WY(n){const e=function F_e(n){return new vs.y(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(function w_e(n,e=k4.z){return(0,ui.e)((t,r)=>{let i=null,s=null,o=null;const l=()=>{if(i){i.unsubscribe(),i=null;const p=s;s=null,r.next(p)}};function h(){const p=o+n,y=e.now();if(y<p)return i=this.schedule(void 0,p-y),void r.add(i);l()}t.subscribe((0,zr.x)(r,p=>{s=p,o=e.now(),i||(i=e.schedule(h,n),r.add(i))},()=>{l(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,jt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Wk(n){return{getDownloadURL:()=>xt(void 0).pipe(Gt.fc,Mr(()=>n.getDownloadURL()),Gt.iC),getMetadata:()=>xt(void 0).pipe(Gt.fc,Mr(()=>n.getMetadata()),Gt.iC),delete:()=>(0,On.D)(n.delete()),child:e=>Wk(n.child(e)),updateMetadata:e=>(0,On.D)(n.updateMetadata(e)),put:(e,t)=>WY(n.put(e,t)),putString:(e,t,r)=>WY(n.putString(e,t,r)),list:e=>(0,On.D)(n.list(e)),listAll:()=>(0,On.D)(n.listAll())}}!function L_e(n){const e={TaskState:Go,TaskEvent:Mse,StringFormat:sc,Storage:zY,Reference:Ef};n.INTERNAL.registerComponent(new Ts.wA("storage-compat",N_e,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(M_e);const V_e=new u.OlP("angularfire2.storageBucket"),U_e=new u.OlP("angularfire2.storage.maxUploadRetryTime"),B_e=new u.OlP("angularfire2.storage.maxOperationRetryTime"),j_e=new u.OlP("angularfire2.storage.use-emulator");let $_e=(()=>{class n{constructor(t,r,i,s,o,l,h,p,y,C){const D=(0,us.on)(t,o,r);this.storage=(0,us.cc)(`${D.name}.storage.${i}`,"AngularFireStorage",D.name,()=>{const x=o.runOutsideAngular(()=>D.storage(i||void 0)),L=y;return L&&x.useEmulator(...L),h&&x.setMaxUploadRetryTime(h),p&&x.setMaxOperationRetryTime(p),x},[h,p])}ref(t){return Wk(this.storage.ref(t))}refFromURL(t){return Wk(this.storage.refFromURL(t))}upload(t,r,i){return Wk(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us.Dh),u.LFG(us.xv,8),u.LFG(V_e,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gt.HU),u.LFG(U_e,8),u.LFG(B_e,8),u.LFG(j_e,8),u.LFG(sf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),H_e=(()=>{class n{constructor(){yM.Z.registerVersion("angularfire",Gt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$_e],imports:[G_e]}),n})();const J6_firebase={projectId:"n423-data-harrell",appId:"1:187657843004:web:3cee58a9d206c7209a6e39",storageBucket:"n423-data-harrell.appspot.com",locationId:"us-central",apiKey:"AIzaSyA4c2OycAAjcVGB6yBFOO64Exs8vo-94zY",authDomain:"n423-data-harrell.firebaseapp.com",messagingSenderId:"187657843004",measurementId:"G-98FJJCDDW9"};function ZY(n){return new u.vHH(3e3,!1)}function bye(){return typeof window<"u"&&typeof window.document<"u"}function X6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yg(n){switch(n.length){case 0:return new _S;case 1:return n[0];default:return new IK(n)}}function KY(n,e,t,r,i=new Map,s=new Map){const o=[],l=[];let h=-1,p=null;if(r.forEach(y=>{const C=y.get("offset"),D=C==h,x=D&&p||new Map;y.forEach((L,z)=>{let q=z,de=L;if("offset"!==z)switch(q=e.normalizePropertyName(q,o),de){case"!":de=i.get(z);break;case vf:de=s.get(z);break;default:de=e.normalizeStyleValue(z,q,de,o)}x.set(q,de)}),D||l.push(x),p=x,h=C}),o.length)throw function fye(n){return new u.vHH(3502,!1)}();return l}function e9(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&t9(t,"start",n)));break;case"done":n.onDone(()=>r(t&&t9(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&t9(t,"destroy",n)))}}function t9(n,e,t){const s=n9(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function n9(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function hc(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function QY(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let r9=(n,e)=>!1,YY=(n,e,t)=>[],JY=null;function i9(n){const e=n.parentNode||n.host;return e===JY?null:e}(X6()||typeof Element<"u")&&(bye()?(JY=(()=>document.documentElement)(),r9=(n,e)=>{for(;e;){if(e===n)return!0;e=i9(e)}return!1}):r9=(n,e)=>n.contains(e),YY=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Jy=null,XY=!1;const eJ=r9,tJ=YY;let nJ=(()=>{class n{validateStyleProperty(t){return function Sye(n){Jy||(Jy=function Dye(){return typeof document<"u"?document.body:null}()||{},XY=!!Jy.style&&"WebkitAppearance"in Jy.style);let e=!0;return Jy.style&&!function Aye(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jy.style,!e&&XY&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Jy.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return eJ(t,r)}getParentElement(t){return i9(t)}query(t,r,i){return tJ(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,l=[],h){return new _S(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),s9=(()=>{class n{}return n.NOOP=new nJ,n})();const o9="ng-enter",Zk="ng-leave",Kk="ng-trigger",Qk=".ng-trigger",iJ="ng-animating",a9=".ng-animating";function wf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:c9(parseFloat(e[1]),e[2])}function c9(n,e){return"s"===e?1e3*n:n}function Yk(n,e,t){return n.hasOwnProperty("duration")?n:function Mye(n,e,t){let i,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(ZY()),{duration:0,delay:0,easing:""};i=c9(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(s=c9(parseFloat(h),l[4]));const p=l[5];p&&(o=p)}else i=n;if(!t){let l=!1,h=e.length;i<0&&(e.push(function z_e(){return new u.vHH(3100,!1)}()),l=!0),s<0&&(e.push(function q_e(){return new u.vHH(3101,!1)}()),l=!0),l&&e.splice(h,0,ZY())}return{duration:i,delay:s,easing:o}}(n,e,t)}function WS(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sJ(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Jg(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function aJ(n,e,t){return t?e+":"+t+";":""}function cJ(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=aJ(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aJ(0,Nye(t),n.style[t]));n.setAttribute("style",e)}function Rd(n,e,t){n.style&&(e.forEach((r,i)=>{const s=u9(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),X6()&&cJ(n))}function Xy(n,e){n.style&&(e.forEach((t,r)=>{const i=u9(r);n.style[i]=""}),X6()&&cJ(n))}function ZS(n){return Array.isArray(n)?1==n.length?n[0]:mK(n):n}const l9=new RegExp("{{\\s*(.+?)\\s*}}","g");function lJ(n){let e=[];if("string"==typeof n){let t;for(;t=l9.exec(n);)e.push(t[1]);l9.lastIndex=0}return e}function KS(n,e,t){const r=n.toString(),i=r.replace(l9,(s,o)=>{let l=e[o];return null==l&&(t.push(function Z_e(n){return new u.vHH(3003,!1)}()),l=""),l.toString()});return i==r?n:i}function Jk(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Oye=/-+([a-z0-9])/g;function u9(n){return n.replace(Oye,(...e)=>e[1].toUpperCase())}function Nye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function K_e(n){return new u.vHH(3004,!1)}()}}function uJ(n,e){return window.getComputedStyle(n)[e]}function jye(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function $ye(n,e,t){if(":"==n[0]){const h=function Gye(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function lye(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function cye(n){return new u.vHH(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(dJ(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(dJ(o,i))}(r,t,e)):t.push(n),t}const nO=new Set(["true","1"]),rO=new Set(["false","0"]);function dJ(n,e){const t=nO.has(n)||rO.has(n),r=nO.has(e)||rO.has(e);return(i,s)=>{let o="*"==n||n==i,l="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?nO.has(n):rO.has(n)),!l&&r&&"boolean"==typeof s&&(l=s?nO.has(e):rO.has(e)),o&&l}}const Hye=new RegExp("s*:selfs*,?","g");function d9(n,e,t,r){return new zye(n).build(e,t,r)}class zye{constructor(e){this._driver=e}build(e,t,r){const i=new Zye(t);return this._resetContextStyleTimingState(i),fc(this,ZS(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Y_e(){return new u.vHH(3006,!1)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const h=l,p=h.name;p.toString().split(/\s*,\s*/).forEach(y=>{h.name=y,s.push(this.visitState(h,t))}),h.name=p}else if(1==l.type){const h=this.visitTransition(l,t);r+=h.queryCount,i+=h.depCount,o.push(h)}else t.errors.push(function J_e(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(h=>{lJ(h).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}),s.size&&(Jk(s.values()),t.errors.push(function X_e(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fc(this,ZS(e.animation),t);return{type:1,matchers:jye(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ev(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fc(this,r,t)),options:ev(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const l=fc(this,o,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:s,options:ev(e.options)}}visitAnimate(e,t){const r=function Qye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return h9(Yk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=h9(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Yk(t,e);return h9(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:uk({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const p={};r.easing&&(p.easing=r.easing),o=uk(p)}t.currentTime+=r.duration+r.delay;const h=this.visitStyle(o,t);h.isEmptyStep=l,i=h}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of i)"string"==typeof l?l===vf?r.push(l):t.errors.push(new u.vHH(3002,!1)):r.push(sJ(l));let s=!1,o=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let h of l.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,h)=>{const p=t.collectedStyles.get(t.currentQuerySelector),y=p.get(h);let C=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(function tye(n,e,t,r,i){return new u.vHH(3010,!1)}()),C=!1),s=y.startTime),C&&p.set(h,{startTime:s,endTime:i}),t.options&&function kye(n,e,t){const r=e.params||{},i=lJ(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function W_e(n){return new u.vHH(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function nye(){return new u.vHH(3011,!1)}()),r;let s=0;const o=[];let l=!1,h=!1,p=0;const y=e.steps.map(de=>{const Ee=this._makeStyleAst(de,t);let ge=null!=Ee.offset?Ee.offset:function Kye(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ee.styles),Le=0;return null!=ge&&(s++,Le=Ee.offset=ge),h=h||Le<0||Le>1,l=l||Le<p,p=Le,o.push(Le),Ee});h&&t.errors.push(function rye(){return new u.vHH(3012,!1)}()),l&&t.errors.push(function iye(){return new u.vHH(3200,!1)}());const C=e.steps.length;let D=0;s>0&&s<C?t.errors.push(function sye(){return new u.vHH(3202,!1)}()):0==s&&(D=1/(C-1));const x=C-1,L=t.currentTime,z=t.currentAnimateTimings,q=z.duration;return y.forEach((de,Ee)=>{const ge=D>0?Ee==x?1:D*Ee:o[Ee],Le=ge*q;t.currentTime=L+z.delay+Le,z.duration=Le,this._validateStyleAst(de,t),de.offset=ge,r.styles.push(de)}),r}visitReference(e,t){return{type:8,animation:fc(this,ZS(e.animation),t),options:ev(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ev(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ev(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function qye(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Hye,"")),n=n.replace(/@\*/g,Qk).replace(/@\w+/g,t=>Qk+"-"+t.slice(1)).replace(/:animating/g,a9),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,hc(t.collectedStyles,t.currentQuerySelector,new Map);const l=fc(this,ZS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:ev(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function oye(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Yk(e.timings,t.errors,!0);return{type:12,animation:fc(this,ZS(e.animation),t),timings:r,options:null}}}class Zye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ev(n){return n?(n=WS(n)).params&&(n.params=function Wye(n){return n?WS(n):null}(n.params)):n={},n}function h9(n,e,t){return{duration:n,delay:e,easing:t}}function f9(n,e,t,r,i,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:l}}class iO{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Xye=new RegExp(":enter","g"),tve=new RegExp(":leave","g");function p9(n,e,t,r,i,s=new Map,o=new Map,l,h,p=[]){return(new nve).buildKeyframes(n,e,t,r,i,s,o,l,h,p)}class nve{buildKeyframes(e,t,r,i,s,o,l,h,p,y=[]){p=p||new iO;const C=new g9(e,t,p,i,s,y,[]);C.options=h;const D=h.delay?wf(h.delay):0;C.currentTimeline.delayNextStep(D),C.currentTimeline.setStyles([o],null,C.errors,h),fc(this,r,C);const x=C.timelines.filter(L=>L.containsAnimation());if(x.length&&l.size){let L;for(let z=x.length-1;z>=0;z--){const q=x[z];if(q.element===t){L=q;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([l],null,C.errors,h)}return x.length?x.map(L=>L.buildKeyframes()):[f9(t,[],[],[],0,D,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:wf(KS(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?wf(r.duration):null,l=null!=r.delay?wf(r.delay):null;return 0!==o&&e.forEach(h=>{const p=t.appendInstructionToTimeline(h,o,l);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),fc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sO);const o=wf(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>fc(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?wf(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),fc(this,o,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Yk(t.params?KS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(h=>{l.forwardTime((h.offset||0)*s),l.setStyles(h.styles,h.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?wf(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=sO);let o=r;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let h=null;l.forEach((p,y)=>{t.currentQueryIndex=y;const C=t.createSubContext(e.options,p);s&&C.delayNextStep(s),p===t.element&&(h=C.currentTimeline),fc(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let h=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=l-h;break;case"full":h=r.currentStaggerTime}const y=t.currentTimeline;h&&y.delayNextStep(h);const C=y.currentTime;fc(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const sO={};class g9{constructor(e,t,r,i,s,o,l,h){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new oO(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=wf(r.duration)),null!=r.delay&&(i.delay=wf(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=KS(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new g9(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=sO,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new rve(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(Xye,"."+this._enterClassName)).replace(tve,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),l.push(...p)}return!s&&0==l.length&&o.push(function aye(n){return new u.vHH(3014,!1)}()),l}}class oO{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oO(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vf),this._currentKeyframe.set(t,vf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function ive(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,vf)}else Jg(i,t)}),t}(e,this._globalTimelineStyles);for(let[l,h]of o){const p=KS(h,s,r);this._pendingStyles.set(l,p),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??vf),this._updateStyle(l,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,h)=>{const p=Jg(l,new Map,this._backFill);p.forEach((y,C)=>{"!"===y?e.add(C):y===vf&&t.add(C)}),r||p.set("offset",h/this.duration),i.push(p)});const s=e.size?Jk(e.values()):[],o=t.size?Jk(t.values()):[];if(r){const l=i[0],h=new Map(l);l.set("offset",0),h.set("offset",1),i=[l,h]}return f9(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class rve extends oO{constructor(e,t,r,i,s,o,l=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,l=t/o,h=Jg(e[0]);h.set("offset",0),s.push(h);const p=Jg(e[0]);p.set("offset",pJ(l)),s.push(p);const y=e.length-1;for(let C=1;C<=y;C++){let D=Jg(e[C]);const x=D.get("offset");D.set("offset",pJ((t+x*r)/o)),s.push(D)}r=o,t=0,i="",e=s}return f9(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function pJ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class m9{}const sve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ove extends m9{normalizePropertyName(e,t){return u9(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(sve.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function Q_e(n,e){return new u.vHH(3005,!1)}())}return o+s}}function gJ(n,e,t,r,i,s,o,l,h,p,y,C,D){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:l,queriedElements:h,preStyleProps:p,postStyleProps:y,totalTime:C,errors:D}}const _9={};class mJ{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ave(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,l,h,p,y){const C=[],D=this.ast.options&&this.ast.options.params||_9,L=this.buildStyles(r,l&&l.params||_9,C),z=h&&h.params||_9,q=this.buildStyles(i,z,C),de=new Set,Ee=new Map,ge=new Map,Le="void"===i,ot={params:cve(z,D),delay:this.ast.options?.delay},tt=y?[]:p9(e,t,this.ast.animation,s,o,L,q,ot,p,C);let zt=0;if(tt.forEach(bi=>{zt=Math.max(bi.duration+bi.delay,zt)}),C.length)return gJ(t,this._triggerName,r,i,Le,L,q,[],[],Ee,ge,zt,C);tt.forEach(bi=>{const ba=bi.element,kJ=hc(Ee,ba,new Set);bi.preStyleProps.forEach(tv=>kJ.add(tv));const YS=hc(ge,ba,new Set);bi.postStyleProps.forEach(tv=>YS.add(tv)),ba!==t&&de.add(ba)});const $n=Jk(de.values());return gJ(t,this._triggerName,r,i,Le,L,q,tt,$n,Ee,ge,zt)}}function cve(n,e){const t=WS(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class lve{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=WS(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=KS(o,i,t));const h=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,h,o,t),r.set(h,o)})}),r}}class dve{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new lve(i.style,i.options&&i.options.params||{},r))}),_J(this.states,"true","1"),_J(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mJ(e,i,this.states))}),this.fallbackTransition=function hve(n,e,t){return new mJ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function _J(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const fve=new iO;class pve{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=d9(this._driver,t,r,[]);if(r.length)throw function pye(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=KY(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const l=new Map;if(s?(o=p9(this._driver,t,s,o9,Zk,new Map,new Map,r,fve,i),o.forEach(y=>{const C=hc(l,y.element,new Map);y.postStyleProps.forEach(D=>C.set(D,null))})):(i.push(function gye(){return new u.vHH(3300,!1)}()),o=[]),i.length)throw function mye(n){return new u.vHH(3504,!1)}();l.forEach((y,C)=>{y.forEach((D,x)=>{y.set(x,this._driver.computeStyle(C,x,vf))})});const p=Yg(o.map(y=>{const C=l.get(y.element);return this._buildPlayer(y,new Map,C)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function _ye(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=n9(t,"","","");return e9(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const yJ="ng-animate-queued",y9="ng-animate-disabled",vve=[],vJ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ive={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jc="__ng_removed";class v9{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Tve(n){return n??null}(r?e.value:e),r){const s=WS(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const QS="void",I9=new v9(QS);class Cve{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function yye(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function vye(n){return new u.vHH(3303,!1)}();if(!function bve(n){return"start"==n||"done"==n}(r))throw function Iye(n,e){return new u.vHH(3400,!1)}();const s=hc(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const l=hc(this._engine.statesByElement,e,new Map);return l.has(t)||(Xc(e,Kk),Xc(e,Kk+"-"+t),l.set(t,I9)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Cye(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new C9(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(Xc(e,Kk),Xc(e,Kk+"-"+t),this._engine.statesByElement.set(e,l=new Map));let h=l.get(t);const p=new v9(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),l.set(t,p),h||(h=I9),p.value!==QS&&h.value===p.value){if(!function Dve(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,p.params)){const z=[],q=s.matchStyles(h.value,h.params,z),de=s.matchStyles(p.value,p.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{Xy(e,q),Rd(e,de)})}return}const D=hc(this._engine.playersByElement,e,[]);D.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let x=s.matchTransition(h.value,p.value,e,p.params),L=!1;if(!x){if(!i)return;x=s.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:h,toState:p,player:o,isFallbackTransition:L}),L||(Xc(e,yJ),o.onStart(()=>{VC(e,yJ)})),o.onDone(()=>{let z=this.players.indexOf(o);z>=0&&this.players.splice(z,1);const q=this._engine.playersByElement.get(e);if(q){let de=q.indexOf(o);de>=0&&q.splice(de,1)}}),this.players.push(o),D.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Qk,!0);r.forEach(i=>{if(i[Jc])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(s.forEach((h,p)=>{if(o.set(p,h.value),this._triggers.has(p)){const y=this.trigger(e,p,QS,i);y&&l.push(y)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Yg(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const h=this._triggers.get(o).fallbackTransition,p=r.get(o)||I9,y=new v9(QS),C=new C9(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:h,fromState:p,toState:y,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Jc];(!s||s===vJ)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==r.triggerName){const h=n9(s,r.triggerName,r.fromState.value,r.toState.value);h._data=e,e9(r.player,l.phase,h,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Eve{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Cve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const h=i.get(l);if(h){const p=r.indexOf(h);r.splice(p+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(aO(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!aO(t))return;const s=t[Jc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xc(e,y9)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),VC(e,y9))}removeNode(e,t,r,i){if(aO(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Jc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return aO(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Qk,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,a9,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jc];if(t&&t.setForRemoval){if(e[Jc]=vJ,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(y9)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Yg(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Eye(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new iO,i=[],s=new Map,o=[],l=new Map,h=new Map,p=new Map,y=new Set;this.disabledNodes.forEach(Vt=>{y.add(Vt);const Jt=this.driver.query(Vt,".ng-animate-queued",!0);for(let nn=0;nn<Jt.length;nn++)y.add(Jt[nn])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),x=EJ(D,this.collectedEnterElements),L=new Map;let z=0;x.forEach((Vt,Jt)=>{const nn=o9+z++;L.set(Jt,nn),Vt.forEach(Zn=>Xc(Zn,nn))});const q=[],de=new Set,Ee=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const Jt=this.collectedLeaveElements[Vt],nn=Jt[Jc];nn&&nn.setForRemoval&&(q.push(Jt),de.add(Jt),nn.hasAnimation?this.driver.query(Jt,".ng-star-inserted",!0).forEach(Zn=>de.add(Zn)):Ee.add(Jt))}const ge=new Map,Le=EJ(D,Array.from(de));Le.forEach((Vt,Jt)=>{const nn=Zk+z++;ge.set(Jt,nn),Vt.forEach(Zn=>Xc(Zn,nn))}),e.push(()=>{x.forEach((Vt,Jt)=>{const nn=L.get(Jt);Vt.forEach(Zn=>VC(Zn,nn))}),Le.forEach((Vt,Jt)=>{const nn=ge.get(Jt);Vt.forEach(Zn=>VC(Zn,nn))}),q.forEach(Vt=>{this.processLeaveNode(Vt)})});const ot=[],tt=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(t).forEach(nn=>{const Zn=nn.player,Vs=nn.element;if(ot.push(Zn),this.collectedEnterElements.length){const So=Vs[Jc];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(nn.triggerName)){const nv=So.previousTriggersValues.get(nn.triggerName),el=this.statesByElement.get(nn.element);if(el&&el.has(nn.triggerName)){const uO=el.get(nn.triggerName);uO.value=nv,el.set(nn.triggerName,uO)}}return void Zn.destroy()}}const kd=!C||!this.driver.containsElement(C,Vs),pc=ge.get(Vs),Xg=L.get(Vs),gi=this._buildInstruction(nn,r,Xg,pc,kd);if(gi.errors&&gi.errors.length)return void tt.push(gi);if(kd)return Zn.onStart(()=>Xy(Vs,gi.fromStyles)),Zn.onDestroy(()=>Rd(Vs,gi.toStyles)),void i.push(Zn);if(nn.isFallbackTransition)return Zn.onStart(()=>Xy(Vs,gi.fromStyles)),Zn.onDestroy(()=>Rd(Vs,gi.toStyles)),void i.push(Zn);const LJ=[];gi.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||LJ.push(So)}),gi.timelines=LJ,r.append(Vs,gi.timelines),o.push({instruction:gi,player:Zn,element:Vs}),gi.queriedElements.forEach(So=>hc(l,So,[]).push(Zn)),gi.preStyleProps.forEach((So,nv)=>{if(So.size){let el=h.get(nv);el||h.set(nv,el=new Set),So.forEach((uO,D9)=>el.add(D9))}}),gi.postStyleProps.forEach((So,nv)=>{let el=p.get(nv);el||p.set(nv,el=new Set),So.forEach((uO,D9)=>el.add(D9))})});if(tt.length){const Vt=[];tt.forEach(Jt=>{Vt.push(function wye(n,e){return new u.vHH(3505,!1)}())}),ot.forEach(Jt=>Jt.destroy()),this.reportError(Vt)}const zt=new Map,$n=new Map;o.forEach(Vt=>{const Jt=Vt.element;r.has(Jt)&&($n.set(Jt,Jt),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,zt))}),i.forEach(Vt=>{const Jt=Vt.element;this._getPreviousPlayers(Jt,!1,Vt.namespaceId,Vt.triggerName,null).forEach(Zn=>{hc(zt,Jt,[]).push(Zn),Zn.destroy()})});const bi=q.filter(Vt=>TJ(Vt,h,p)),ba=new Map;CJ(ba,this.driver,Ee,p,vf).forEach(Vt=>{TJ(Vt,h,p)&&bi.push(Vt)});const YS=new Map;x.forEach((Vt,Jt)=>{CJ(YS,this.driver,new Set(Vt),h,"!")}),bi.forEach(Vt=>{const Jt=ba.get(Vt),nn=YS.get(Vt);ba.set(Vt,new Map([...Array.from(Jt?.entries()??[]),...Array.from(nn?.entries()??[])]))});const tv=[],OJ=[],NJ={};o.forEach(Vt=>{const{element:Jt,player:nn,instruction:Zn}=Vt;if(r.has(Jt)){if(y.has(Jt))return nn.onDestroy(()=>Rd(Jt,Zn.toStyles)),nn.disabled=!0,nn.overrideTotalTime(Zn.totalTime),void i.push(nn);let Vs=NJ;if($n.size>1){let pc=Jt;const Xg=[];for(;pc=pc.parentNode;){const gi=$n.get(pc);if(gi){Vs=gi;break}Xg.push(pc)}Xg.forEach(gi=>$n.set(gi,Vs))}const kd=this._buildAnimation(nn.namespaceId,Zn,zt,s,YS,ba);if(nn.setRealPlayer(kd),Vs===NJ)tv.push(nn);else{const pc=this.playersByElement.get(Vs);pc&&pc.length&&(nn.parentPlayer=Yg(pc)),i.push(nn)}}else Xy(Jt,Zn.fromStyles),nn.onDestroy(()=>Rd(Jt,Zn.toStyles)),OJ.push(nn),y.has(Jt)&&i.push(nn)}),OJ.forEach(Vt=>{const Jt=s.get(Vt.element);if(Jt&&Jt.length){const nn=Yg(Jt);Vt.setRealPlayer(nn)}}),i.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<q.length;Vt++){const Jt=q[Vt],nn=Jt[Jc];if(VC(Jt,Zk),nn&&nn.hasAnimation)continue;let Zn=[];if(l.size){let kd=l.get(Jt);kd&&kd.length&&Zn.push(...kd);let pc=this.driver.query(Jt,a9,!0);for(let Xg=0;Xg<pc.length;Xg++){let gi=l.get(pc[Xg]);gi&&gi.length&&Zn.push(...gi)}}const Vs=Zn.filter(kd=>!kd.destroyed);Vs.length?Ave(this,Jt,Vs):this.processLeaveNode(Jt)}return q.length=0,tv.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const Jt=this.players.indexOf(Vt);this.players.splice(Jt,1)}),Vt.play()}),tv}elementContainsData(e,t){let r=!1;const i=t[Jc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const h=!s||s==QS;l.forEach(p=>{p.queued||!h&&p.triggerName!=i||o.push(p)})}}return(r||i)&&(o=o.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const p=h.element,y=p!==s,C=hc(r,p,[]);this._getPreviousPlayers(p,y,o,l,t.toState).forEach(x=>{const L=x.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),x.destroy(),C.push(x)})}Xy(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const l=t.triggerName,h=t.element,p=[],y=new Set,C=new Set,D=t.timelines.map(L=>{const z=L.element;y.add(z);const q=z[Jc];if(q&&q.removedBeforeQueried)return new _S(L.duration,L.delay);const de=z!==h,Ee=function Sve(n){const e=[];return wJ(n,e),e}((r.get(z)||vve).map(zt=>zt.getRealPlayer())).filter(zt=>!!zt.element&&zt.element===z),ge=s.get(z),Le=o.get(z),ot=KY(0,this._normalizer,0,L.keyframes,ge,Le),tt=this._buildPlayer(L,ot,Ee);if(L.subTimeline&&i&&C.add(z),de){const zt=new C9(e,l,z);zt.setRealPlayer(tt),p.push(zt)}return tt});p.forEach(L=>{hc(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function wve(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,L.element,L))}),y.forEach(L=>Xc(L,iJ));const x=Yg(D);return x.onDestroy(()=>{y.forEach(L=>VC(L,iJ)),Rd(h,t.toStyles)}),C.forEach(L=>{hc(i,L,[]).push(x)}),x}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _S(e.duration,e.delay)}}class C9{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _S,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>e9(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function aO(n){return n&&1===n.nodeType}function IJ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function CJ(n,e,t,r,i){const s=[];t.forEach(h=>s.push(IJ(h)));const o=[];r.forEach((h,p)=>{const y=new Map;h.forEach(C=>{const D=e.computeStyle(p,C,i);y.set(C,D),(!D||0==D.length)&&(p[Jc]=Ive,o.push(p))}),n.set(p,y)});let l=0;return t.forEach(h=>IJ(h,s[l++])),o}function EJ(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(l){if(!l)return 1;let h=s.get(l);if(h)return h;const p=l.parentNode;return h=t.has(p)?p:i.has(p)?1:o(p),s.set(l,h),h}return e.forEach(l=>{const h=o(l);1!==h&&t.get(h).push(l)}),t}function Xc(n,e){n.classList?.add(e)}function VC(n,e){n.classList?.remove(e)}function Ave(n,e,t){Yg(t).onDone(()=>n.processLeaveNode(e))}function wJ(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof IK?wJ(r.players,e):e.push(r)}}function TJ(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class cO{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Eve(e,t,r),this._timelineEngine=new pve(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let l=this._triggerCache[o];if(!l){const h=[],y=d9(this._driver,s,h,[]);if(h.length)throw function hye(n,e){return new u.vHH(3404,!1)}();l=function uve(n,e,t){return new dve(n,e,t)}(i,y,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=QY(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,l]=QY(r);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xve=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rd(this._element,this._initialStyles),this._endStyles&&(Rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xy(this._element,this._endStyles),this._endStyles=null),Rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function E9(n){let e=null;return n.forEach((t,r)=>{(function Mve(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class bJ{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:uJ(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Rve{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eJ(e,t)}getParentElement(e){return i9(e)}query(e,t,r){return tJ(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(h.easing=s);const p=new Map,y=o.filter(x=>x instanceof bJ);(function Lye(n,e){return 0===n||0===e})(r,i)&&y.forEach(x=>{x.currentSnapshot.forEach((L,z)=>p.set(z,L))});let C=function Rye(n){return n.length?n[0]instanceof Map?n:n.map(e=>sJ(e)):[]}(t).map(x=>Jg(x));C=function Fye(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(l=>o.set(l,uJ(n,l)))}}return e}(e,C,p);const D=function Pve(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=E9(e[0]),e.length>1&&(r=E9(e[e.length-1]))):e instanceof Map&&(t=E9(e)),t||r?new xve(n,t,r):null}(e,C);return new bJ(e,C,h,D)}}let kve=(()=>{class n extends pK{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?mK(t):t;return AJ(this._renderer,null,r,"register",[i]),new Ove(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ove extends class uhe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Nve(this._id,e,t||{},this._renderer)}}class Nve{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return AJ(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function AJ(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const SJ="@.disabled";let Lve=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const l=o?.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(s);return y||(y=new DJ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,y)),y}const o=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const h=y=>{Array.isArray(y)?y.forEach(h):this.engine.registerTrigger(o,l,t,y.name,y)};return r.data.animation.forEach(h),new Fve(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(cO),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class DJ{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==SJ?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Fve extends DJ{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==SJ?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Vve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Uve(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r)}}let Bve=(()=>{class n extends cO{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(s9),u.LFG(m9),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const PJ=[{provide:pK,useClass:kve},{provide:m9,useFactory:function jve(){return new ove}},{provide:cO,useClass:Bve},{provide:u.FYo,useFactory:function $ve(n,e,t){return new Lve(n,e,t)},deps:[wc,cO,u.R0b]}],w9=[{provide:s9,useFactory:()=>new Rve},{provide:u.QbO,useValue:"BrowserAnimations"},...PJ],xJ=[{provide:s9,useClass:nJ},{provide:u.QbO,useValue:"NoopAnimations"},...PJ];let Gve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xJ:w9}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:w9,imports:[Al]}),n})();class T9{constructor(e){return e}}const MJ="database",b9=new u.OlP("angularfire2.database-instances");function qve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new T9(r)}}const Wve={provide:class Hve{constructor(){return(0,Gt.vb)(MJ)}},deps:[[new u.FiY,b9]]},Zve={provide:T9,useFactory:function zve(n,e){const t=(0,Gt.JM)(MJ,n,e);return t&&new T9(t)},deps:[[new u.FiY,b9],dg]};let Kve=(()=>{class n{constructor(){(0,gd.KN)("angularfire",Gt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Zve,Wve]}),n})();function Qve(n,...e){return{ngModule:Kve,providers:[{provide:b9,useFactory:qve(n),multi:!0,deps:[u.R0b,u.zs3,Gt.HU,Wb,[new u.FiY,xM],[new u.FiY,sf],...e]}]}}const Yve=(0,Gt.u3)(jme,!0);class A9{constructor(e){return e}}const RJ="firestore",S9=new u.OlP("angularfire2.firestore-instances");function e0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new A9(r)}}const t0e={provide:class Jve{constructor(){return(0,Gt.vb)(RJ)}},deps:[[new u.FiY,S9]]},n0e={provide:A9,useFactory:function Xve(n,e){const t=(0,Gt.JM)(RJ,n,e);return t&&new A9(t)},deps:[[new u.FiY,S9],dg]};let r0e=(()=>{class n{constructor(){(0,gd.KN)("angularfire",Gt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[n0e,t0e]}),n})();function i0e(n,...e){return{ngModule:r0e,providers:[{provide:S9,useFactory:e0e(n),multi:!0,deps:[u.R0b,u.zs3,Gt.HU,Wb,[new u.FiY,xM],[new u.FiY,sf],...e]}]}}const s0e=(0,Gt.u3)(xue,!0);let o0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[lfe]}),n.\u0275inj=u.cJS({imports:[yie,Al,Mhe,us.hO.initializeApp(J6_firebase),H_e,E_e,qde,Ire,Gve,foe(()=>poe()),Pne(()=>xne(J6_firebase)),xie(()=>Mie()),Qve(()=>Yve()),i0e(()=>s0e())]}),n})();(0,u.G48)(),oh().bootstrapModule(o0e).catch(n=>console.error(n))},9751:(Rt,Fe,$)=>{$.d(Fe,{y:()=>ve});var u=$(930),W=$(727),F=$(8822),oe=$(9635),he=$(2416),we=$(576),ye=$(2806);let ve=(()=>{class ie{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const xe=new ie;return xe.source=this,xe.operator=Be,xe}subscribe(Be,xe,dt){const Pe=function Y(ie){return ie&&ie instanceof u.Lv||function Q(ie){return ie&&(0,we.m)(ie.next)&&(0,we.m)(ie.error)&&(0,we.m)(ie.complete)}(ie)&&(0,W.Nn)(ie)}(Be)?Be:new u.Hp(Be,xe,dt);return(0,ye.x)(()=>{const{operator:_e,source:wt}=this;Pe.add(_e?_e.call(Pe,wt):wt?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(xe){Be.error(xe)}}forEach(Be,xe){return new(xe=Ae(xe))((dt,Pe)=>{const _e=new u.Hp({next:wt=>{try{Be(wt)}catch(bt){Pe(bt),_e.unsubscribe()}},error:Pe,complete:dt});this.subscribe(_e)})}_subscribe(Be){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Be)}[F.L](){return this}pipe(...Be){return(0,oe.U)(Be)(this)}toPromise(Be){return new(Be=Ae(Be))((xe,dt)=>{let Pe;this.subscribe(_e=>Pe=_e,_e=>dt(_e),()=>xe(Pe))})}}return ie.create=Ye=>new ie(Ye),ie})();function Ae(ie){var Ye;return null!==(Ye=ie??he.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(Rt,Fe,$)=>{$.d(Fe,{x:()=>ye});var u=$(9751),W=$(727);const oe=(0,$(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=$(8737),we=$(2806);let ye=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ie=new ve(this,this);return ie.operator=Y,ie}_throwIfClosed(){if(this.closed)throw new oe}next(Y){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(Y)}})}error(Y){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ie}=this;for(;ie.length;)ie.shift().error(Y)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ie,isStopped:Ye,observers:Be}=this;return ie||Ye?W.Lc:(this.currentObservers=null,Be.push(Y),new W.w0(()=>{this.currentObservers=null,(0,he.P)(Be,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ie,thrownError:Ye,isStopped:Be}=this;ie?Y.error(Ye):Be&&Y.complete()}asObservable(){const Y=new u.y;return Y.source=this,Y}}return Ae.create=(Q,Y)=>new ve(Q,Y),Ae})();class ve extends ye{constructor(Q,Y){super(),this.destination=Q,this.source=Y}next(Q){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ie||ie.call(Y,Q)}error(Q){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ie||ie.call(Y,Q)}complete(){var Q,Y;null===(Y=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Y||Y.call(Q)}_subscribe(Q){var Y,ie;return null!==(ie=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Q))&&void 0!==ie?ie:W.Lc}}},930:(Rt,Fe,$)=>{$.d(Fe,{Hp:()=>dt,Lv:()=>ie});var u=$(576),W=$(727),F=$(2416),oe=$(7849),he=$(5032);const we=Ae("C",void 0,void 0);function Ae($e,Me,Ne){return{kind:$e,value:Me,error:Ne}}var Q=$(3410),Y=$(2806);class ie extends W.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,W.Nn)(Me)&&Me.add(this)):this.destination=bt}static create(Me,Ne,qe){return new dt(Me,Ne,qe)}next(Me){this.isStopped?wt(function ve($e){return Ae("N",$e,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?wt(function ye($e){return Ae("E",void 0,$e)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?wt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Be($e,Me){return Ye.call($e,Me)}class xe{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Me)}catch(qe){Pe(qe)}}error(Me){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Me)}catch(qe){Pe(qe)}else Pe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ne){Pe(Ne)}}}class dt extends ie{constructor(Me,Ne,qe){let Qe;if(super(),(0,u.m)(Me)||!Me)Qe={next:Me??void 0,error:Ne??void 0,complete:qe??void 0};else{let X;this&&F.v.useDeprecatedNextContext?(X=Object.create(Me),X.unsubscribe=()=>this.unsubscribe(),Qe={next:Me.next&&Be(Me.next,X),error:Me.error&&Be(Me.error,X),complete:Me.complete&&Be(Me.complete,X)}):Qe=Me}this.destination=new xe(Qe)}}function Pe($e){F.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)($e):(0,oe.h)($e)}function wt($e,Me){const{onStoppedNotification:Ne}=F.v;Ne&&Q.z.setTimeout(()=>Ne($e,Me))}const bt={closed:!0,next:he.Z,error:function _e($e){throw $e},complete:he.Z}},727:(Rt,Fe,$)=>{$.d(Fe,{Lc:()=>we,w0:()=>he,Nn:()=>ye});var u=$(576);const F=(0,$(3888).d)(Ae=>function(Y){Ae(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ie,Ye)=>`${Ye+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var oe=$(8737);class he{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Be of Y)Be.remove(this);else Y.remove(this);const{initialTeardown:ie}=this;if((0,u.m)(ie))try{ie()}catch(Be){Q=Be instanceof F?Be.errors:[Be]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Be of Ye)try{ve(Be)}catch(xe){Q=Q??[],xe instanceof F?Q=[...Q,...xe.errors]:Q.push(xe)}}if(Q)throw new F(Q)}}add(Q){var Y;if(Q&&Q!==this)if(this.closed)ve(Q);else{if(Q instanceof he){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Q)}}_hasParent(Q){const{_parentage:Y}=this;return Y===Q||Array.isArray(Y)&&Y.includes(Q)}_addParent(Q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Q),Y):Y?[Y,Q]:Q}_removeParent(Q){const{_parentage:Y}=this;Y===Q?this._parentage=null:Array.isArray(Y)&&(0,oe.P)(Y,Q)}remove(Q){const{_finalizers:Y}=this;Y&&(0,oe.P)(Y,Q),Q instanceof he&&Q._removeParent(this)}}he.EMPTY=(()=>{const Ae=new he;return Ae.closed=!0,Ae})();const we=he.EMPTY;function ye(Ae){return Ae instanceof he||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function ve(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(Rt,Fe,$)=>{$.d(Fe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,Fe,$)=>{$.d(Fe,{E:()=>W});const W=new($(9751).y)(he=>he.complete())},8996:(Rt,Fe,$)=>{$.d(Fe,{D:()=>Me});var u=$(8421),W=$(5363),F=$(9468),we=$(9751),ve=$(2202),Ae=$(576),Q=$(9672);function ie(Ne,qe){if(!Ne)throw new Error("Iterable cannot be null");return new we.y(Qe=>{(0,Q.f)(Qe,qe,()=>{const X=Ne[Symbol.asyncIterator]();(0,Q.f)(Qe,qe,()=>{X.next().then(Se=>{Se.done?Qe.complete():Qe.next(Se.value)})},0,!0)})})}var Ye=$(3670),Be=$(8239),xe=$(1144),dt=$(6495),Pe=$(2206),_e=$(4532),wt=$(3260);function Me(Ne,qe){return qe?function $e(Ne,qe){if(null!=Ne){if((0,Ye.c)(Ne))return function oe(Ne,qe){return(0,u.Xf)(Ne).pipe((0,F.R)(qe),(0,W.Q)(qe))}(Ne,qe);if((0,xe.z)(Ne))return function ye(Ne,qe){return new we.y(Qe=>{let X=0;return qe.schedule(function(){X===Ne.length?Qe.complete():(Qe.next(Ne[X++]),Qe.closed||this.schedule())})})}(Ne,qe);if((0,Be.t)(Ne))return function he(Ne,qe){return(0,u.Xf)(Ne).pipe((0,F.R)(qe),(0,W.Q)(qe))}(Ne,qe);if((0,Pe.D)(Ne))return ie(Ne,qe);if((0,dt.T)(Ne))return function Y(Ne,qe){return new we.y(Qe=>{let X;return(0,Q.f)(Qe,qe,()=>{X=Ne[ve.h](),(0,Q.f)(Qe,qe,()=>{let Se,Xe;try{({value:Se,done:Xe}=X.next())}catch(nt){return void Qe.error(nt)}Xe?Qe.complete():Qe.next(Se)},0,!0)}),()=>(0,Ae.m)(X?.return)&&X.return()})}(Ne,qe);if((0,wt.L)(Ne))return function bt(Ne,qe){return ie((0,wt.Q)(Ne),qe)}(Ne,qe)}throw(0,_e.z)(Ne)}(Ne,qe):(0,u.Xf)(Ne)}},8421:(Rt,Fe,$)=>{$.d(Fe,{Xf:()=>Ye});var u=$(7582),W=$(1144),F=$(8239),oe=$(9751),he=$(3670),we=$(2206),ye=$(4532),ve=$(6495),Ae=$(3260),Q=$(576),Y=$(7849),ie=$(8822);function Ye($e){if($e instanceof oe.y)return $e;if(null!=$e){if((0,he.c)($e))return function Be($e){return new oe.y(Me=>{const Ne=$e[ie.L]();if((0,Q.m)(Ne.subscribe))return Ne.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,W.z)($e))return function xe($e){return new oe.y(Me=>{for(let Ne=0;Ne<$e.length&&!Me.closed;Ne++)Me.next($e[Ne]);Me.complete()})}($e);if((0,F.t)($e))return function dt($e){return new oe.y(Me=>{$e.then(Ne=>{Me.closed||(Me.next(Ne),Me.complete())},Ne=>Me.error(Ne)).then(null,Y.h)})}($e);if((0,we.D)($e))return _e($e);if((0,ve.T)($e))return function Pe($e){return new oe.y(Me=>{for(const Ne of $e)if(Me.next(Ne),Me.closed)return;Me.complete()})}($e);if((0,Ae.L)($e))return function wt($e){return _e((0,Ae.Q)($e))}($e)}throw(0,ye.z)($e)}function _e($e){return new oe.y(Me=>{(function bt($e,Me){var Ne,qe,Qe,X;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,u.KL)($e);!(qe=yield Ne.next()).done;)if(Me.next(qe.value),Me.closed)return}catch(Se){Qe={error:Se}}finally{try{qe&&!qe.done&&(X=Ne.return)&&(yield X.call(Ne))}finally{if(Qe)throw Qe.error}}Me.complete()})})($e,Me).catch(Ne=>Me.error(Ne))})}},6451:(Rt,Fe,$)=>{$.d(Fe,{T:()=>we});var u=$(8189),W=$(8421),F=$(515),oe=$(7669),he=$(8996);function we(...ye){const ve=(0,oe.yG)(ye),Ae=(0,oe._6)(ye,1/0),Q=ye;return Q.length?1===Q.length?(0,W.Xf)(Q[0]):(0,u.J)(Ae)((0,he.D)(Q,ve)):F.E}},5403:(Rt,Fe,$)=>{$.d(Fe,{x:()=>W});var u=$(930);function W(oe,he,we,ye,ve){return new F(oe,he,we,ye,ve)}class F extends u.Lv{constructor(he,we,ye,ve,Ae,Q){super(he),this.onFinalize=Ae,this.shouldUnsubscribe=Q,this._next=we?function(Y){try{we(Y)}catch(ie){he.error(ie)}}:super._next,this._error=ve?function(Y){try{ve(Y)}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(Y){he.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(Rt,Fe,$)=>{$.d(Fe,{U:()=>F});var u=$(4482),W=$(5403);function F(oe,he){return(0,u.e)((we,ye)=>{let ve=0;we.subscribe((0,W.x)(ye,Ae=>{ye.next(oe.call(he,Ae,ve++))}))})}},8189:(Rt,Fe,$)=>{$.d(Fe,{J:()=>F});var u=$(5577),W=$(4671);function F(oe=1/0){return(0,u.z)(W.y,oe)}},5577:(Rt,Fe,$)=>{$.d(Fe,{z:()=>ve});var u=$(4004),W=$(8421),F=$(4482),oe=$(9672),he=$(5403),ye=$(576);function ve(Ae,Q,Y=1/0){return(0,ye.m)(Q)?ve((ie,Ye)=>(0,u.U)((Be,xe)=>Q(ie,Be,Ye,xe))((0,W.Xf)(Ae(ie,Ye))),Y):("number"==typeof Q&&(Y=Q),(0,F.e)((ie,Ye)=>function we(Ae,Q,Y,ie,Ye,Be,xe,dt){const Pe=[];let _e=0,wt=0,bt=!1;const $e=()=>{bt&&!Pe.length&&!_e&&Q.complete()},Me=qe=>_e<ie?Ne(qe):Pe.push(qe),Ne=qe=>{Be&&Q.next(qe),_e++;let Qe=!1;(0,W.Xf)(Y(qe,wt++)).subscribe((0,he.x)(Q,X=>{Ye?.(X),Be?Me(X):Q.next(X)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(_e--;Pe.length&&_e<ie;){const X=Pe.shift();xe?(0,oe.f)(Q,xe,()=>Ne(X)):Ne(X)}$e()}catch(X){Q.error(X)}}))};return Ae.subscribe((0,he.x)(Q,Me,()=>{bt=!0,$e()})),()=>{dt?.()}}(ie,Ye,Ae,Y)))}},5363:(Rt,Fe,$)=>{$.d(Fe,{Q:()=>oe});var u=$(9672),W=$(4482),F=$(5403);function oe(he,we=0){return(0,W.e)((ye,ve)=>{ye.subscribe((0,F.x)(ve,Ae=>(0,u.f)(ve,he,()=>ve.next(Ae),we),()=>(0,u.f)(ve,he,()=>ve.complete(),we),Ae=>(0,u.f)(ve,he,()=>ve.error(Ae),we)))})}},3099:(Rt,Fe,$)=>{$.d(Fe,{B:()=>he});var u=$(8421),W=$(7579),F=$(930),oe=$(4482);function he(ye={}){const{connector:ve=(()=>new W.x),resetOnError:Ae=!0,resetOnComplete:Q=!0,resetOnRefCountZero:Y=!0}=ye;return ie=>{let Ye,Be,xe,dt=0,Pe=!1,_e=!1;const wt=()=>{Be?.unsubscribe(),Be=void 0},bt=()=>{wt(),Ye=xe=void 0,Pe=_e=!1},$e=()=>{const Me=Ye;bt(),Me?.unsubscribe()};return(0,oe.e)((Me,Ne)=>{dt++,!_e&&!Pe&&wt();const qe=xe=xe??ve();Ne.add(()=>{dt--,0===dt&&!_e&&!Pe&&(Be=we($e,Y))}),qe.subscribe(Ne),!Ye&&dt>0&&(Ye=new F.Hp({next:Qe=>qe.next(Qe),error:Qe=>{_e=!0,wt(),Be=we(bt,Ae,Qe),qe.error(Qe)},complete:()=>{Pe=!0,wt(),Be=we(bt,Q),qe.complete()}}),(0,u.Xf)(Me).subscribe(Ye))})(ie)}}function we(ye,ve,...Ae){if(!0===ve)return void ye();if(!1===ve)return;const Q=new F.Hp({next:()=>{Q.unsubscribe(),ye()}});return ve(...Ae).subscribe(Q)}},9468:(Rt,Fe,$)=>{$.d(Fe,{R:()=>W});var u=$(4482);function W(F,oe=0){return(0,u.e)((he,we)=>{we.add(F.schedule(()=>he.subscribe(we),oe))})}},8505:(Rt,Fe,$)=>{$.d(Fe,{b:()=>he});var u=$(576),W=$(4482),F=$(5403),oe=$(4671);function he(we,ye,ve){const Ae=(0,u.m)(we)||ye||ve?{next:we,error:ye,complete:ve}:we;return Ae?(0,W.e)((Q,Y)=>{var ie;null===(ie=Ae.subscribe)||void 0===ie||ie.call(Ae);let Ye=!0;Q.subscribe((0,F.x)(Y,Be=>{var xe;null===(xe=Ae.next)||void 0===xe||xe.call(Ae,Be),Y.next(Be)},()=>{var Be;Ye=!1,null===(Be=Ae.complete)||void 0===Be||Be.call(Ae),Y.complete()},Be=>{var xe;Ye=!1,null===(xe=Ae.error)||void 0===xe||xe.call(Ae,Be),Y.error(Be)},()=>{var Be,xe;Ye&&(null===(Be=Ae.unsubscribe)||void 0===Be||Be.call(Ae)),null===(xe=Ae.finalize)||void 0===xe||xe.call(Ae)}))}):oe.y}},4408:(Rt,Fe,$)=>{$.d(Fe,{o:()=>he});var u=$(727);class W extends u.w0{constructor(ye,ve){super()}schedule(ye,ve=0){return this}}const F={setInterval(we,ye,...ve){const{delegate:Ae}=F;return Ae?.setInterval?Ae.setInterval(we,ye,...ve):setInterval(we,ye,...ve)},clearInterval(we){const{delegate:ye}=F;return(ye?.clearInterval||clearInterval)(we)},delegate:void 0};var oe=$(8737);class he extends W{constructor(ye,ve){super(ye,ve),this.scheduler=ye,this.work=ve,this.pending=!1}schedule(ye,ve=0){var Ae;if(this.closed)return this;this.state=ye;const Q=this.id,Y=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(Y,Q,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(Y,this.id,ve),this}requestAsyncId(ye,ve,Ae=0){return F.setInterval(ye.flush.bind(ye,this),Ae)}recycleAsyncId(ye,ve,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return ve;null!=ve&&F.clearInterval(ve)}execute(ye,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(ye,ve);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,ve){let Q,Ae=!1;try{this.work(ye)}catch(Y){Ae=!0,Q=Y||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ye,scheduler:ve}=this,{actions:Ae}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(Ae,this),null!=ye&&(this.id=this.recycleAsyncId(ve,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,Fe,$)=>{$.d(Fe,{v:()=>F});var u=$(6063);class W{constructor(he,we=W.now){this.schedulerActionCtor=he,this.now=we}schedule(he,we=0,ye){return new this.schedulerActionCtor(this,he).schedule(ye,we)}}W.now=u.l.now;class F extends W{constructor(he,we=W.now){super(he,we),this.actions=[],this._active=!1}flush(he){const{actions:we}=this;if(this._active)return void we.push(he);let ye;this._active=!0;do{if(ye=he.execute(he.state,he.delay))break}while(he=we.shift());if(this._active=!1,ye){for(;he=we.shift();)he.unsubscribe();throw ye}}}},4986:(Rt,Fe,$)=>{$.d(Fe,{z:()=>F});var u=$(4408);const F=new($(7565).v)(u.o)},6063:(Rt,Fe,$)=>{$.d(Fe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Rt,Fe,$)=>{$.d(Fe,{z:()=>u});const u={setTimeout(W,F,...oe){const{delegate:he}=u;return he?.setTimeout?he.setTimeout(W,F,...oe):setTimeout(W,F,...oe)},clearTimeout(W){const{delegate:F}=u;return(F?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(Rt,Fe,$)=>{$.d(Fe,{h:()=>W});const W=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,Fe,$)=>{$.d(Fe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Rt,Fe,$)=>{$.d(Fe,{_6:()=>we,jO:()=>oe,yG:()=>he});var u=$(576);function F(ye){return ye[ye.length-1]}function oe(ye){return(0,u.m)(F(ye))?ye.pop():void 0}function he(ye){return function W(ye){return ye&&(0,u.m)(ye.schedule)}(F(ye))?ye.pop():void 0}function we(ye,ve){return"number"==typeof F(ye)?ye.pop():ve}},8737:(Rt,Fe,$)=>{function u(W,F){if(W){const oe=W.indexOf(F);0<=oe&&W.splice(oe,1)}}$.d(Fe,{P:()=>u})},3888:(Rt,Fe,$)=>{function u(W){const oe=W(he=>{Error.call(he),he.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}$.d(Fe,{d:()=>u})},2806:(Rt,Fe,$)=>{$.d(Fe,{O:()=>oe,x:()=>F});var u=$(2416);let W=null;function F(he){if(u.v.useDeprecatedSynchronousErrorHandling){const we=!W;if(we&&(W={errorThrown:!1,error:null}),he(),we){const{errorThrown:ye,error:ve}=W;if(W=null,ye)throw ve}}else he()}function oe(he){u.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=he)}},9672:(Rt,Fe,$)=>{function u(W,F,oe,he=0,we=!1){const ye=F.schedule(function(){oe(),we?W.add(this.schedule(null,he)):this.unsubscribe()},he);if(W.add(ye),!we)return ye}$.d(Fe,{f:()=>u})},4671:(Rt,Fe,$)=>{function u(W){return W}$.d(Fe,{y:()=>u})},1144:(Rt,Fe,$)=>{$.d(Fe,{z:()=>u});const u=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(Rt,Fe,$)=>{$.d(Fe,{D:()=>W});var u=$(576);function W(F){return Symbol.asyncIterator&&(0,u.m)(F?.[Symbol.asyncIterator])}},576:(Rt,Fe,$)=>{function u(W){return"function"==typeof W}$.d(Fe,{m:()=>u})},3670:(Rt,Fe,$)=>{$.d(Fe,{c:()=>F});var u=$(8822),W=$(576);function F(oe){return(0,W.m)(oe[u.L])}},6495:(Rt,Fe,$)=>{$.d(Fe,{T:()=>F});var u=$(2202),W=$(576);function F(oe){return(0,W.m)(oe?.[u.h])}},8239:(Rt,Fe,$)=>{$.d(Fe,{t:()=>W});var u=$(576);function W(F){return(0,u.m)(F?.then)}},3260:(Rt,Fe,$)=>{$.d(Fe,{L:()=>oe,Q:()=>F});var u=$(7582),W=$(576);function F(he){return(0,u.FC)(this,arguments,function*(){const ye=he.getReader();try{for(;;){const{value:ve,done:Ae}=yield(0,u.qq)(ye.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ve)}}finally{ye.releaseLock()}})}function oe(he){return(0,W.m)(he?.getReader)}},4482:(Rt,Fe,$)=>{$.d(Fe,{A:()=>W,e:()=>F});var u=$(576);function W(oe){return(0,u.m)(oe?.lift)}function F(oe){return he=>{if(W(he))return he.lift(function(we){try{return oe(we,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Rt,Fe,$)=>{function u(){}$.d(Fe,{Z:()=>u})},9635:(Rt,Fe,$)=>{$.d(Fe,{U:()=>F,z:()=>W});var u=$(4671);function W(...oe){return F(oe)}function F(oe){return 0===oe.length?u.y:1===oe.length?oe[0]:function(we){return oe.reduce((ye,ve)=>ve(ye),we)}}},7849:(Rt,Fe,$)=>{$.d(Fe,{h:()=>F});var u=$(2416),W=$(3410);function F(oe){W.z.setTimeout(()=>{const{onUnhandledError:he}=u.v;if(!he)throw oe;he(oe)})}},4532:(Rt,Fe,$)=>{function u(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Fe,{z:()=>u})},4650:(Rt,Fe,$)=>{$.d(Fe,{$8M:()=>qf,$Z:()=>iN,AFp:()=>Gp,AaK:()=>ve,AsE:()=>ql,CHM:()=>Wd,CRH:()=>mT,CZH:()=>H0,CqO:()=>wP,D6c:()=>p1,EJc:()=>Zl,EpF:()=>Jv,F4k:()=>Xv,FYo:()=>mE,FiY:()=>po,G48:()=>Y0,Gf:()=>R0,GfV:()=>_E,Gpc:()=>Y,JOm:()=>Ks,KtG:()=>gu,LFG:()=>Hr,LSH:()=>Eh,Lbi:()=>NT,Lck:()=>P2,MAs:()=>dw,MMx:()=>b0,NdJ:()=>o_,O4$:()=>am,OlP:()=>Fn,Oqu:()=>kP,PXZ:()=>e1,Q6J:()=>Qv,QGY:()=>s_,QP$:()=>ke,QbO:()=>qx,Qsj:()=>wD,R0b:()=>Uo,RDi:()=>rD,Rgc:()=>Uc,SBq:()=>Nm,Sil:()=>z0,Suo:()=>k0,TTD:()=>Vd,TgZ:()=>Pp,Udp:()=>l_,W1O:()=>yT,X6Q:()=>tb,XFs:()=>pt,Xpm:()=>J,Xts:()=>fp,Y36:()=>Dh,YKP:()=>nT,YNc:()=>Zv,Yjl:()=>B,Yz7:()=>Ue,Z0I:()=>Ut,ZZ4:()=>Zp,_Bn:()=>hx,_UZ:()=>Mp,_Vd:()=>Om,_c5:()=>aL,_uU:()=>qN,aQg:()=>rI,c2e:()=>Wx,cJS:()=>Ot,cg1:()=>h_,dDg:()=>$T,dqk:()=>gn,eFA:()=>ZT,ekj:()=>PP,eoX:()=>GT,f3M:()=>jt,g9A:()=>rd,h0i:()=>Vp,hGG:()=>cL,hij:()=>kp,iGM:()=>M0,ifc:()=>Pt,ip1:()=>RT,jDz:()=>px,kL8:()=>zP,kcU:()=>Uf,lG2:()=>Z,lqb:()=>Ah,lri:()=>jT,n5z:()=>Tl,oAB:()=>St,oxw:()=>t0,q4F:()=>AD,qLn:()=>Lm,qOj:()=>ew,qZA:()=>xp,rWj:()=>Z0,s9C:()=>Rp,sBO:()=>i1,sIi:()=>Hl,s_b:()=>I_,soG:()=>jc,tb:()=>zx,tp0:()=>$a,uIk:()=>lw,vHH:()=>xe,vpe:()=>ma,wAp:()=>Qt,xp6:()=>AE,z2F:()=>V_,zSh:()=>xm,zs3:()=>Qu});var u=$(7579),W=$(727),F=$(9751),oe=$(6451),he=$(3099);function we(a){for(let c in a)if(a[c]===we)return c;throw Error("Could not find renamed property on target object.")}function ye(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function ve(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ve).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ae(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const Q=we({__forward_ref__:we});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return ve(this())},a}function ie(a){return Ye(a)?a():a}function Ye(a){return"function"==typeof a&&a.hasOwnProperty(Q)&&a.__forward_ref__===Y}class xe extends Error{constructor(c,d){super(function dt(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function Pe(a){return"string"==typeof a?a:null==a?"":String(a)}function Me(a,c){throw new xe(-201,!1)}function ae(a,c){null==a&&function ce(a,c,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${c} <=Actual]`))}(c,a,null,"!=")}function Ue(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ot(a){return{providers:a.providers||[],imports:a.imports||[]}}function cn(a){return pn(a,Nn)||pn(a,Ir)}function Ut(a){return null!==cn(a)}function pn(a,c){return a.hasOwnProperty(c)?a[c]:null}function or(a){return a&&(a.hasOwnProperty(nr)||a.hasOwnProperty(Ui))?a[nr]:null}const Nn=we({\u0275prov:we}),nr=we({\u0275inj:we}),Ir=we({ngInjectableDef:we}),Ui=we({ngInjectorDef:we});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Kn;function ar(a){const c=Kn;return Kn=a,c}function Zi(a,c,d){const f=cn(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&pt.Optional?null:void 0!==c?c:void Me(ve(a))}function bn(a){return{toString:a}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),Pt=(()=>{return(a=Pt||(Pt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Pt;var a})();const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gr={},Bt=[],mi=we({\u0275cmp:we}),Xt=we({\u0275dir:we}),Ki=we({\u0275pipe:we}),mn=we({\u0275mod:we}),Qn=we({\u0275fac:we}),Ln=we({__NG_ELEMENT_ID__:we});let Ce=0;function J(a){return bn(()=>{const d=!0===a.standalone,f={},g={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Bt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Pt.Emulated,id:"c"+Ce++,styles:a.styles||Bt,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.dependencies,I=a.features;return g.inputs=K(a.inputs,f),g.outputs=K(a.outputs),I&&I.forEach(E=>E(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(We).filter(It):null,g.pipeDefs=_?()=>("function"==typeof _?_():_).map(re).filter(It):null,g})}function We(a){return U(a)||N(a)}function It(a){return null!==a}function St(a){return bn(()=>({type:a.type,bootstrap:a.bootstrap||Bt,declarations:a.declarations||Bt,imports:a.imports||Bt,exports:a.exports||Bt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function K(a,c){if(null==a)return gr;const d={};for(const f in a)if(a.hasOwnProperty(f)){let g=a[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),d[g]=f,c&&(c[g]=_)}return d}const Z=J;function B(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function U(a){return a[mi]||null}function N(a){return a[Xt]||null}function re(a){return a[Ki]||null}function ke(a){const c=U(a)||N(a)||re(a);return null!==c&&c.standalone}function st(a,c){const d=a[mn]||null;if(!d&&!0===c)throw new Error(`Type ${ve(a)} does not have '\u0275mod' property.`);return d}function ai(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ai(a){return Array.isArray(a)&&!0===a[1]}function il(a){return 0!=(8&a.flags)}function xo(a){return 2==(2&a.flags)}function sl(a){return 1==(1&a.flags)}function ps(a){return null!==a.template}function ol(a){return 0!=(256&a[2])}function Ra(a,c){return a.hasOwnProperty(Qn)?a[Qn]:null}class uo{constructor(c,d,f){this.previousValue=c,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Vd(){return lu}function lu(a){return a.type.prototype.ngOnChanges&&(a.setInput=cl),Ud}function Ud(){const a=Bd(this),c=a?.current;if(c){const d=a.previous;if(d===gr)a.previous=c;else for(let f in c)d[f]=c[f];a.current=null,this.ngOnChanges(c)}}function cl(a,c,d,f){const g=Bd(a)||function im(a,c){return a[Mf]=c}(a,{previous:gr,current:null}),_=g.current||(g.current={}),I=g.previous,E=this.declaredInputs[d],A=I[E];_[E]=new uo(A&&A.currentValue,c,I===gr),a[f]=c}Vd.ngInherit=!0;const Mf="__ngSimpleChanges__";function Bd(a){return a[Mf]||null}function Wn(a){for(;Array.isArray(a);)a=a[0];return a}function ka(a,c){return Wn(c[a])}function Ji(a,c){return Wn(c[a.index])}function Gd(a,c){return a.data[c]}function _i(a,c){const d=c[a];return ai(d)?d:d[0]}function du(a){return 64==(64&a[2])}function gs(a,c){return null==c?null:a[c]}function ci(a){a[18]=0}function _c(a,c){a[5]+=c;let d=a,f=a[3];for(;null!==f&&(1===c&&1===d[5]||-1===c&&0===d[5]);)f[5]+=c,d=f,f=f[3]}const Wt={lFrame:gl(null),bindingsEnabled:!0};function fu(){return Wt.bindingsEnabled}function je(){return Wt.lFrame.lView}function fn(){return Wt.lFrame.tView}function Wd(a){return Wt.lFrame.contextLView=a,a[8]}function gu(a){return Wt.lFrame.contextLView=null,a}function wr(){let a=ul();for(;null!==a&&64===a.type;)a=a.parent;return a}function ul(){return Wt.lFrame.currentTNode}function ms(a,c){const d=Wt.lFrame;d.currentTNode=a,d.isParent=c}function dl(){return Wt.lFrame.isParent}function Oa(){return Wt.lFrame.bindingIndex++}function ts(a){const c=Wt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function Lf(a,c){const d=Wt.lFrame;d.bindingIndex=d.bindingRootIndex=a,fl(c)}function fl(a){Wt.lFrame.currentDirectiveIndex=a}function yc(){return Wt.lFrame.currentQueryIndex}function Bi(a){Wt.lFrame.currentQueryIndex=a}function yu(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function Qd(a,c,d){if(d&pt.SkipSelf){let g=c,_=a;for(;!(g=g.parent,null!==g||d&pt.Host||(g=yu(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;c=g,a=_}const f=Wt.lFrame=pl();return f.currentTNode=c,f.lView=a,!0}function Na(a){const c=pl(),d=a[1];Wt.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function pl(){const a=Wt.lFrame,c=null===a?null:a.child;return null===c?gl(a):c}function gl(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Yd(){const a=Wt.lFrame;return Wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ff=Yd;function Xo(){const a=Yd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function xn(){return Wt.lFrame.selectedIndex}function La(a){Wt.lFrame.selectedIndex=a}function Yn(){const a=Wt.lFrame;return Gd(a.tView,a.selectedIndex)}function am(){Wt.lFrame.currentNamespace="svg"}function Uf(){!function Iu(){Wt.lFrame.currentNamespace=null}()}function _l(a,c){for(let d=c.directiveStart,f=c.directiveEnd;d<f;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:E,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:O}=_;I&&(a.contentHooks||(a.contentHooks=[])).push(-d,I),E&&((a.contentHooks||(a.contentHooks=[])).push(d,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,E)),A&&(a.viewHooks||(a.viewHooks=[])).push(-d,A),P&&((a.viewHooks||(a.viewHooks=[])).push(d,P),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,P)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(d,O)}}function Fa(a,c,d){Jd(a,c,3,d)}function Cu(a,c,d,f){(3&a[2])===d&&Jd(a,c,d,f)}function Eu(a,c){let d=a[2];(3&d)===c&&(d&=2047,d+=1,a[2]=d)}function Jd(a,c,d,f){const _=f??-1,I=c.length-1;let E=0;for(let A=void 0!==f?65535&a[18]:0;A<I;A++)if("number"==typeof c[A+1]){if(E=c[A],null!=f&&E>=f)break}else c[A]<0&&(a[18]+=65536),(E<_||-1==_)&&(cm(a,d,c,A),a[18]=(4294901760&a[18])+A+2),A++}function cm(a,c,d,f){const g=d[f]<0,_=d[f+1],E=a[g?-d[f]:d[f]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class vc{constructor(c,d,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function eh(a,c,d){let f=0;for(;f<d.length;){const g=d[f];if("number"==typeof g){if(0!==g)break;f++;const _=d[f++],I=d[f++],E=d[f++];a.setAttribute(c,I,E,_)}else{const _=g,I=d[++f];Hf(_)?a.setProperty(c,_,I):a.setAttribute(c,_,I),f++}}return f}function Tu(a){return 3===a||4===a||6===a}function Hf(a){return 64===a.charCodeAt(0)}function Cc(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let f=0;f<c.length;f++){const g=c[f];"number"==typeof g?d=g:0===d||um(a,d,g,null,-1===d||2===d?c[++f]:null)}}return a}function um(a,c,d,f,g){let _=0,I=a.length;if(-1===c)I=-1;else for(;_<a.length;){const E=a[_++];if("number"==typeof E){if(E===c){I=-1;break}if(E>c){I=_-1;break}}}for(;_<a.length;){const E=a[_];if("number"==typeof E)break;if(E===d){if(null===f)return void(null!==g&&(a[_+1]=g));if(f===a[_+1])return void(a[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==I&&(a.splice(I,0,c),_=I+1),a.splice(_++,0,d),null!==f&&a.splice(_++,0,f),null!==g&&a.splice(_++,0,g)}function th(a){return-1!==a}function yl(a){return 32767&a}function fo(a,c){let d=function dm(a){return a>>16}(a),f=c;for(;d>0;)f=f[15],d--;return f}let ea=!0;function ns(a){const c=ea;return ea=a,c}let vl=0;const $s={};function Ec(a,c){const d=Ua(a,c);if(-1!==d)return d;const f=c[1];f.firstCreatePass&&(a.injectorIndex=c.length,Il(f.data,a),Il(c,null),Il(f.blueprint,null));const g=Cl(a,c),_=a.injectorIndex;if(th(g)){const I=yl(g),E=fo(g,c),A=E[1].data;for(let P=0;P<8;P++)c[_+P]=E[I+P]|A[I+P]}return c[_+8]=g,_}function Il(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Ua(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function Cl(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,g=c;for(;null!==g;){if(f=sh(g),null===f)return-1;if(d++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function na(a,c,d){!function Au(a,c,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Ln)&&(f=d[Ln]),null==f&&(f=d[Ln]=vl++);const g=255&f;c.data[a+(g>>5)]|=1<<g}(a,c,d)}function rh(a,c,d){if(d&pt.Optional||void 0!==a)return a;Me()}function hm(a,c,d,f){if(d&pt.Optional&&void 0===f&&(f=null),0==(d&(pt.Self|pt.Host))){const g=a[9],_=ar(void 0);try{return g?g.get(c,f,d&pt.Optional):Zi(c,f,d&pt.Optional)}finally{ar(_)}}return rh(f,0,d)}function wc(a,c,d,f=pt.Default,g){if(null!==a){if(1024&c[2]){const I=function ih(a,c,d,f,g){let _=a,I=c;for(;null!==_&&null!==I&&1024&I[2]&&!(256&I[2]);){const E=wl(_,I,d,f|pt.Self,$s);if(E!==$s)return E;let A=_.parent;if(!A){const P=I[21];if(P){const O=P.get(d,$s,f);if(O!==$s)return O}A=sh(I),I=I[15]}_=A}return g}(a,c,d,f,$s);if(I!==$s)return I}const _=wl(a,c,d,f,$s);if(_!==$s)return _}return hm(c,d,f,g)}function wl(a,c,d,f,g){const _=function av(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Ln)?a[Ln]:void 0;return"number"==typeof c?c>=0?255&c:jr:c}(d);if("function"==typeof _){if(!Qd(c,a,f))return f&pt.Host?rh(g,0,f):hm(c,d,f,g);try{const I=_(f);if(null!=I||f&pt.Optional)return I;Me()}finally{Ff()}}else if("number"==typeof _){let I=null,E=Ua(a,c),A=-1,P=f&pt.Host?c[16][6]:null;for((-1===E||f&pt.SkipSelf)&&(A=-1===E?Cl(a,c):c[E+8],-1!==A&&ia(f,!1)?(I=c[1],E=yl(A),c=fo(A,c)):E=-1);-1!==E;){const O=c[1];if(fm(_,E,O.data)){const H=zf(E,c,d,I,f,P);if(H!==$s)return H}A=c[E+8],-1!==A&&ia(f,c[1].data[E+8]===P)&&fm(_,E,c)?(I=O,E=yl(A),c=fo(A,c)):E=-1}}return g}function zf(a,c,d,f,g,_){const I=c[1],E=I.data[a+8],O=Tc(E,I,d,null==f?xo(E)&&ea:f!=I&&0!=(3&E.type),g&pt.Host&&_===E);return null!==O?ra(c,I,O,E):$s}function Tc(a,c,d,f,g){const _=a.providerIndexes,I=c.data,E=1048575&_,A=a.directiveStart,O=_>>20,te=g?E+O:a.directiveEnd;for(let le=f?E:E+O;le<te;le++){const Oe=I[le];if(le<A&&d===Oe||le>=A&&Oe.type===d)return le}if(g){const le=I[A];if(le&&ps(le)&&le.type===d)return A}return null}function ra(a,c,d,f){let g=a[d];const _=c.data;if(function jf(a){return a instanceof vc}(g)){const I=g;I.resolving&&function wt(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${d}`)}(function _e(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Pe(a)}(_[d]));const E=ns(I.canSeeViewProviders);I.resolving=!0;const A=I.injectImpl?ar(I.injectImpl):null;Qd(a,f,pt.Default);try{g=a[d]=I.factory(void 0,_,a,f),c.firstCreatePass&&d>=f.directiveStart&&function ml(a,c,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=c.type.prototype;if(f){const I=lu(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,I)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,g),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],c)}finally{null!==A&&ar(A),ns(E),I.resolving=!1,Ff()}}return g}function fm(a,c,d){return!!(d[c+(a>>5)]&1<<a)}function ia(a,c){return!(a&pt.Self||a&pt.Host&&c)}class bc{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,f){return wc(this._tNode,this._lView,c,f,d)}}function jr(){return new bc(wr(),je())}function Tl(a){return bn(()=>{const c=a.prototype.constructor,d=c[Qn]||bl(c),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const _=g[Qn]||bl(g);if(_&&_!==d)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function bl(a){return Ye(a)?()=>{const c=bl(ie(a));return c&&c()}:Ra(a)}function sh(a){const c=a[1],d=c.type;return 2===d?c.declTNode:1===d?a[6]:null}function qf(a){return function El(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const _=d[g];if(Tu(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(_===c)return d[g+1];g+=2}}}return null}(wr(),a)}const ur="__parameters__";function _s(a,c,d){return bn(()=>{const f=function Su(a){return function(...d){if(a){const f=a(...d);for(const g in f)this[g]=f[g]}}}(c);function g(..._){if(this instanceof g)return f.apply(this,_),this;const I=new g(..._);return E.annotation=I,E;function E(A,P,O){const H=A.hasOwnProperty(ur)?A[ur]:Object.defineProperty(A,ur,{value:[]})[ur];for(;H.length<=O;)H.push(null);return(H[O]=H[O]||[]).push(I),A}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class Fn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Ue({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function li(a,c){void 0===c&&(c=a);for(let d=0;d<a.length;d++){let f=a[d];Array.isArray(f)?(c===a&&(c=a.slice(0,d)),li(f,c)):c!==a&&c.push(f)}return c}function Gs(a,c){a.forEach(d=>Array.isArray(d)?Gs(d,c):c(d))}function ah(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function Sl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function rs(a,c,d){let f=Ba(a,c);return f>=0?a[1|f]=d:(f=~f,function uv(a,c,d,f){let g=a.length;if(g==c)a.push(d,f);else if(1===g)a.push(f,a[0]),a[0]=d;else{for(g--,a.push(a[g-1],a[g]);g>c;)a[g]=a[g-2],g--;a[c]=d,a[c+1]=f}}(a,f,c,d)),f}function ku(a,c){const d=Ba(a,c);if(d>=0)return a[1|d]}function Ba(a,c){return function lh(a,c,d){let f=0,g=a.length>>d;for(;g!==f;){const _=f+(g-f>>1),I=a[_<<d];if(c===I)return _<<d;I>c?g=_:f=_+1}return~(g<<d)}(a,c,1)}const Tr={},Di="__NG_DI_FLAG__",is="ngTempTokenPath",vs=/\n/gm,Nu="__source";let Dc;function Pi(a){const c=Dc;return Dc=a,c}function Pc(a,c=pt.Default){if(void 0===Dc)throw new xe(-203,!1);return null===Dc?Zi(a,void 0,c):Dc.get(a,c&pt.Optional?null:void 0,c)}function Hr(a,c=pt.Default){return(function pr(){return Kn}()||Pc)(ie(a),c)}function jt(a,c=pt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Hr(a,c)}function Lu(a){const c=[];for(let d=0;d<a.length;d++){const f=ie(a[d]);if(Array.isArray(f)){if(0===f.length)throw new xe(900,!1);let g,_=pt.Default;for(let I=0;I<f.length;I++){const E=f[I],A=tp(E);"number"==typeof A?-1===A?g=E.token:_|=A:g=E}c.push(Hr(g,_))}else c.push(Hr(f))}return c}function ja(a,c){return a[Di]=c,a.prototype[Di]=c,a}function tp(a){return a[Di]}const po=ja(_s("Optional"),8),$a=ja(_s("SkipSelf"),4);var Ks=(()=>((Ks=Ks||{})[Ks.Important=1]="Important",Ks[Ks.DashCase=2]="DashCase",Ks))();const M=new Map;let G=0;const _r="__ngContext__";function Ct(a,c){ai(c)?(a[_r]=c[20],function se(a){M.set(a[20],a)}(c)):a[_r]=c}function mh(a,c){return undefined(a,c)}function _h(a){const c=a[3];return Ai(c)?c[3]:c}function Wu(a){return m(a[13])}function w(a){return m(a[4])}function m(a){for(;null!==a&&!Ai(a);)a=a[4];return a}function b(a,c,d,f,g){if(null!=f){let _,I=!1;Ai(f)?_=f:ai(f)&&(I=!0,f=f[0]);const E=Wn(f);0===a&&null!==d?null==g?up(c,d,E):Wa(c,d,E,g||null,!0):1===a&&null!==d?Wa(c,d,E,g||null,!0):2===a?function QC(a,c,d){const f=yv(a,c);f&&function vh(a,c,d,f){a.removeChild(c,d,f)}(a,f,c,d)}(c,E,I):3===a&&c.destroyNode(E),null!=_&&function hO(a,c,d,f,g){const _=d[7];_!==Wn(d)&&b(c,a,f,_,g);for(let E=10;E<d.length;E++){const A=d[E];Em(A[1],A,a,c,f,_)}}(c,a,_,d,g)}}function me(a,c,d){return a.createElement(c,d)}function za(a,c){const d=a[9],f=d.indexOf(c),g=c[3];512&c[2]&&(c[2]&=-513,_c(g,-1)),d.splice(f,1)}function Rc(a,c){if(a.length<=10)return;const d=10+c,f=a[d];if(f){const g=f[17];null!==g&&g!==a&&za(g,f),c>0&&(a[d-1][4]=f[4]);const _=Sl(a,10+c);!function Ke(a,c){Em(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const I=_[19];null!==I&&I.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function qa(a,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&Em(a,c,d,3,null,null),function wn(a){let c=a[13];if(!c)return yh(a[1],a);for(;c;){let d=null;if(ai(c))d=c[13];else{const f=c[10];f&&(d=f)}if(!d){for(;c&&!c[4]&&c!==a;)ai(c)&&yh(c[1],c),c=c[3];null===c&&(c=a),ai(c)&&yh(c[1],c),d=c&&c[4]}c=d}}(c)}}function yh(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function lp(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const g=c[d[f]];if(!(g instanceof vc)){const _=d[f+1];if(Array.isArray(_))for(let I=0;I<_.length;I+=2){const E=g[_[I]],A=_[I+1];try{A.call(E)}finally{}}else try{_.call(g)}finally{}}}}(a,c),function Im(a,c){const d=a.cleanup,f=c[7];let g=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const I=d[_+1],E="function"==typeof I?I(c):Wn(c[I]),A=f[g=d[_+2]],P=d[_+3];"boolean"==typeof P?E.removeEventListener(d[_],A,P):P>=0?f[g=P]():f[g=-P].unsubscribe(),_+=2}else{const I=f[g=d[_+1]];d[_].call(I)}if(null!==f){for(let _=g+1;_<f.length;_++)(0,f[_])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Ai(c[3])){d!==c[3]&&za(d,c);const f=c[19];null!==f&&f.detachView(a)}!function rt(a){M.delete(a[20])}(c)}}function kc(a,c,d){return function Cm(a,c,d){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return d[0];if(2&f.flags){const g=a.data[f.directiveStart].encapsulation;if(g===Pt.None||g===Pt.Emulated)return null}return Ji(f,d)}(a,c.parent,d)}function Wa(a,c,d,f,g){a.insertBefore(c,d,f,g)}function up(a,c,d){a.appendChild(c,d)}function _v(a,c,d,f,g){null!==f?Wa(a,c,d,f,g):up(a,c,d)}function yv(a,c){return a.parentNode(c)}let Zu,WC=function qC(a,c,d){return 40&a.type?Ji(a,d):null};function Oc(a,c,d,f){const g=kc(a,f,c),_=c[11],E=function JS(a,c,d){return WC(a,c,d)}(f.parent||c[6],f,c);if(null!=g)if(Array.isArray(d))for(let A=0;A<d.length;A++)_v(_,g,d[A],E,!1);else _v(_,g,d,E,!1)}function Ih(a,c){if(null!==c){const d=c.type;if(3&d)return Ji(c,a);if(4&d)return KC(-1,a[c.index]);if(8&d){const f=c.child;if(null!==f)return Ih(a,f);{const g=a[c.index];return Ai(g)?KC(-1,g):Wn(g)}}if(32&d)return mh(c,a)()||Wn(a[c.index]);{const f=ZC(a,c);return null!==f?Array.isArray(f)?f[0]:Ih(_h(a[16]),f):Ih(a,c.next)}}return null}function ZC(a,c){return null!==c?a[16][6].projection[c.projection]:null}function KC(a,c){const d=10+a+1;if(d<c.length){const f=c[d],g=f[1].firstChild;if(null!==g)return Ih(f,g)}return c[7]}function YC(a,c,d,f,g,_,I){for(;null!=d;){const E=f[d.index],A=d.type;if(I&&0===c&&(E&&Ct(Wn(E),f),d.flags|=4),64!=(64&d.flags))if(8&A)YC(a,c,d.child,f,g,_,!1),b(c,a,g,E,_);else if(32&A){const P=mh(d,f);let O;for(;O=P();)b(c,a,g,O,_);b(c,a,g,E,_)}else 16&A?XS(a,c,f,d,g,_):b(c,a,g,E,_);d=I?d.projectionNext:d.next}}function Em(a,c,d,f,g,_){YC(d,f,a.firstChild,c,g,_,!1)}function XS(a,c,d,f,g,_){const I=d[16],A=I[6].projection[f.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)b(c,a,g,A[P],_);else YC(a,c,A,I[3],g,_,!0)}function eD(a,c,d){a.setAttribute(c,"style",d)}function JC(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function rD(a){Zu=a}class nE{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ua(a){return a instanceof nE?a.changingThisBreaksApplicationSecurity:a}const IO=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function Eh(a){const c=function wh(){const a=je();return a&&a[12]}();return c?c.sanitize(yi.URL,a)||"":function Tm(a,c){const d=function gO(a){return a instanceof nE&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}(a,"URL")?ua(a):function aE(a){return(a=String(a)).match(IO)?a:"unsafe:"+a}(Pe(a))}const fp=new Fn("ENVIRONMENT_INITIALIZER"),Th=new Fn("INJECTOR",-1),hD=new Fn("INJECTOR_DEF_TYPES");class fD{get(c,d=Tr){if(d===Tr){const f=new Error(`NullInjectorError: No provider for ${ve(c)}!`);throw f.name="NullInjectorError",f}return d}}function kO(...a){return{\u0275providers:pD(0,a)}}function pD(a,...c){const d=[],f=new Set;let g;return Gs(c,_=>{const I=_;dE(I,d,[],f)&&(g||(g=[]),g.push(I))}),void 0!==g&&gD(g,d),d}function gD(a,c){for(let d=0;d<a.length;d++){const{providers:g}=a[d];Gs(g,_=>{c.push(_)})}}function dE(a,c,d,f){if(!(a=ie(a)))return!1;let g=null,_=or(a);const I=!_&&U(a);if(_||I){if(I&&!I.standalone)return!1;g=a}else{const A=a.ngModule;if(_=or(A),!_)return!1;g=A}const E=f.has(g);if(I){if(E)return!1;if(f.add(g),I.dependencies){const A="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const P of A)dE(P,c,d,f)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let P;f.add(g);try{Gs(_.imports,O=>{dE(O,c,d,f)&&(P||(P=[]),P.push(O))})}finally{}void 0!==P&&gD(P,c)}if(!E){const P=Ra(g)||(()=>new g);c.push({provide:g,useFactory:P,deps:Bt},{provide:hD,useValue:g,multi:!0},{provide:fp,useValue:()=>Hr(g),multi:!0})}const A=_.providers;null==A||E||Gs(A,O=>{c.push(O)})}}return g!==a&&void 0!==a.providers}const OO=we({provide:String,useValue:we});function hE(a){return null!==a&&"object"==typeof a&&OO in a}function Ll(a){return"function"==typeof a}const xm=new Fn("Set Injector scope."),bh={},NO={};let pE;function bv(){return void 0===pE&&(pE=new fD),pE}class Ah{}class Mm extends Ah{constructor(c,d,f,g){super(),this.parent=d,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gE(c,I=>this.processProvider(I)),this.records.set(Th,Sh(void 0,this)),g.has("environment")&&this.records.set(Ah,Sh(void 0,this));const _=this.records.get(xm);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(hD.multi,Bt,pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=Pi(this),f=ar(void 0);try{return c()}finally{Pi(d),ar(f)}}get(c,d=Tr,f=pt.Default){this.assertNotDestroyed();const g=Pi(this),_=ar(void 0);try{if(!(f&pt.SkipSelf)){let E=this.records.get(c);if(void 0===E){const A=function LO(a){return"function"==typeof a||"object"==typeof a&&a instanceof Fn}(c)&&cn(c);E=A&&this.injectableDefInScope(A)?Sh(Av(c),bh):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(f&pt.Self?bv():this.parent).get(c,d=f&pt.Optional&&d===Tr?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[is]=I[is]||[]).unshift(ve(c)),g)throw I;return function sa(a,c,d,f){const g=a[is];throw c[Nu]&&g.unshift(c[Nu]),a.message=function zr(a,c,d,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=ve(c);if(Array.isArray(c))g=c.map(ve).join(" -> ");else if("object"==typeof c){let _=[];for(let I in c)if(c.hasOwnProperty(I)){let E=c[I];_.push(I+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}g=`{${_.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${a.replace(vs,"\n  ")}`}("\n"+a.message,g,d,f),a.ngTokenPath=g,a[is]=null,a}(I,c,"R3InjectorError",this.source)}throw I}finally{ar(_),Pi(g)}}resolveInjectorInitializers(){const c=Pi(this),d=ar(void 0);try{const f=this.get(fp.multi,Bt,pt.Self);for(const g of f)g()}finally{Pi(c),ar(d)}}toString(){const c=[],d=this.records;for(const f of d.keys())c.push(ve(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=Ll(c=ie(c))?c:ie(c&&c.provide);const f=function Sv(a){return hE(a)?Sh(void 0,a.useValue):Sh(Rm(a),bh)}(c);if(Ll(c)||!0!==c.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Sh(void 0,bh,!0),g.factory=()=>Lu(g.multi),this.records.set(d,g)),d=c,g.multi.push(c)}this.records.set(d,f)}hydrate(c,d){return d.value===bh&&(d.value=NO,d.value=d.factory()),"object"==typeof d.value&&d.value&&function vD(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=ie(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Av(a){const c=cn(a),d=null!==c?c.factory:Ra(a);if(null!==d)return d;if(a instanceof Fn)throw new xe(204,!1);if(a instanceof Function)return function yD(a){const c=a.length;if(c>0)throw function Ru(a,c){const d=[];for(let f=0;f<a;f++)d.push(c);return d}(c,"?"),new xe(204,!1);const d=function rn(a){const c=a&&(a[Nn]||a[Ir]);if(c){const d=function Tn(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new xe(204,!1)}function Rm(a,c,d){let f;if(Ll(a)){const g=ie(a);return Ra(g)||Av(g)}if(hE(a))f=()=>ie(a.useValue);else if(function mD(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Lu(a.deps||[]));else if(function fE(a){return!(!a||!a.useExisting)}(a))f=()=>Hr(ie(a.useExisting));else{const g=ie(a&&(a.useClass||a.provide));if(!function km(a){return!!a.deps}(a))return Ra(g)||Av(g);f=()=>new g(...Lu(a.deps))}return f}function Sh(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function FO(a){return!!a.\u0275providers}function gE(a,c){for(const d of a)Array.isArray(d)?gE(d,c):FO(d)?gE(d.\u0275providers,c):c(d)}class ID{}class UO{resolveComponentFactory(c){throw function Dv(a){const c=Error(`No component factory found for ${ve(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Om=(()=>{class a{}return a.NULL=new UO,a})();function BO(){return pp(wr(),je())}function pp(a,c){return new Nm(Ji(a,c))}let Nm=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=BO,a})();function ED(a){return a instanceof Nm?a.nativeElement:a}class mE{}let wD=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function TD(){const a=je(),d=_i(wr().index,a);return(ai(d)?d:a)[11]}(),a})(),bD=(()=>{class a{}return a.\u0275prov=Ue({token:a,providedIn:"root",factory:()=>null}),a})();class _E{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const AD=new _E("14.3.0"),yE={};function IE(a){return a.ngOriginalError}class Lm{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&IE(c);for(;d&&IE(d);)d=IE(d);return d||null}}function Fl(a){return a instanceof Function?a():a}function Fm(a,c,d){let f=a.length;for(;;){const g=a.indexOf(c,d);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const _=c.length;if(g+_===f||a.charCodeAt(g+_)<=32)return g}d=g+1}}const OD="ng-template";function HO(a,c,d){let f=0;for(;f<a.length;){let g=a[f++];if(d&&"class"===g){if(g=a[f],-1!==Fm(g.toLowerCase(),c,0))return!0}else if(1===g){for(;f<a.length&&"string"==typeof(g=a[f++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function ND(a){return 4===a.type&&a.value!==OD}function zO(a,c,d){return c===(4!==a.type||d?a.value:OD)}function LD(a,c,d){let f=4;const g=a.attrs||[],_=function TE(a){for(let c=0;c<a.length;c++)if(Tu(a[c]))return c;return a.length}(g);let I=!1;for(let E=0;E<c.length;E++){const A=c[E];if("number"!=typeof A){if(!I)if(4&f){if(f=2|1&f,""!==A&&!zO(a,A,d)||""===A&&1===c.length){if(vn(f))return!1;I=!0}}else{const P=8&f?A:c[++E];if(8&f&&null!==a.attrs){if(!HO(a.attrs,P,d)){if(vn(f))return!1;I=!0}continue}const H=qO(8&f?"class":A,g,ND(a),d);if(-1===H){if(vn(f))return!1;I=!0;continue}if(""!==P){let te;te=H>_?"":g[H+1].toLowerCase();const le=8&f?te:null;if(le&&-1!==Fm(le,P,0)||2&f&&P!==te){if(vn(f))return!1;I=!0}}}}else{if(!I&&!vn(f)&&!vn(A))return!1;if(I&&vn(A))continue;I=!1,f=A|1&f}}return vn(f)||I}function vn(a){return 0==(1&a)}function qO(a,c,d,f){if(null===c)return-1;let g=0;if(f||!d){let _=!1;for(;g<c.length;){const I=c[g];if(I===a)return g;if(3===I||6===I)_=!0;else{if(1===I||2===I){let E=c[++g];for(;"string"==typeof E;)E=c[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=_?1:2}return-1}return function WO(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===c)return d;d++}return-1}(c,a)}function EE(a,c,d=!1){for(let f=0;f<c.length;f++)if(LD(a,c[f],d))return!0;return!1}function bE(a,c){return a?":not("+c.trim()+")":c}function F9(a){let c=a[0],d=1,f=2,g="",_=!1;for(;d<a.length;){let I=a[d];if("string"==typeof I)if(2&f){const E=a[++d];g+="["+I+(E.length>0?'="'+E+'"':"")+"]"}else 8&f?g+="."+I:4&f&&(g+=" "+I);else""!==g&&!vn(I)&&(c+=bE(_,g),g=""),f=I,_=_||!vn(f);d++}return""!==g&&(c+=bE(_,g)),c}const sn={};function AE(a){Vm(fn(),je(),xn()+a,!1)}function Vm(a,c,d,f){if(!f)if(3==(3&c[2])){const _=a.preOrderCheckHooks;null!==_&&Fa(c,_,d)}else{const _=a.preOrderHooks;null!==_&&Cu(c,_,0,d)}La(d)}function UD(a,c=null,d=null,f){const g=BD(a,c,d,f);return g.resolveInjectorInitializers(),g}function BD(a,c=null,d=null,f,g=new Set){const _=[d||Bt,kO(a)];return f=f||("object"==typeof a?void 0:ve(a)),new Mm(_,c||bv(),f||null,g)}let Qu=(()=>{class a{static create(d,f){if(Array.isArray(d))return UD({name:""},f,d,"");{const g=d.name??"";return UD({name:g},d.parent,d.providers,g)}}}return a.THROW_IF_NOT_FOUND=Tr,a.NULL=new fD,a.\u0275prov=Ue({token:a,providedIn:"any",factory:()=>Hr(Th)}),a.__NG_ELEMENT_ID__=-1,a})();function Dh(a,c=pt.Default){const d=je();return null===d?Hr(a,c):wc(wr(),d,ie(a),c)}function iN(){throw new Error("invalid")}function Um(a,c){return a<<17|c<<2}function Nc(a){return a>>17&32767}function vp(a){return 2|a}function ti(a){return(131068&a)>>2}function da(a,c){return-131069&a|c<<2}function Yu(a){return 1|a}function Wm(a,c){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const g=d[f],_=d[f+1];if(-1!==_){const I=a.data[_];Bi(g),I.contentQueries(2,c[_],_)}}}function Ip(a,c,d,f,g,_,I,E,A,P,O){const H=c.blueprint.slice();return H[0]=g,H[2]=76|f,(null!==O||a&&1024&a[2])&&(H[2]|=1024),ci(H),H[3]=H[15]=a,H[8]=d,H[10]=I||a&&a[10],H[11]=E||a&&a[11],H[12]=A||a&&a[12]||null,H[9]=P||a&&a[9]||null,H[6]=_,H[20]=function ee(){return G++}(),H[21]=O,H[16]=2==c.type?a[16]:H,H}function Cp(a,c,d,f,g){let _=a.data[c];if(null===_)_=function VE(a,c,d,f,g){const _=ul(),I=dl(),A=a.data[c]=function jl(a,c,d,f,g,_){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?_:_&&_.parent,d,c,f,g);return null===a.firstChild&&(a.firstChild=A),null!==_&&(I?null==_.child&&null!==A.parent&&(_.child=A):null===_.next&&(_.next=A)),A}(a,c,d,f,g),function hl(){return Wt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=f,_.attrs=g;const I=function Jo(){const a=Wt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();_.injectorIndex=null===I?-1:I.injectorIndex}return ms(_,!0),_}function xh(a,c,d,f){if(0===d)return-1;const g=c.length;for(let _=0;_<d;_++)c.push(f),a.blueprint.push(f),a.data.push(null);return g}function Mh(a,c,d){Na(c);try{const f=a.viewQuery;null!==f&&Ym(1,f,d);const g=a.template;null!==g&&nP(a,c,g,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Wm(a,c),a.staticViewQueries&&Ym(2,a.viewQuery,d);const _=a.components;null!==_&&function Bl(a,c){for(let d=0;d<c.length;d++)CN(a,c[d])}(c,_)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{c[2]&=-5,Xo()}}function Ep(a,c,d,f){const g=c[2];if(128!=(128&g)){Na(c);try{ci(c),function es(a){return Wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&nP(a,c,d,2,f);const I=3==(3&g);if(I){const P=a.preOrderCheckHooks;null!==P&&Fa(c,P,null)}else{const P=a.preOrderHooks;null!==P&&Cu(c,P,0,null),Eu(c,0)}if(function ZE(a){for(let c=Wu(a);null!==c;c=w(c)){if(!c[2])continue;const d=c[9];for(let f=0;f<d.length;f++){const g=d[f],_=g[3];0==(512&g[2])&&_c(_,1),g[2]|=512}}}(c),function IN(a){for(let c=Wu(a);null!==c;c=w(c))for(let d=10;d<c.length;d++){const f=c[d],g=f[1];du(f)&&Ep(g,f,g.template,f[8])}}(c),null!==a.contentQueries&&Wm(a,c),I){const P=a.contentCheckHooks;null!==P&&Fa(c,P)}else{const P=a.contentHooks;null!==P&&Cu(c,P,1),Eu(c,1)}!function FE(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)La(~g);else{const _=g,I=d[++f],E=d[++f];Lf(I,_),E(2,c[_])}}}finally{La(-1)}}(a,c);const E=a.components;null!==E&&function hN(a,c){for(let d=0;d<c.length;d++)hP(a,c[d])}(c,E);const A=a.viewQuery;if(null!==A&&Ym(2,A,f),I){const P=a.viewCheckHooks;null!==P&&Fa(c,P)}else{const P=a.viewHooks;null!==P&&Cu(c,P,2),Eu(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,_c(c[3],-1))}finally{Xo()}}}function nP(a,c,d,f,g){const _=xn(),I=2&f;try{La(-1),I&&c.length>22&&Vm(a,c,22,!1),d(f,g)}finally{La(_)}}function UE(a,c,d){!fu()||(function cP(a,c,d,f){const g=d.directiveStart,_=d.directiveEnd;a.firstCreatePass||Ec(d,c),Ct(f,c);const I=d.initialInputs;for(let E=g;E<_;E++){const A=a.data[E],P=ps(A);P&&_N(c,d,A);const O=ra(c,a,E,d);Ct(O,c),null!==I&&yN(0,E-g,O,A,0,I),P&&(_i(d.index,c)[8]=O)}}(a,c,d,Ji(d,c)),128==(128&d.flags)&&function Uv(a,c,d){const f=d.directiveStart,g=d.directiveEnd,_=d.index,I=function _u(){return Wt.lFrame.currentDirectiveIndex}();try{La(_);for(let E=f;E<g;E++){const A=a.data[E],P=c[E];fl(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&pN(A,P)}}finally{La(-1),fl(I)}}(a,c,d))}function BE(a,c,d=Ji){const f=c.localNames;if(null!==f){let g=c.index+1;for(let _=0;_<f.length;_+=2){const I=f[_+1],E=-1===I?d(c,a):a[I];a[g++]=E}}}function rP(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Zm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Zm(a,c,d,f,g,_,I,E,A,P){const O=22+f,H=O+g,te=function Km(a,c){const d=[];for(let f=0;f<c;f++)d.push(f<a?null:sn);return d}(O,H),le="function"==typeof P?P():P;return te[1]={type:a,blueprint:te,template:d,queries:null,viewQuery:E,declTNode:c,data:te.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:A,consts:le,incompleteFirstPass:!1}}function jE(a,c,d,f){const g=jv(c);null===d?g.push(f):(g.push(d),a.firstCreatePass&&fP(a).push(f,g.length-1))}function fN(a,c,d){for(let f in a)if(a.hasOwnProperty(f)){const g=a[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(c,g):d[f]=[c,g]}return d}function $E(a,c){const f=c.directiveEnd,g=a.data,_=c.attrs,I=[];let E=null,A=null;for(let P=c.directiveStart;P<f;P++){const O=g[P],H=O.inputs,te=null===_||ND(c)?null:vN(H,_);I.push(te),E=fN(H,P,E),A=fN(O.outputs,P,A)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=16),E.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=I,c.inputs=E,c.outputs=A}function Gi(a,c,d,f,g,_,I,E){const A=Ji(c,d);let O,P=c.inputs;!E&&null!=P&&(O=P[f])?($v(a,d,O,f,g),xo(c)&&GE(d,c.index)):3&c.type&&(f=function Fv(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=I?I(g,c.value||"",f):g,_.setProperty(A,f,g))}function GE(a,c){const d=_i(c,a);16&d[2]||(d[2]|=32)}function Vv(a,c,d,f){let g=!1;if(fu()){const _=function gN(a,c,d){const f=a.directiveRegistry;let g=null;if(f)for(let _=0;_<f.length;_++){const I=f[_];EE(d,I.selectors,!1)&&(g||(g=[]),na(Ec(d,c),a,I.type),ps(I)?(lP(a,d),g.unshift(I)):g.push(I))}return g}(a,c,d),I=null===f?null:{"":-1};if(null!==_){g=!0,zE(d,a.data.length,_.length);for(let O=0;O<_.length;O++){const H=_[O];H.providersResolver&&H.providersResolver(H)}let E=!1,A=!1,P=xh(a,c,_.length,null);for(let O=0;O<_.length;O++){const H=_[O];d.mergedAttrs=Cc(d.mergedAttrs,H.hostAttrs),dP(a,d,c,P,H),mN(P,H,I),null!==H.contentQueries&&(d.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(d.flags|=128);const te=H.type.prototype;!E&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),E=!0),!A&&(te.ngOnChanges||te.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),A=!0),P++}$E(a,d)}I&&function uP(a,c,d){if(c){const f=a.localNames=[];for(let g=0;g<c.length;g+=2){const _=d[c[g+1]];if(null==_)throw new xe(-301,!1);f.push(c[g],_)}}}(d,f,I)}return d.mergedAttrs=Cc(d.mergedAttrs,d.attrs),g}function HE(a,c,d,f,g,_){const I=_.hostBindings;if(I){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const A=~c.index;(function aP(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(E)!=A&&E.push(A),E.push(f,g,I)}}function pN(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function lP(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function mN(a,c,d){if(d){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)d[c.exportAs[f]]=a;ps(c)&&(d[""]=a)}}function zE(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}function dP(a,c,d,f,g){a.data[f]=g;const _=g.factory||(g.factory=Ra(g.type)),I=new vc(_,ps(g),Dh);a.blueprint[f]=I,d[f]=I,HE(a,c,0,f,xh(a,d,g.hostVars,sn),g)}function _N(a,c,d){const f=Ji(c,a),g=rP(d),_=a[10],I=Qm(a,Ip(a,g,null,d.onPush?32:16,f,c,_,_.createRenderer(f,d),null,null,null));a[c.index]=I}function ha(a,c,d,f,g,_){const I=Ji(a,c);!function qE(a,c,d,f,g,_,I){if(null==_)a.removeAttribute(c,g,d);else{const E=null==I?Pe(_):I(_,f||"",g);a.setAttribute(c,g,E,d)}}(c[11],I,_,a.value,d,f,g)}function yN(a,c,d,f,g,_){const I=_[c];if(null!==I){const E=f.setInput;for(let A=0;A<I.length;){const P=I[A++],O=I[A++],H=I[A++];null!==E?f.setInput(d,H,P,O):d[O]=H}}}function vN(a,c){let d=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===d&&(d=[]),d.push(g,a[g],c[f+1])),f+=2}else f+=2;else f+=4}return d}function WE(a,c,d,f){return new Array(a,!0,!1,c,null,0,f,d,null,null)}function hP(a,c){const d=_i(c,a);if(du(d)){const f=d[1];48&d[2]?Ep(f,d,f.template,d[8]):d[5]>0&&KE(d)}}function KE(a){for(let f=Wu(a);null!==f;f=w(f))for(let g=10;g<f.length;g++){const _=f[g];if(du(_))if(512&_[2]){const I=_[1];Ep(I,_,I.template,_[8])}else _[5]>0&&KE(_)}const d=a[1].components;if(null!==d)for(let f=0;f<d.length;f++){const g=_i(d[f],a);du(g)&&g[5]>0&&KE(g)}}function CN(a,c){const d=_i(c,a),f=d[1];(function EN(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(f,d),Mh(f,d,d[8])}function Qm(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Bv(a){for(;a;){a[2]|=32;const c=_h(a);if(ol(a)&&!c)return a;a=c}return null}function wp(a,c,d,f=!0){const g=c[10];g.begin&&g.begin();try{Ep(a,c,a.template,d)}catch(I){throw f&&gP(c,I),I}finally{g.end&&g.end()}}function Ym(a,c,d){Bi(0),c(a,d)}function jv(a){return a[7]||(a[7]=[])}function fP(a){return a.cleanup||(a.cleanup=[])}function gP(a,c){const d=a[9],f=d?d.get(Lm,null):null;f&&f.handleError(c)}function $v(a,c,d,f,g){for(let _=0;_<d.length;){const I=d[_++],E=d[_++],A=c[I],P=a.data[I];null!==P.setInput?P.setInput(A,g,f,E):A[E]=g}}function $l(a,c,d){const f=ka(c,a);!function V(a,c,d){a.setValue(c,d)}(a[11],f,d)}function Jm(a,c,d){let f=d?a.styles:null,g=d?a.classes:null,_=0;if(null!==c)for(let I=0;I<c.length;I++){const E=c[I];"number"==typeof E?_=E:1==_?g=Ae(g,E):2==_&&(f=Ae(f,E+": "+c[++I]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=g:a.classesWithoutHost=g}function Gv(a,c,d,f,g=!1){for(;null!==d;){const _=c[d.index];if(null!==_&&f.push(Wn(_)),Ai(_))for(let E=10;E<_.length;E++){const A=_[E],P=A[1].firstChild;null!==P&&Gv(A[1],A,P,f)}const I=d.type;if(8&I)Gv(a,c,d.child,f);else if(32&I){const E=mh(d,c);let A;for(;A=E();)f.push(A)}else if(16&I){const E=ZC(c,d);if(Array.isArray(E))f.push(...E);else{const A=_h(c[16]);Gv(A[1],A,E,f,!0)}}d=g?d.projectionNext:d.next}return f}class Tp{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Gv(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Ai(c)){const d=c[8],f=d?d.indexOf(this):-1;f>-1&&(Rc(c,f),Sl(d,f))}this._attachedToViewContainer=!1}qa(this._lView[1],this._lView)}onDestroy(c){jE(this._lView[1],this._lView,null,c)}markForCheck(){Bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){wp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ft(a,c){Em(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class mP extends Tp{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;wp(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class Xm extends Om{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=U(c);return new Oh(d,this.ngModule)}}function YE(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class wN{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,f){const g=this.injector.get(c,yE,f);return g!==yE||d===yE?g:this.parentInjector.get(c,d,f)}}class Oh extends ID{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function V9(a){return a.map(F9).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return YE(this.componentDef.inputs)}get outputs(){return YE(this.componentDef.outputs)}create(c,d,f,g){let _=(g=g||this.ngModule)instanceof Ah?g:g?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const I=_?new wN(c,_):c,E=I.get(mE,null);if(null===E)throw new xe(407,!1);const A=I.get(bD,null),P=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",H=f?function kh(a,c,d){return a.selectRootElement(c,d===Pt.ShadowDom)}(P,f,this.componentDef.encapsulation):me(P,O,function JE(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(O)),te=this.componentDef.onPush?288:272,le=Zm(0,null,null,1,0,null,null,null,null,null),Oe=Ip(null,le,null,te,null,null,E,P,A,I,null);let Je,ct;Na(Oe);try{const Mt=function bN(a,c,d,f,g,_){const I=d[1];d[22]=a;const A=Cp(I,22,2,"#host",null),P=A.mergedAttrs=c.hostAttrs;null!==P&&(Jm(A,P,!0),null!==a&&(eh(g,a,P),null!==A.classes&&JC(g,a,A.classes),null!==A.styles&&eD(g,a,A.styles)));const O=f.createRenderer(a,c),H=Ip(d,rP(c),null,c.onPush?32:16,d[22],A,f,O,_||null,null,null);return I.firstCreatePass&&(na(Ec(A,d),I,c.type),lP(I,A),zE(A,d.length,1)),Qm(d,H),d[22]=H}(H,this.componentDef,Oe,E,P);if(H)if(f)eh(P,H,["ng-version",AD.full]);else{const{attrs:Kt,classes:He}=function KO(a){const c=[],d=[];let f=1,g=2;for(;f<a.length;){let _=a[f];if("string"==typeof _)2===g?""!==_&&c.push(_,a[++f]):8===g&&d.push(_);else{if(!vn(g))break;g=_}f++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);Kt&&eh(P,H,Kt),He&&He.length>0&&JC(P,H,He.join(" "))}if(ct=Gd(le,22),void 0!==d){const Kt=ct.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Yt=d[He];Kt.push(null!=Yt?Array.from(Yt):null)}}Je=function XE(a,c,d,f){const g=d[1],_=function oP(a,c,d){const f=wr();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),dP(a,f,c,xh(a,c,1,null),d),$E(a,f));const g=ra(c,a,f.directiveStart,f);Ct(g,c);const _=Ji(f,c);return _&&Ct(_,c),g}(g,d,c);if(a[8]=d[8]=_,null!==f)for(const E of f)E(_,c);if(c.contentQueries){const E=wr();c.contentQueries(1,_,E.directiveStart)}const I=wr();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(La(I.index),HE(d[1],I,0,I.directiveStart,I.directiveEnd,c),pN(c,_)),_}(Mt,this.componentDef,Oe,[AN]),Mh(le,Oe,null)}finally{Xo()}return new Hv(this.componentType,Je,pp(ct,Oe),Oe,ct)}}class Hv extends class VO{}{constructor(c,d,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new mP(g),this.componentType=c}setInput(c,d){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[c])){const _=this._rootLView;$v(_[1],_,g,c,d),GE(_,this._tNode.index)}}get injector(){return new bc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function AN(){const a=wr();_l(je()[1],a)}function ew(a){let c=function zv(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;c;){let g;if(ps(a))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);g=c.\u0275dir}if(g){if(d){f.push(g);const I=a;I.inputs=nw(a.inputs),I.declaredInputs=nw(a.declaredInputs),I.outputs=nw(a.outputs);const E=g.hostBindings;E&&iw(a,E);const A=g.viewQuery,P=g.contentQueries;if(A&&rw(a,A),P&&SN(a,P),ye(a.inputs,g.inputs),ye(a.declaredInputs,g.declaredInputs),ye(a.outputs,g.outputs),ps(g)&&g.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let I=0;I<_.length;I++){const E=_[I];E&&E.ngInherit&&E(a),E===ew&&(d=!1)}}c=Object.getPrototypeOf(c)}!function tw(a){let c=0,d=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=c+=g.hostVars,g.hostAttrs=Cc(g.hostAttrs,d=Cc(d,g.hostAttrs))}}(f)}function nw(a){return a===gr?{}:a===Bt?[]:a}function rw(a,c){const d=a.viewQuery;a.viewQuery=d?(f,g)=>{c(f,g),d(f,g)}:c}function SN(a,c){const d=a.contentQueries;a.contentQueries=d?(f,g,_)=>{c(f,g,_),d(f,g,_)}:c}function iw(a,c){const d=a.hostBindings;a.hostBindings=d?(f,g)=>{c(f,g),d(f,g)}:c}let fa=null;function Gl(){if(!fa){const a=gn.Symbol;if(a&&a.iterator)fa=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const f=c[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(fa=f)}}}return fa}function Hl(a){return!!aw(a)&&(Array.isArray(a)||!(a instanceof Map)&&Gl()in a)}function aw(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function bs(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function lw(a,c,d,f){const g=je();return bs(g,Oa(),c)&&(fn(),ha(Yn(),g,a,c,d,f)),lw}function Vc(a,c,d,f){return bs(a,Oa(),d)?c+Pe(d)+f:sn}function t_(a,c,d,f,g,_){const E=function Lh(a,c,d,f){const g=bs(a,c,d);return bs(a,c+1,f)||g}(a,function Si(){return Wt.lFrame.bindingIndex}(),d,g);return ts(2),E?c+Pe(d)+f+Pe(g)+_:sn}function Zv(a,c,d,f,g,_,I,E){const A=je(),P=fn(),O=a+22,H=P.firstCreatePass?function X9(a,c,d,f,g,_,I,E,A){const P=c.consts,O=Cp(c,a,4,I||null,gs(P,E));Vv(c,d,O,gs(P,A)),_l(c,O);const H=O.tViews=Zm(2,O,f,g,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,P);return null!==c.queries&&(c.queries.template(c,O),H.queries=c.queries.embeddedTView(O)),O}(O,P,A,c,d,f,g,_,I):P.data[O];ms(H,!1);const te=A[11].createComment("");Oc(P,A,te,H),Ct(te,A),Qm(A,A[O]=WE(te,A,te,H)),sl(H)&&UE(P,A,H),null!=I&&BE(A,H,E)}function dw(a){return function Bs(a,c){return a[c]}(function lr(){return Wt.lFrame.contextLView}(),22+a)}function Qv(a,c,d){const f=je();return bs(f,Oa(),c)&&Gi(fn(),Yn(),f,a,c,f[11],d,!1),Qv}function EP(a,c,d,f,g){const I=g?"class":"style";$v(a,d,c.inputs[I],I,f)}function Pp(a,c,d,f){const g=je(),_=fn(),I=22+a,E=g[11],A=g[I]=me(E,c,function Bf(){return Wt.lFrame.currentNamespace}()),P=_.firstCreatePass?function hw(a,c,d,f,g,_,I){const E=c.consts,P=Cp(c,a,2,g,gs(E,_));return Vv(c,d,P,gs(E,I)),null!==P.attrs&&Jm(P,P.attrs,!1),null!==P.mergedAttrs&&Jm(P,P.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,P),P}(I,_,g,0,c,d,f):_.data[I];ms(P,!0);const O=P.mergedAttrs;null!==O&&eh(E,A,O);const H=P.classes;null!==H&&JC(E,A,H);const te=P.styles;return null!==te&&eD(E,A,te),64!=(64&P.flags)&&Oc(_,g,A,P),0===function qd(){return Wt.lFrame.elementDepthCount}()&&Ct(A,g),function kf(){Wt.lFrame.elementDepthCount++}(),sl(P)&&(UE(_,g,P),function Lv(a,c,d){if(il(c)){const g=c.directiveEnd;for(let _=c.directiveStart;_<g;_++){const I=a.data[_];I.contentQueries&&I.contentQueries(1,d[_],_)}}}(_,P,g)),null!==f&&BE(g,P),Pp}function xp(){let a=wr();dl()?function mu(){Wt.lFrame.isParent=!1}():(a=a.parent,ms(a,!1));const c=a;!function om(){Wt.lFrame.elementDepthCount--}();const d=fn();return d.firstCreatePass&&(_l(d,a),il(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function Gf(a){return 0!=(16&a.flags)}(c)&&EP(d,c,je(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function lm(a){return 0!=(32&a.flags)}(c)&&EP(d,c,je(),c.stylesWithoutHost,!1),xp}function Mp(a,c,d,f){return Pp(a,c,d,f),xp(),Mp}function Jv(){return je()}function s_(a){return!!a&&"function"==typeof a.then}function Xv(a){return!!a&&"function"==typeof a.subscribe}const wP=Xv;function o_(a,c,d,f){const g=je(),_=fn(),I=wr();return function bP(a,c,d,f,g,_,I,E){const A=sl(f),O=a.firstCreatePass&&fP(a),H=c[8],te=jv(c);let le=!0;if(3&f.type||E){const ct=Ji(f,c),Mt=E?E(ct):ct,Kt=te.length,He=E?_t=>E(Wn(_t[f.index])):f.index;let Yt=null;if(!E&&A&&(Yt=function gw(a,c,d,f){const g=a.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const I=g[_];if(I===d&&g[_+1]===f){const E=c[7],A=g[_+2];return E.length>A?E[A]:null}"string"==typeof I&&(_+=2)}return null}(a,c,g,f.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=_,Yt.__ngLastListenerFn__=_,le=!1;else{_=RN(f,c,H,_,!1);const _t=d.listen(Mt,g,_);te.push(_,_t),O&&O.push(g,He,Kt,Kt+1)}}else _=RN(f,c,H,_,!1);const Oe=f.outputs;let Je;if(le&&null!==Oe&&(Je=Oe[g])){const ct=Je.length;if(ct)for(let Mt=0;Mt<ct;Mt+=2){const tr=c[Je[Mt]][Je[Mt+1]].subscribe(_),cd=te.length;te.push(_,tr),O&&O.push(g,f.index,cd,-(cd+1))}}}(_,g,g[11],I,a,c,0,f),o_}function e0(a,c,d,f){try{return!1!==d(f)}catch(g){return gP(a,g),!1}}function RN(a,c,d,f,g){return function _(I){if(I===Function)return f;Bv(2&a.flags?_i(a.index,c):c);let A=e0(c,0,f,I),P=_.__ngNextListenerFn__;for(;P;)A=e0(c,0,P,I)&&A,P=P.__ngNextListenerFn__;return g&&!1===A&&(I.preventDefault(),I.returnValue=!1),A}}function t0(a=1){return function Vf(a){return(Wt.lFrame.contextLView=function ov(a,c){for(;a>0;)c=c[15],a--;return c}(a,Wt.lFrame.contextLView))[8]}(a)}function Rp(a,c,d){return a_(a,"",c,"",d),Rp}function a_(a,c,d,f,g){const _=je(),I=Vc(_,c,d,f);return I!==sn&&Gi(fn(),Yn(),_,a,I,_[11],g,!1),a_}function LN(a,c,d,f,g){const _=a[d+1],I=null===c;let E=f?Nc(_):ti(_),A=!1;for(;0!==E&&(!1===A||I);){const O=a[E+1];Iw(a[E],c)&&(A=!0,a[E+1]=f?Yu(O):vp(O)),E=f?Nc(O):ti(O)}A&&(a[d+1]=f?vp(_):Yu(_))}function Iw(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Ba(a,c)>=0}function l_(a,c,d){return Vo(a,c,d,!1),l_}function PP(a,c){return Vo(a,c,null,!0),PP}function Vo(a,c,d,f){const g=je(),_=fn(),I=ts(2);_.firstUpdatePass&&function UN(a,c,d,f){const g=a.data;if(null===g[d+1]){const _=g[xn()],I=function u0(a,c){return c>=a.expandoStartIndex}(a,d);(function zN(a,c){return 0!=(a.flags&(c?16:32))})(_,f)&&null===c&&!I&&(c=!1),c=function BN(a,c,d,f){const g=function Kd(a){const c=Wt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let _=f?c.residualClasses:c.residualStyles;if(null===g)0===(f?c.classBindings:c.styleBindings)&&(d=d0(d=xP(null,a,c,d,f),c.attrs,f),_=null);else{const I=c.directiveStylingLast;if(-1===I||a[I]!==g)if(d=xP(g,a,c,d,f),null===_){let A=function jN(a,c,d){const f=d?c.classBindings:c.styleBindings;if(0!==ti(f))return a[Nc(f)]}(a,c,f);void 0!==A&&Array.isArray(A)&&(A=xP(null,a,c,A[1],f),A=d0(A,c.attrs,f),function $N(a,c,d,f){a[Nc(d?c.classBindings:c.styleBindings)]=f}(a,c,f,A))}else _=function GN(a,c,d){let f;const g=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<g;_++)f=d0(f,a[_].hostAttrs,d);return d0(f,c.attrs,d)}(a,c,f)}return void 0!==_&&(f?c.residualClasses=_:c.residualStyles=_),d}(g,_,c,f),function ej(a,c,d,f,g,_){let I=_?c.classBindings:c.styleBindings,E=Nc(I),A=ti(I);a[f]=d;let O,P=!1;if(Array.isArray(d)){const H=d;O=H[1],(null===O||Ba(H,O)>0)&&(P=!0)}else O=d;if(g)if(0!==A){const te=Nc(a[E+1]);a[f+1]=Um(te,E),0!==te&&(a[te+1]=da(a[te+1],f)),a[E+1]=function sN(a,c){return 131071&a|c<<17}(a[E+1],f)}else a[f+1]=Um(E,0),0!==E&&(a[E+1]=da(a[E+1],f)),E=f;else a[f+1]=Um(A,0),0===E?E=f:a[A+1]=da(a[A+1],f),A=f;P&&(a[f+1]=vp(a[f+1])),LN(a,O,f,!0),LN(a,O,f,!1),function vw(a,c,d,f,g){const _=g?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof c&&Ba(_,c)>=0&&(d[f+1]=Yu(d[f+1]))}(c,O,a,f,_),I=Um(E,A),_?c.classBindings=I:c.styleBindings=I}(g,_,c,d,I,f)}}(_,a,I,f),c!==sn&&bs(g,I,c)&&function MP(a,c,d,f,g,_,I,E){if(!(3&c.type))return;const A=a.data,P=A[E+1];bw(function xE(a){return 1==(1&a)}(P)?RP(A,c,d,g,ti(P),I):void 0)||(bw(_)||function Bm(a){return 2==(2&a)}(P)&&(_=RP(A,null,d,g,E,I)),function fO(a,c,d,f,g){if(c)g?a.addClass(d,f):a.removeClass(d,f);else{let _=-1===f.indexOf("-")?void 0:Ks.DashCase;null==g?a.removeStyle(d,f,_):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),_|=Ks.Important),a.setStyle(d,f,g,_))}}(f,I,ka(xn(),d),g,_))}(_,_.data[xn()],g,g[11],a,g[I+1]=function cj(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=ve(ua(a)))),a}(c,d),f,I)}function xP(a,c,d,f,g){let _=null;const I=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<I&&(_=c[E],f=d0(f,_.hostAttrs,g),_!==a);)E++;return null!==a&&(d.directiveStylingLast=E),f}function d0(a,c,d){const f=d?1:2;let g=-1;if(null!==c)for(let _=0;_<c.length;_++){const I=c[_];"number"==typeof I?g=I:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),rs(a,I,!!d||c[++_]))}return void 0===a?null:a}function RP(a,c,d,f,g,_){const I=null===c;let E;for(;g>0;){const A=a[g],P=Array.isArray(A),O=P?A[1]:A,H=null===O;let te=d[g+1];te===sn&&(te=H?Bt:void 0);let le=H?ku(te,f):O===f?te:void 0;if(P&&!bw(le)&&(le=ku(A,f)),bw(le)&&(E=le,I))return E;const Oe=a[g+1];g=I?Nc(Oe):ti(Oe)}if(null!==c){let A=_?c.residualClasses:c.residualStyles;null!=A&&(E=ku(A,f))}return E}function bw(a){return void 0!==a}function qN(a,c=""){const d=je(),f=fn(),g=a+22,_=f.firstCreatePass?Cp(f,g,1,c,null):f.data[g],I=d[g]=function R(a,c){return a.createText(c)}(d[11],c);Oc(f,d,I,_),ms(_,!1)}function kP(a){return kp("",a,""),kP}function kp(a,c,d){const f=je(),g=Vc(f,a,c,d);return g!==sn&&$l(f,xn(),g),kp}function ql(a,c,d,f,g){const _=je(),I=t_(_,a,c,d,f,g);return I!==sn&&$l(_,xn(),I),ql}const Vh=void 0;var HP=["en",[["a","p"],["AM","PM"],Vh],[["AM","PM"],Vh,Vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vh,"{1} 'at' {0}",Vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mw(a){const d=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Xu={};function h_(a){const c=function i2(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=qP(c);if(d)return d;const f=c.split("-")[0];if(d=qP(f),d)return d;if("en"===f)return HP;throw new xe(701,!1)}function zP(a){return h_(a)[Qt.PluralCase]}function qP(a){return a in Xu||(Xu[a]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[a]),Xu[a]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const Np="en-US";let _0=Np;function Yw(a,c,d,f,g){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)Yw(a[_],c,d,f,g);else{const _=fn(),I=je();let E=Ll(a)?a:ie(a.provide),A=Rm(a);const P=wr(),O=1048575&P.providerIndexes,H=P.directiveStart,te=P.providerIndexes>>20;if(Ll(a)||!a.multi){const le=new vc(A,g,Dh),Oe=Xw(E,c,g?O:O+te,H);-1===Oe?(na(Ec(P,I),_,E),Jw(_,a,c.length),c.push(E),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),d.push(le),I.push(le)):(d[Oe]=le,I[Oe]=le)}else{const le=Xw(E,c,O+te,H),Oe=Xw(E,c,O,O+te),Je=le>=0&&d[le],ct=Oe>=0&&d[Oe];if(g&&!ct||!g&&!Je){na(Ec(P,I),_,E);const Mt=function D2(a,c,d,f,g){const _=new vc(a,d,Dh);return _.multi=[],_.index=c,_.componentProviders=0,dx(_,g,f&&!d),_}(g?S2:eT,d.length,g,f,A);!g&&ct&&(d[Oe].providerFactory=Mt),Jw(_,a,c.length,0),c.push(E),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),d.push(Mt),I.push(Mt)}else Jw(_,a,le>-1?le:Oe,dx(d[g?Oe:le],A,!g&&f));!g&&f&&ct&&d[Oe].componentProviders++}}}function Jw(a,c,d,f){const g=Ll(c),_=function _D(a){return!!a.useClass}(c);if(g||_){const A=(_?ie(c.useClass):c).prototype.ngOnDestroy;if(A){const P=a.destroyHooks||(a.destroyHooks=[]);if(!g&&c.multi){const O=P.indexOf(d);-1===O?P.push(d,[f,A]):P[O+1].push(f,A)}else P.push(d,A)}}}function dx(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function Xw(a,c,d,f){for(let g=d;g<f;g++)if(c[g]===a)return g;return-1}function eT(a,c,d,f){return tT(this.multi,[])}function S2(a,c,d,f){const g=this.multi;let _;if(this.providerFactory){const I=this.providerFactory.componentProviders,E=ra(d,d[1],this.providerFactory.index,f);_=E.slice(0,I),tT(g,_);for(let A=I;A<E.length;A++)_.push(E[A])}else _=[],tT(g,_);return _}function tT(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function hx(a,c=[]){return d=>{d.providersResolver=(f,g)=>function A2(a,c,d){const f=fn();if(f.firstCreatePass){const g=ps(a);Yw(d,f.data,f.blueprint,g,!0),Yw(c,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,c)}}class Vp{}class nT{}function P2(a,c){return new fx(a,c??null)}class fx extends Vp{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xm(this);const f=st(c);this._bootstrapComponents=Fl(f.bootstrap),this._r3Injector=BD(c,d,[{provide:Vp,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],ve(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class rT extends nT{constructor(c){super(),this.moduleType=c}create(c){return new fx(this.moduleType,c)}}class x2 extends Vp{constructor(c,d,f){super(),this.componentFactoryResolver=new Xm(this),this.instance=null;const g=new Mm([...c,{provide:Vp,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],d||bv(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function b0(a,c,d=null){return new x2(a,c,d).injector}let iT=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=pD(0,d.type),g=f.length>0?b0([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,g)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Ue({token:a,providedIn:"environment",factory:()=>new a(Hr(Ah))}),a})();function px(a){a.getStandaloneInjector=c=>c.get(iT).getOrCreateStandaloneInjector(a)}function ga(a){return c=>{setTimeout(a,void 0,c)}}const ma=class S0 extends u.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,f){let g=c,_=d||(()=>null),I=f;if(c&&"object"==typeof c){const A=c;g=A.next?.bind(A),_=A.error?.bind(A),I=A.complete?.bind(A)}this.__isAsync&&(_=ga(_),g&&(g=ga(g)),I&&(I=ga(I)));const E=super.subscribe({next:g,error:_,complete:I});return c instanceof W.w0&&c.add(E),E}};function B2(){return this._results[Gl()]()}class uT{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Gl(),f=uT.prototype;f[d]||(f[d]=B2)}get changes(){return this._changes||(this._changes=new ma)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const f=this;f.dirty=!1;const g=li(c);(this._changesDetected=!function Mu(a,c,d){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],_=c[f];if(d&&(g=d(g),_=d(_)),_!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Uc=(()=>{class a{}return a.__NG_ELEMENT_ID__=bx,a})();const Tx=Uc,dT=class extends Tx{constructor(c,d,f){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(c,d){const f=this._declarationTContainer.tViews,g=Ip(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,d||null);g[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(g[19]=I.createEmbeddedView(f)),Mh(f,g,c),new Tp(g)}};function bx(){return D0(wr(),je())}function D0(a,c){return 4&a.type?new dT(c,a,pp(a,c)):null}let I_=(()=>{class a{}return a.__NG_ELEMENT_ID__=hT,a})();function hT(){return pT(wr(),je())}const fT=I_,P0=class extends fT{constructor(c,d,f){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=f}get element(){return pp(this._hostTNode,this._hostLView)}get injector(){return new bc(this._hostTNode,this._hostLView)}get parentInjector(){const c=Cl(this._hostTNode,this._hostLView);if(th(c)){const d=fo(c,this._hostLView),f=yl(c);return new bc(d[1].data[f+8],d)}return new bc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=x0(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,f){let g,_;"number"==typeof f?g=f:null!=f&&(g=f.index,_=f.injector);const I=c.createEmbeddedView(d||{},_);return this.insert(I,g),I}createComponent(c,d,f,g,_){const I=c&&!function ys(a){return"function"==typeof a}(c);let E;if(I)E=d;else{const H=d||{};E=H.index,f=H.injector,g=H.projectableNodes,_=H.environmentInjector||H.ngModuleRef}const A=I?c:new Oh(U(c)),P=f||this.parentInjector;if(!_&&null==A.ngModule){const te=(I?P:this.parentInjector).get(Ah,null);te&&(_=te)}const O=A.create(P,g,void 0,_);return this.insert(O.hostView,E),O}insert(c,d){const f=c._lView,g=f[1];if(function ll(a){return Ai(a[3])}(f)){const O=this.indexOf(c);if(-1!==O)this.detach(O);else{const H=f[3],te=new P0(H,H[6],H[3]);te.detach(te.indexOf(c))}}const _=this._adjustIndex(d),I=this._lContainer;!function ws(a,c,d,f){const g=10+f,_=d.length;f>0&&(d[g-1][4]=c),f<_-10?(c[4]=d[g],ah(d,10+f,c)):(d.push(c),c[4]=null),c[3]=d;const I=c[17];null!==I&&d!==I&&function Mc(a,c){const d=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===d?a[9]=[c]:d.push(c)}(I,c);const E=c[19];null!==E&&E.insertView(a),c[2]|=64}(g,f,I,_);const E=KC(_,I),A=f[11],P=yv(A,I[7]);return null!==P&&function ft(a,c,d,f,g,_){f[0]=g,f[6]=c,Em(a,f,d,1,g,_)}(g,I[6],A,f,P,E),c.attachToViewContainerRef(),ah(C_(I),_,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=x0(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),f=Rc(this._lContainer,d);f&&(Sl(C_(this._lContainer),d),qa(f[1],f))}detach(c){const d=this._adjustIndex(c,-1),f=Rc(this._lContainer,d);return f&&null!=Sl(C_(this._lContainer),d)?new Tp(f):null}_adjustIndex(c,d=0){return c??this.length+d}};function x0(a){return a[8]}function C_(a){return a[8]||(a[8]=[])}function pT(a,c){let d;const f=c[a.index];if(Ai(f))d=f;else{let g;if(8&a.type)g=Wn(f);else{const _=c[11];g=_.createComment("");const I=Ji(a,c);Wa(_,yv(_,I),g,function zC(a,c){return a.nextSibling(c)}(_,I),!1)}c[a.index]=d=WE(f,c,g,a),Qm(c,d)}return new P0(d,a,c)}class zh{constructor(c){this.queryList=c,this.matches=null}clone(){return new zh(this.queryList)}setDirty(){this.queryList.setDirty()}}class gT{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const f=null!==c.contentQueries?c.contentQueries[0]:d.length,g=[];for(let _=0;_<f;_++){const I=d.getByIndex(_);g.push(this.queries[I.indexInDeclarationView].clone())}return new gT(g)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==O0(c,d).matches&&this.queries[d].setDirty()}}class Ax{constructor(c,d,f=null){this.predicate=c,this.flags=d,this.read=f}}class Up{constructor(c=[]){this.queries=c}elementStart(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,_=this.getByIndex(f).embeddedTView(c,g);_&&(_.indexInDeclarationView=f,null!==d?d.push(_):d=[_])}return null!==d?new Up(d):null}template(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class w_{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new w_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(c,d,$2(d,_)),this.matchTNodeWithReadOption(c,d,Tc(d,c,_,!1,!1))}else f===Uc?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Tc(d,c,f,!1,!1))}matchTNodeWithReadOption(c,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Nm||g===I_||g===Uc&&4&d.type)this.addMatch(d.index,-2);else{const _=Tc(d,c,g,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,f)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function $2(a,c){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===c)return d[f+1];return null}function Dx(a,c,d,f){return-1===d?function Sx(a,c){return 11&a.type?pp(a,c):4&a.type?D0(a,c):null}(c,a):-2===d?function Px(a,c,d){return d===Nm?pp(c,a):d===Uc?D0(c,a):d===I_?pT(c,a):void 0}(a,c,f):ra(a,a[1],d,c)}function T_(a,c,d,f){const g=c[19].queries[f];if(null===g.matches){const _=a.data,I=d.matches,E=[];for(let A=0;A<I.length;A+=2){const P=I[A];E.push(P<0?null:Dx(c,_[P],I[A+1],d.metadata.read))}g.matches=E}return g.matches}function b_(a,c,d,f){const g=a.queries.getByIndex(d),_=g.matches;if(null!==_){const I=T_(a,c,g,d);for(let E=0;E<_.length;E+=2){const A=_[E];if(A>0)f.push(I[E/2]);else{const P=_[E+1],O=c[-A];for(let H=10;H<O.length;H++){const te=O[H];te[17]===te[3]&&b_(te[1],te,P,f)}if(null!==O[9]){const H=O[9];for(let te=0;te<H.length;te++){const le=H[te];b_(le[1],le,P,f)}}}}}return f}function M0(a){const c=je(),d=fn(),f=yc();Bi(f+1);const g=O0(d,f);if(a.dirty&&function Hd(a){return 4==(4&a[2])}(c)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const _=g.crossesNgTemplate?b_(d,c,f,[]):T_(d,c,g,f);a.reset(_,ED),a.notifyOnChanges()}return!0}return!1}function R0(a,c,d){const f=fn();f.firstCreatePass&&(_T(f,new Ax(a,c,d),-1),2==(2&c)&&(f.staticViewQueries=!0)),Mx(f,je(),c)}function k0(a,c,d,f){const g=fn();if(g.firstCreatePass){const _=wr();_T(g,new Ax(c,d,f),_.index),function Rx(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(g,a),2==(2&d)&&(g.staticContentQueries=!0)}Mx(g,je(),d)}function mT(){return function xx(a,c){return a[19].queries[c].queryList}(je(),yc())}function Mx(a,c,d){const f=new uT(4==(4&d));jE(a,c,f,f.destroy),null===c[19]&&(c[19]=new gT),c[19].queries.push(new zh(f))}function _T(a,c,d){null===a.queries&&(a.queries=new Up),a.queries.track(new w_(c,d))}function O0(a,c){return a.queries.getByIndex(c)}function yT(a,c){return D0(a,c)}function R_(...a){}const RT=new Fn("Application Initializer");let H0=(()=>{class a{constructor(d){this.appInits=d,this.resolve=R_,this.reject=R_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(s_(_))d.push(_);else if(wP(_)){const I=new Promise((E,A)=>{_.subscribe({complete:E,error:A})});d.push(I)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(Hr(RT,8))},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Gp=new Fn("AppId",{providedIn:"root",factory:function kT(){return`${Wh()}${Wh()}${Wh()}`}});function Wh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rd=new Fn("Platform Initializer"),NT=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zx=new Fn("appBootstrapListener"),qx=new Fn("AnimationModuleType");let Wx=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const jc=new Fn("LocaleId",{providedIn:"root",factory:()=>jt(jc,pt.Optional|pt.SkipSelf)||function Y2(){return typeof $localize<"u"&&$localize.locale||Np}()}),Zl=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ar{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let z0=(()=>{class a{compileModuleSync(d){return new rT(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),_=Fl(st(d).declarations).reduce((I,E)=>{const A=U(E);return A&&I.push(new Oh(A)),I},[]);return new Ar(f,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const eL=(()=>Promise.resolve(0))();function Zh(a){typeof Zone>"u"?eL.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Uo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function id(){let a=gn.requestAnimationFrame,c=gn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function tL(a){const c=()=>{!function Hp(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(gn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,UT(a),a.isCheckStableRunning=!0,W0(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),UT(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,_,I,E)=>{try{return BT(a),d.invokeTask(g,_,I,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&c(),Qx(a)}},onInvoke:(d,f,g,_,I,E,A)=>{try{return BT(a),d.invoke(g,_,I,E,A)}finally{a.shouldCoalesceRunChangeDetection&&c(),Qx(a)}},onHasTask:(d,f,g,_)=>{d.hasTask(g,_),f===g&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,UT(a),W0(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,f,g,_)=>(d.handleError(g,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new xe(909,!1)}run(c,d,f){return this._inner.run(c,d,f)}runTask(c,d,f,g){const _=this._inner,I=_.scheduleEventTask("NgZoneEvent: "+g,c,Kx,R_,R_);try{return _.runTask(I,d,f)}finally{_.cancelTask(I)}}runGuarded(c,d,f){return this._inner.runGuarded(c,d,f)}runOutsideAngular(c){return this._outer.run(c)}}const Kx={};function W0(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function UT(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function BT(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Qx(a){a._nesting--,W0(a)}class Yx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(c,d,f){return c.apply(d,f)}runGuarded(c,d,f){return c.apply(d,f)}runOutsideAngular(c){return c()}runTask(c,d,f,g){return c.apply(d,f)}}const jT=new Fn(""),Z0=new Fn("");let HT,$T=(()=>{class a{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,HT||(function Jx(a){HT=a}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),Zh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zh(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==_),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return a.\u0275fac=function(d){return new(d||a)(Hr(Uo),Hr(GT),Hr(Z0))},a.\u0275prov=Ue({token:a,factory:a.\u0275fac}),a})(),GT=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return HT?.findTestabilityInTree(this,d,f)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),sd=null;const Xx=new Fn("AllowMultipleToken"),zT=new Fn("PlatformDestroyListeners");class e1{constructor(c,d){this.name=c,this.token=d}}function ZT(a,c,d=[]){const f=`Platform: ${c}`,g=new Fn(f);return(_=[])=>{let I=K0();if(!I||I.injector.get(Xx,!1)){const E=[...d,..._,{provide:g,useValue:!0}];a?a(E):function N_(a){if(sd&&!sd.get(Xx,!1))throw new xe(400,!1);sd=a;const c=a.get(KT);(function t1(a){const c=a.get(rd,null);c&&c.forEach(d=>d())})(a)}(function n1(a=[],c){return Qu.create({name:c,providers:[{provide:xm,useValue:"platform"},{provide:zT,useValue:new Set([()=>sd=null])},...a]})}(E,f))}return function nL(a){const c=K0();if(!c)throw new xe(401,!1);return c}()}}function K0(){return sd?.get(KT)??null}let KT=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function F_(a,c){let d;return d="noop"===a?new Yx:("zone.js"===a?void 0:a)||new Uo(c),d}(f?.ngZone,function QT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:Uo,useValue:g}];return g.run(()=>{const I=Qu.create({providers:_,parent:this.injector,name:d.moduleType.name}),E=d.create(I),A=E.injector.get(Lm,null);if(!A)throw new xe(402,!1);return g.runOutsideAngular(()=>{const P=g.onError.subscribe({next:O=>{A.handleError(O)}});E.onDestroy(()=>{Q0(this._modules,E),P.unsubscribe()})}),function YT(a,c,d){try{const f=d();return s_(f)?f.catch(g=>{throw c.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw c.runOutsideAngular(()=>a.handleError(f)),f}}(A,g,()=>{const P=E.injector.get(H0);return P.runInitializers(),P.donePromise.then(()=>(function WP(a){ae(a,"Expected localeId to be defined"),"string"==typeof a&&(_0=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(jc,Np)||Np),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,f=[]){const g=nc({},f);return function O_(a,c,d){const f=new rT(d);return Promise.resolve(f)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(d){const f=d.injector.get(V_);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new xe(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(zT,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(Hr(Qu))},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function nc(a,c){return Array.isArray(c)?c.reduce(nc,a):{...a,...c}}let V_=(()=>{class a{constructor(d,f,g){this._zone=d,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),I=new F.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),Zh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,oe.T)(_,I.pipe((0,he.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const g=d instanceof ID;if(!this._injector.get(H0).done)throw!g&&ke(d),new xe(405,false);let I;I=g?d:this._injector.get(Om).resolveComponentFactory(d),this.componentTypes.push(I.componentType);const E=function WT(a){return a.isBoundToModule}(I)?void 0:this._injector.get(Vp),P=I.create(Qu.NULL,[],f||I.selector,E),O=P.location.nativeElement,H=P.injector.get(jT,null);return H?.registerApplication(O),P.onDestroy(()=>{this.detachView(P.hostView),Q0(this.components,P),H?.unregisterApplication(O)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Q0(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(zx,[]).concat(this._bootstrapListeners).forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Q0(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(Hr(Uo),Hr(Ah),Hr(Lm))},a.\u0275prov=Ue({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Q0(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}let zp=!0,eb=!1;function tb(){return eb=!0,zp}function Y0(){if(eb)throw new Error("Cannot enable prod mode after platform setup.");zp=!1}let i1=(()=>{class a{}return a.__NG_ELEMENT_ID__=U_,a})();function U_(a){return function s1(a,c,d){if(xo(a)&&!d){const f=_i(a.index,c);return new Tp(f,f)}return 47&a.type?new Tp(c[16],c):null}(wr(),je(),16==(16&a))}class eI{constructor(){}supports(c){return Hl(c)}create(c){return new h1(c)}}const Gc=(a,c)=>c;class h1{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Gc}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,f=this._removalsHead,g=0,_=null;for(;d||f;){const I=!f||d&&d.currentIndex<ab(f,g,_)?d:f,E=ab(I,g,_),A=I.currentIndex;if(I===f)g--,f=f._nextRemoved;else if(d=d._next,null==I.previousIndex)g++;else{_||(_=[]);const P=E-g,O=A-g;if(P!=O){for(let te=0;te<P;te++){const le=te<_.length?_[te]:_[te]=0,Oe=le+te;O<=Oe&&Oe<P&&(_[te]=le+1)}_[I.previousIndex]=O-P}}E!==A&&c(I,E,A)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Hl(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g,_,I,d=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)_=c[E],I=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,_,I,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,I,E),f=!0),d=d._next}else g=0,function ow(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Gl()]();let f;for(;!(f=d.next()).done;)c(f.value)}}(c,E=>{I=this._trackByFn(g,E),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,E,I,g)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,I,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,f,g){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,g)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,g)):c=this._addAfter(new ob(d,f),_,g),c}_verifyReinsertion(c,d,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?c=this._reinsertAfter(_,c._prev,g):c.currentIndex!=g&&(c.currentIndex=g,this._addToMoves(c,g)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const g=c._prevRemoved,_=c._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(c,d,f),this._addToMoves(c,f),c}_moveAfter(c,d,f){return this._unlink(c),this._insertAfter(c,d,f),this._addToMoves(c,f),c}_addAfter(c,d,f){return this._insertAfter(c,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,f){const g=null===d?this._itHead:d._next;return c._next=g,c._prev=d,null===g?this._itTail=c:g._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new tI),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,f=c._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tI),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class ob{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wp{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const d=c._prevDup,f=c._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class tI{constructor(){this.map=new Map}put(c){const d=c.trackById;let f=this.map.get(d);f||(f=new Wp,this.map.set(d,f)),f.add(c)}get(c,d){const g=this.map.get(c);return g?g.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ab(a,c,d){const f=a.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+c+g}class Hc{constructor(){}supports(c){return c instanceof Map||aw(c)}create(){return new ya}}class ya{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||aw(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const f=c._prev;return d._next=c,d._prev=f,c._prev=d,f&&(f._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const g=this._records.get(c);this._maybeAddToChanges(g,d);const _=g._prev,I=g._next;return _&&(_._next=I),I&&(I._prev=_),g._next=null,g._prev=null,g}const f=new as(c);return this._records.set(c,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(f=>d(c[f],f))}}class as{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j_(){return new Zp([new eI])}let Zp=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||j_()),deps:[[a,new $a,new po]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new xe(901,!1)}}return a.\u0275prov=Ue({token:a,providedIn:"root",factory:j_}),a})();function $_(){return new rI([new Hc])}let rI=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||$_()),deps:[[a,new $a,new po]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new xe(901,!1)}}return a.\u0275prov=Ue({token:a,providedIn:"root",factory:$_}),a})();const aL=ZT(null,"core",[]);let cL=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(Hr(V_))},a.\u0275mod=St({type:a}),a.\u0275inj=Ot({}),a})();function p1(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},6101:(Rt,Fe,$)=>{$.d(Fe,{Z:()=>xe});var u=$(2090),W=$(4859),F=$(9752);$(1877);class he{constructor(Pe,_e){this._delegate=Pe,this.firebase=_e,(0,F._addComponent)(Pe,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Pe,_e=F._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(Pe);return!bt.isInitialized()&&"EXPLICIT"===(null===(wt=bt.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:_e})}_removeServiceInstance(Pe,_e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(_e)}_addComponent(Pe){(0,F._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,F._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function Ae(){const dt=function ve(dt){const Pe={},_e={__esModule:!0,initializeApp:function $e(Qe,X={}){const Se=F.initializeApp(Qe,X);if((0,u.r3)(Pe,Se.name))return Pe[Se.name];const Xe=new dt(Se,_e);return Pe[Se.name]=Xe,Xe},app:bt,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Qe){const X=Qe.name,Se=X.replace("-compat","");if(F._registerComponent(Qe)&&"PUBLIC"===Qe.type){const Xe=(nt=bt())=>{if("function"!=typeof nt[Se])throw ye.create("invalid-app-argument",{appName:X});return nt[Se]()};void 0!==Qe.serviceProps&&(0,u.ZB)(Xe,Qe.serviceProps),_e[Se]=Xe,dt.prototype[Se]=function(...nt){return this._getService.bind(this,X).apply(this,Qe.multipleInstances?nt:[])}}return"PUBLIC"===Qe.type?_e[Se]:null},removeApp:function wt(Qe){delete Pe[Qe]},useAsService:function qe(Qe,X){return"serverAuth"===X?null:X},modularAPIs:F}};function bt(Qe){if(!(0,u.r3)(Pe,Qe=Qe||F._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Qe});return Pe[Qe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Me(){return Object.keys(Pe).map(Qe=>Pe[Qe])}}),bt.App=dt,_e}(he);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Pe(_e){(0,u.ZB)(dt,_e)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),dt}const Q=Ae();(0,u.jU)()&&void 0!==self.firebase&&self;const xe=Q},9752:(Rt,Fe,$)=>{$.r(Fe),$.d(Fe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>Ue,_apps:()=>be,_clearComponents:()=>Ut,_components:()=>pe,_getProvider:()=>Ot,_registerComponent:()=>ht,_removeServiceInstance:()=>cn,deleteApp:()=>Ui,getApp:()=>nr,getApps:()=>Ir,initializeApp:()=>Nn,onLog:()=>pr,registerVersion:()=>Kn,setLogLevel:()=>ar});var u=$(5861),W=$(4859),F=$(1877),oe=$(2090);$(8766);const Q=new F.Yd("@firebase/app"),ae="[DEFAULT]",ce={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},be=new Map,pe=new Map;function Ve(Ce,J){try{Ce.container.addComponent(J)}catch(De){Q.debug(`Component ${J.name} failed to register with FirebaseApp ${Ce.name}`,De)}}function Ue(Ce,J){Ce.container.addOrOverwriteComponent(J)}function ht(Ce){const J=Ce.name;if(pe.has(J))return Q.debug(`There were multiple attempts to register component ${J}.`),!1;pe.set(J,Ce);for(const De of be.values())Ve(De,Ce);return!0}function Ot(Ce,J){const De=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Ce.container.getProvider(J)}function cn(Ce,J,De=ae){Ot(Ce,J).clearInstance(De)}function Ut(){pe.clear()}const rn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tn{constructor(J,De,We){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const or="9.23.0";function Nn(Ce,J={}){let De=Ce;"object"!=typeof J&&(J={name:J});const We=Object.assign({name:ae,automaticDataCollectionEnabled:!1},J),It=We.name;if("string"!=typeof It||!It)throw rn.create("bad-app-name",{appName:String(It)});if(De||(De=(0,oe.aH)()),!De)throw rn.create("no-options");const St=be.get(It);if(St){if((0,oe.vZ)(De,St.options)&&(0,oe.vZ)(We,St.config))return St;throw rn.create("duplicate-app",{appName:It})}const En=new W.H0(It);for(const Z of pe.values())En.addComponent(Z);const K=new Tn(De,We,En);return be.set(It,K),K}function nr(Ce=ae){const J=be.get(Ce);if(!J&&Ce===ae&&(0,oe.aH)())return Nn();if(!J)throw rn.create("no-app",{appName:Ce});return J}function Ir(){return Array.from(be.values())}function Ui(Ce){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(Ce){const J=Ce.name;be.has(J)&&(be.delete(J),yield Promise.all(Ce.container.getProviders().map(De=>De.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function Kn(Ce,J,De){var We;let It=null!==(We=ce[Ce])&&void 0!==We?We:Ce;De&&(It+=`-${De}`);const St=It.match(/\s|\//),En=J.match(/\s|\//);if(St||En){const K=[`Unable to register library "${It}" with version "${J}":`];return St&&K.push(`library name "${It}" contains illegal characters (whitespace or "/")`),St&&En&&K.push("and"),En&&K.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Q.warn(K.join(" "))}ht(new W.wA(`${It}-version`,()=>({library:It,version:J}),"VERSION"))}function pr(Ce,J){if(null!==Ce&&"function"!=typeof Ce)throw rn.create("invalid-log-argument");(0,F.Am)(Ce,J)}function ar(Ce){(0,F.Ub)(Ce)}},8140:(Rt,Fe,$)=>{$.d(Fe,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=$(9752)},1274:(Rt,Fe,$)=>{$.d(Fe,{Z:()=>u.Z});var u=$(6101)},5054:(Rt,Fe,$)=>{$.r(Fe);var u=$(5861),W=$(6101),F=$(9500),oe=$(2090);function ve(){return window}function Y(){return(Y=(0,u.Z)(function*(B,U,N){var re;const{BuildInfo:ke}=ve();(0,F.as)(U.sessionId,"AuthEvent did not contain a session ID");const st=yield _e(U.sessionId),kt={};return(0,F.at)()?kt.ibi=ke.packageName:(0,F.au)()?kt.apn=ke.packageName:(0,F.av)(B,"operation-not-supported-in-this-environment"),ke.displayName&&(kt.appDisplayName=ke.displayName),kt.sessionId=st,(0,F.aw)(B,N,U.type,void 0,null!==(re=U.eventId)&&void 0!==re?re:void 0,kt)})).apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(B){const{BuildInfo:U}=ve(),N={};(0,F.at)()?N.iosBundleId=U.packageName:(0,F.au)()?N.androidPackageName=U.packageName:(0,F.av)(B,"operation-not-supported-in-this-environment"),yield(0,F.ax)(B,N)})).apply(this,arguments)}function dt(){return(dt=(0,u.Z)(function*(B,U,N){const{cordova:re}=ve();let ke=()=>{};try{yield new Promise((st,kt)=>{let Re=null;function mt(){var en;st();const Pn=null===(en=re.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof Pn&&Pn(),"function"==typeof N?.close&&N.close()}function Tt(){Re||(Re=window.setTimeout(()=>{kt((0,F.az)(B,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&Tt()}U.addPassiveListener(mt),document.addEventListener("resume",Tt,!1),(0,F.au)()&&document.addEventListener("visibilitychange",yn,!1),ke=()=>{U.removePassiveListener(mt),document.removeEventListener("resume",Tt,!1),document.removeEventListener("visibilitychange",yn,!1),Re&&window.clearTimeout(Re)}})}finally{ke()}})).apply(this,arguments)}function _e(B){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(B){const U=bt(B),N=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(N)).map(ke=>ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bt(B){if((0,F.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const U=new ArrayBuffer(B.length),N=new Uint8Array(U);for(let re=0;re<B.length;re++)N[re]=B.charCodeAt(re);return N}$(9752),$(1877),$(4859);class Me extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(U)),super.onEvent(U)}initialized(){var U=this;return(0,u.Z)(function*(){yield U.initPromise})()}}function Qe(B){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*(B){const U=yield nt()._get(Lt(B));return U&&(yield nt()._remove(Lt(B))),U})).apply(this,arguments)}function Xe(){const B=[],U="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const re=Math.floor(Math.random()*U.length);B.push(U.charAt(re))}return B.join("")}function nt(){return(0,F.aC)(F.b)}function Lt(B){return(0,F.aD)("authEvent",B.config.apiKey,B.name)}function Pr(B){if(!B?.includes("?"))return{};const[U,...N]=B.split("?");return(0,oe.zd)(N.join("?"))}function ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}function ht(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function Ir(){return function cn(B=(0,oe.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function pt(){return(pt=(0,u.Z)(function*(){return!!Ir()&&new Promise(B=>{const U=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),B(!0)})})})).apply(this,arguments)}const Zi="persistence";function bn(B){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(B){yield B._initializationPromise;const U=At(),N=F.aD(Zi,B.config.apiKey,B.name);U&&U.setItem(N,B._getPersistence())})).apply(this,arguments)}function At(){var B;try{return(null===(B=function Kn(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Pt=F.aA;class gn{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(class Ur{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(U){var N=this;return(0,u.Z)(function*(){const re=U._key();let ke=N.eventManagers.get(re);return ke||(ke=new Me(U),N.eventManagers.set(re,ke),N.attachCallbackListeners(U,ke)),ke})()}_openPopup(U){(0,F.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,N,re,ke){var st=this;return(0,u.Z)(function*(){!function Pe(B){var U,N,re,ke,st,kt,Re,mt,Tt,yn;const en=ve();(0,F.aA)("function"==typeof(null===(U=en?.universalLinks)||void 0===U?void 0:U.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(N=en?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(st=null===(ke=null===(re=en?.cordova)||void 0===re?void 0:re.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===st?void 0:st.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(mt=null===(Re=null===(kt=en?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===mt?void 0:mt.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(yn=null===(Tt=en?.cordova)||void 0===Tt?void 0:Tt.InAppBrowser)||void 0===yn?void 0:yn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const kt=yield st._initialize(U);yield kt.initialized(),kt.resetRedirect(),(0,F.aG)(),yield st._originValidation(U);const Re=function Ne(B,U,N=null){return{type:U,eventId:N,urlResponse:null,sessionId:Xe(),postBody:null,tenantId:B.tenantId,error:(0,F.az)(B,"no-auth-event")}}(U,re,ke);yield function qe(B,U){return nt()._set(Lt(B),U)}(U,Re);const mt=yield function Q(B,U,N){return Y.apply(this,arguments)}(U,Re,N),Tt=yield function Be(B){const{cordova:U}=ve();return new Promise(N=>{U.plugins.browsertab.isAvailable(re=>{let ke=null;re?U.plugins.browsertab.openUrl(B):ke=U.InAppBrowser.open(B,(0,F.ay)()?"_blank":"_system","location=yes"),N(ke)})})}(mt);return function xe(B,U,N){return dt.apply(this,arguments)}(U,kt,Tt)})()}_isIframeWebStorageSupported(U,N){throw new Error("Method not implemented.")}_originValidation(U){const N=U._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function ie(B){return Ye.apply(this,arguments)}(U)),this.originValidationPromises[N]}attachCallbackListeners(U,N){const{universalLinks:re,handleOpenURL:ke,BuildInfo:st}=ve(),kt=setTimeout((0,u.Z)(function*(){yield Qe(U),N.onEvent(ce())}),500),Re=function(){var yn=(0,u.Z)(function*(en){clearTimeout(kt);const Pn=yield Qe(U);let Qi=null;Pn&&en?.url&&(Qi=function Se(B,U){var N,re;const ke=function qn(B){const U=Pr(B),N=U.link?decodeURIComponent(U.link):void 0,re=Pr(N).link,ke=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return Pr(ke).link||ke||re||N||B}(U);if(ke.includes("/__/auth/callback")){const st=Pr(ke),kt=st.firebaseError?function lt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,Re=null===(re=null===(N=kt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===re?void 0:re[1],mt=Re?(0,F.az)(Re):null;return mt?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:ke,postBody:null}}return null}(Pn,en.url)),N.onEvent(Qi||ce())});return function(Pn){return yn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Re);const mt=ke,Tt=`${st.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var yn=(0,u.Z)(function*(en){if(en.toLowerCase().startsWith(Tt)&&Re({url:en}),"function"==typeof mt)try{mt(en)}catch(Pn){console.error(Pn)}});return function(en){return yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(U){var N=this;return(0,u.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,N,re,ke){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(U,N,re,ke)})()}_openRedirect(U,N,re,ke){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(U,N,re,ke)})()}_isIframeWebStorageSupported(U,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,N)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Ir()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,u.Z)(function*(){if(U.underlyingResolver)return;const N=yield function Ui(){return pt.apply(this,arguments)}();U.underlyingResolver=N?U.cordovaResolver:U.browserResolver})()}}function Br(B){return B.unwrap()}function gr(B){return mi(B)}function mi(B){const{_tokenResponse:U}=B instanceof oe.ZR?B.customData:B;if(!U)return null;if(!(B instanceof oe.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return F.P.credentialFromResult(B);const N=U.providerId;if(!N||N===F.p.PASSWORD)return null;let re;switch(N){case F.p.GOOGLE:re=F.V;break;case F.p.FACEBOOK:re=F.U;break;case F.p.GITHUB:re=F.W;break;case F.p.TWITTER:re=F.Z;break;default:const{oauthIdToken:ke,oauthAccessToken:st,oauthTokenSecret:kt,pendingToken:Re,nonce:mt}=U;return st||kt||ke||Re?Re?N.startsWith("saml.")?F.aO._create(N,Re):F.L._fromParams({providerId:N,signInMethod:N,pendingToken:Re,idToken:ke,accessToken:st}):new F.X(N).credential({idToken:ke,accessToken:st,rawNonce:mt}):null}return B instanceof oe.ZR?re.credentialFromError(B):re.credentialFromResult(B)}function Xt(B,U){return U.catch(N=>{throw N instanceof oe.ZR&&function Bt(B,U){var N;const re=null===(N=U.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new Qn(B,F.aq(B,U));else if(re){const ke=mi(U),st=U;ke&&(st.credential=ke,st.tenantId=re.tenantId||void 0,st.email=re.email||void 0,st.phoneNumber=re.phoneNumber||void 0)}}(B,N),N}).then(N=>{const ke=N.user;return{operationType:N.operationType,credential:gr(N),additionalUserInfo:F.ao(N),user:Ln.getOrCreate(ke)}})}function Ki(B,U){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(B,U){const N=yield U;return{verificationId:N.verificationId,confirm:re=>Xt(B,N.confirm(re))}})).apply(this,arguments)}class Qn{constructor(U,N){this.resolver=N,this.auth=function cr(B){return B.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return Xt(Br(this.auth),this.resolver.resolveSignIn(U))}}class Ln{constructor(U){this._delegate=U,this.multiFactor=F.ar(U)}static getOrCreate(U){return Ln.USER_MAP.has(U)||Ln.USER_MAP.set(U,new Ln(U)),Ln.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var N=this;return(0,u.Z)(function*(){return Xt(N.auth,F.a0(N._delegate,U))})()}linkWithPhoneNumber(U,N){var re=this;return(0,u.Z)(function*(){return Ki(re.auth,F.l(re._delegate,U,N))})()}linkWithPopup(U){var N=this;return(0,u.Z)(function*(){return Xt(N.auth,F.d(N._delegate,U,gn))})()}linkWithRedirect(U){var N=this;return(0,u.Z)(function*(){return yield bn(F.aH(N.auth)),F.g(N._delegate,U,gn)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var N=this;return(0,u.Z)(function*(){return Xt(N.auth,F.a1(N._delegate,U))})()}reauthenticateWithPhoneNumber(U,N){return Ki(this.auth,F.r(this._delegate,U,N))}reauthenticateWithPopup(U){return Xt(this.auth,F.e(this._delegate,U,gn))}reauthenticateWithRedirect(U){var N=this;return(0,u.Z)(function*(){return yield bn(F.aH(N.auth)),F.h(N._delegate,U,gn)})()}sendEmailVerification(U){return F.ae(this._delegate,U)}unlink(U){var N=this;return(0,u.Z)(function*(){return yield F.an(N._delegate,U),N})()}updateEmail(U){return F.aj(this._delegate,U)}updatePassword(U){return F.ak(this._delegate,U)}updatePhoneNumber(U){return F.u(this._delegate,U)}updateProfile(U){return F.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,N){return F.af(this._delegate,U,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;class It{constructor(){this.providerId="phone",this._delegate=new F.P(Br(W.Z.auth()))}static credential(U,N){return F.P.credential(U,N)}verifyPhoneNumber(U,N){return this._delegate.verifyPhoneNumber(U,N)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=F.P.PROVIDER_ID},9681:(Rt,Fe,$)=>{$.r(Fe),$.d(Fe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>Ue,_apps:()=>be,_clearComponents:()=>Ut,_components:()=>pe,_getProvider:()=>Ot,_registerComponent:()=>ht,_removeServiceInstance:()=>cn,deleteApp:()=>Ui,getApp:()=>nr,getApps:()=>Ir,initializeApp:()=>Nn,onLog:()=>pr,registerVersion:()=>Kn,setLogLevel:()=>ar});var u=$(5861),W=$(4859),F=$(1877),oe=$(2090),he=$(8766);class we{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function ye(Ce){return"VERSION"===Ce.getComponent()?.type}(De)){const We=De.getImmediate();return`${We.library}/${We.version}`}return null}).filter(De=>De).join(" ")}}const ve="@firebase/app",Q=new F.Yd("@firebase/app"),ae="[DEFAULT]",ce={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},be=new Map,pe=new Map;function Ve(Ce,J){try{Ce.container.addComponent(J)}catch(De){Q.debug(`Component ${J.name} failed to register with FirebaseApp ${Ce.name}`,De)}}function Ue(Ce,J){Ce.container.addOrOverwriteComponent(J)}function ht(Ce){const J=Ce.name;if(pe.has(J))return Q.debug(`There were multiple attempts to register component ${J}.`),!1;pe.set(J,Ce);for(const De of be.values())Ve(De,Ce);return!0}function Ot(Ce,J){const De=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Ce.container.getProvider(J)}function cn(Ce,J,De=ae){Ot(Ce,J).clearInstance(De)}function Ut(){pe.clear()}const rn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tn{constructor(J,De,We){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const or="10.5.2";function Nn(Ce,J={}){let De=Ce;"object"!=typeof J&&(J={name:J});const We=Object.assign({name:ae,automaticDataCollectionEnabled:!1},J),It=We.name;if("string"!=typeof It||!It)throw rn.create("bad-app-name",{appName:String(It)});if(De||(De=(0,oe.aH)()),!De)throw rn.create("no-options");const St=be.get(It);if(St){if((0,oe.vZ)(De,St.options)&&(0,oe.vZ)(We,St.config))return St;throw rn.create("duplicate-app",{appName:It})}const En=new W.H0(It);for(const Z of pe.values())En.addComponent(Z);const K=new Tn(De,We,En);return be.set(It,K),K}function nr(Ce=ae){const J=be.get(Ce);if(!J&&Ce===ae&&(0,oe.aH)())return Nn();if(!J)throw rn.create("no-app",{appName:Ce});return J}function Ir(){return Array.from(be.values())}function Ui(Ce){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(Ce){const J=Ce.name;be.has(J)&&(be.delete(J),yield Promise.all(Ce.container.getProviders().map(De=>De.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function Kn(Ce,J,De){var We;let It=null!==(We=ce[Ce])&&void 0!==We?We:Ce;De&&(It+=`-${De}`);const St=It.match(/\s|\//),En=J.match(/\s|\//);if(St||En){const K=[`Unable to register library "${It}" with version "${J}":`];return St&&K.push(`library name "${It}" contains illegal characters (whitespace or "/")`),St&&En&&K.push("and"),En&&K.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Q.warn(K.join(" "))}ht(new W.wA(`${It}-version`,()=>({library:It,version:J}),"VERSION"))}function pr(Ce,J){if(null!==Ce&&"function"!=typeof Ce)throw rn.create("invalid-log-argument");(0,F.Am)(Ce,J)}function ar(Ce){(0,F.Ub)(Ce)}const bn="firebase-heartbeat-store";let Xn=null;function on(){return Xn||(Xn=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(Ce,J)=>{0===J&&Ce.createObjectStore(bn)}}).catch(Ce=>{throw rn.create("idb-open",{originalErrorMessage:Ce.message})})),Xn}function Pt(){return(Pt=(0,u.Z)(function*(Ce){try{return yield(yield on()).transaction(bn).objectStore(bn).get(cr(Ce))}catch(J){if(J instanceof oe.ZR)Q.warn(J.message);else{const De=rn.create("idb-get",{originalErrorMessage:J?.message});Q.warn(De.message)}}})).apply(this,arguments)}function gn(Ce,J){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(Ce,J){try{const We=(yield on()).transaction(bn,"readwrite");yield We.objectStore(bn).put(J,cr(Ce)),yield We.done}catch(De){if(De instanceof oe.ZR)Q.warn(De.message);else{const We=rn.create("idb-set",{originalErrorMessage:De?.message});Q.warn(We.message)}}})).apply(this,arguments)}function cr(Ce){return`${Ce.name}!${Ce.options.appId}`}class mi{constructor(J){this.container=J,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new mn(De),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var J=this;return(0,u.Z)(function*(){const We=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Xt();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==It&&!J._heartbeatsCache.heartbeats.some(St=>St.date===It))return J._heartbeatsCache.heartbeats.push({date:It,agent:We}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(St=>{const En=new Date(St.date).valueOf();return Date.now()-En<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,u.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const De=Xt(),{heartbeatsToSend:We,unsentEntries:It}=function Ki(Ce,J=1024){const De=[];let We=Ce.slice();for(const It of Ce){const St=De.find(En=>En.agent===It.agent);if(St){if(St.dates.push(It.date),Qn(De)>J){St.dates.pop();break}}else if(De.push({agent:It.agent,dates:[It.date]}),Qn(De)>J){De.pop();break}We=We.slice(1)}return{heartbeatsToSend:De,unsentEntries:We}}(J._heartbeatsCache.heartbeats),St=(0,oe.L)(JSON.stringify({version:2,heartbeats:We}));return J._heartbeatsCache.lastSentHeartbeatDate=De,It.length>0?(J._heartbeatsCache.heartbeats=It,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),St})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class mn{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,u.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function At(Ce){return Pt.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var De=this;return(0,u.Z)(function*(){var We;if(yield De._canUseIndexedDBPromise){const St=yield De.read();return gn(De.app,{lastSentHeartbeatDate:null!==(We=J.lastSentHeartbeatDate)&&void 0!==We?We:St.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var De=this;return(0,u.Z)(function*(){var We;if(yield De._canUseIndexedDBPromise){const St=yield De.read();return gn(De.app,{lastSentHeartbeatDate:null!==(We=J.lastSentHeartbeatDate)&&void 0!==We?We:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...J.heartbeats]})}})()}}function Qn(Ce){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function Ln(Ce){ht(new W.wA("platform-logger",J=>new we(J),"PRIVATE")),ht(new W.wA("heartbeat",J=>new mi(J),"PRIVATE")),Kn(ve,"0.9.22",Ce),Kn(ve,"0.9.22","esm2017"),Kn("fire-js","")}("")},4859:(Rt,Fe,$)=>{$.d(Fe,{H0:()=>ve,wA:()=>F,zt:()=>he});var u=$(5861),W=$(2090);class F{constructor(Q,Y,ie){this.name=Q,this.instanceFactory=Y,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const oe="[DEFAULT]";class he{constructor(Q,Y){this.name=Q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Y=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Y)){const ie=new W.BH;if(this.instancesDeferred.set(Y,ie),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Y});Ye&&ie.resolve(Ye)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(Q){var Y;const ie=this.normalizeInstanceIdentifier(Q?.identifier),Ye=null!==(Y=Q?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Be){if(Ye)return null;throw Be}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ye(Ae){return"EAGER"===Ae.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[Y,ie]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Y);try{const Be=this.getOrInitializeService({instanceIdentifier:Ye});ie.resolve(Be)}catch{}}}}clearInstance(Q=oe){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,u.Z)(function*(){const Y=Array.from(Q.instances.values());yield Promise.all([...Y.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...Y.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=oe){return this.instances.has(Q)}getOptions(Q=oe){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Y={}}=Q,ie=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ie,options:Y});for(const[Be,xe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Be)&&xe.resolve(Ye);return Ye}onInit(Q,Y){var ie;const Ye=this.normalizeInstanceIdentifier(Y),Be=null!==(ie=this.onInitCallbacks.get(Ye))&&void 0!==ie?ie:new Set;Be.add(Q),this.onInitCallbacks.set(Ye,Be);const xe=this.instances.get(Ye);return xe&&Q(xe,Ye),()=>{Be.delete(Q)}}invokeOnInitCallbacks(Q,Y){const ie=this.onInitCallbacks.get(Y);if(ie)for(const Ye of ie)try{Ye(Q,Y)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:Y={}}){let ie=this.instances.get(Q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=Q,Ae===oe?void 0:Ae),options:Y}),this.instances.set(Q,ie),this.instancesOptions.set(Q,Y),this.invokeOnInitCallbacks(ie,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ie)}catch{}var Ae;return ie||null}normalizeInstanceIdentifier(Q=oe){return this.component?this.component.multipleInstances?Q:oe:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Y=this.getProvider(Q.name);if(Y.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Y.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Y=new he(Q,this);return this.providers.set(Q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,Fe,$)=>{$.d(Fe,{Am:()=>Ae,Ub:()=>ve,Yd:()=>ye,in:()=>W});const u=[];var W=(()=>{return(Q=W||(W={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",W;var Q})();const F={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},oe=W.INFO,he={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},we=(Q,Y,...ie)=>{if(Y<Q.logLevel)return;const Ye=(new Date).toISOString(),Be=he[Y];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Be](`[${Ye}]  ${Q.name}:`,...ie)};class ye{constructor(Y){this.name=Y,this._logLevel=oe,this._logHandler=we,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in W))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?F[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...Y),this._logHandler(this,W.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...Y),this._logHandler(this,W.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,W.INFO,...Y),this._logHandler(this,W.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,W.WARN,...Y),this._logHandler(this,W.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...Y),this._logHandler(this,W.ERROR,...Y)}}function ve(Q){u.forEach(Y=>{Y.setLogLevel(Q)})}function Ae(Q,Y){for(const ie of u){let Ye=null;Y&&Y.level&&(Ye=F[Y.level]),ie.userLogHandler=null===Q?null:(Be,xe,...dt)=>{const Pe=dt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");xe>=(Ye??Be.logLevel)&&Q({level:W[xe].toLowerCase(),message:Pe,args:dt,type:Be.name})}}}},8766:(Rt,Fe,$)=>{$.d(Fe,{X3:()=>bt});var u=$(5861);let F,oe;const ye=new WeakMap,ve=new WeakMap,Ae=new WeakMap,Q=new WeakMap,Y=new WeakMap;let Be={get(X,Se,Xe){if(X instanceof IDBTransaction){if("done"===Se)return ve.get(X);if("objectStoreNames"===Se)return X.objectStoreNames||Ae.get(X);if("store"===Se)return Xe.objectStoreNames[1]?void 0:Xe.objectStore(Xe.objectStoreNames[0])}return _e(X[Se])},set:(X,Se,Xe)=>(X[Se]=Xe,!0),has:(X,Se)=>X instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in X};function Pe(X){return"function"==typeof X?function dt(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...Se){return X.apply(wt(this),Se),_e(ye.get(this))}:function(...Se){return _e(X.apply(wt(this),Se))}:function(Se,...Xe){const nt=X.call(wt(this),Se,...Xe);return Ae.set(nt,Se.sort?Se.sort():[Se]),_e(nt)}}(X):(X instanceof IDBTransaction&&function Ye(X){if(ve.has(X))return;const Se=new Promise((Xe,nt)=>{const Lt=()=>{X.removeEventListener("complete",lt),X.removeEventListener("error",qn),X.removeEventListener("abort",qn)},lt=()=>{Xe(),Lt()},qn=()=>{nt(X.error||new DOMException("AbortError","AbortError")),Lt()};X.addEventListener("complete",lt),X.addEventListener("error",qn),X.addEventListener("abort",qn)});ve.set(X,Se)}(X),((X,Se)=>Se.some(Xe=>X instanceof Xe))(X,function he(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,Be):X)}function _e(X){if(X instanceof IDBRequest)return function ie(X){const Se=new Promise((Xe,nt)=>{const Lt=()=>{X.removeEventListener("success",lt),X.removeEventListener("error",qn)},lt=()=>{Xe(_e(X.result)),Lt()},qn=()=>{nt(X.error),Lt()};X.addEventListener("success",lt),X.addEventListener("error",qn)});return Se.then(Xe=>{Xe instanceof IDBCursor&&ye.set(Xe,X)}).catch(()=>{}),Y.set(Se,X),Se}(X);if(Q.has(X))return Q.get(X);const Se=Pe(X);return Se!==X&&(Q.set(X,Se),Y.set(Se,X)),Se}const wt=X=>Y.get(X);function bt(X,Se,{blocked:Xe,upgrade:nt,blocking:Lt,terminated:lt}={}){const qn=indexedDB.open(X,Se),Pr=_e(qn);return nt&&qn.addEventListener("upgradeneeded",kn=>{nt(_e(qn.result),kn.oldVersion,kn.newVersion,_e(qn.transaction),kn)}),Xe&&qn.addEventListener("blocked",kn=>Xe(kn.oldVersion,kn.newVersion,kn)),Pr.then(kn=>{lt&&kn.addEventListener("close",()=>lt()),Lt&&kn.addEventListener("versionchange",Ur=>Lt(Ur.oldVersion,Ur.newVersion,Ur))}).catch(()=>{}),Pr}const Me=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],qe=new Map;function Qe(X,Se){if(!(X instanceof IDBDatabase)||Se in X||"string"!=typeof Se)return;if(qe.get(Se))return qe.get(Se);const Xe=Se.replace(/FromIndex$/,""),nt=Se!==Xe,Lt=Ne.includes(Xe);if(!(Xe in(nt?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Me.includes(Xe))return;const lt=function(){var qn=(0,u.Z)(function*(Pr,...kn){const Ur=this.transaction(Pr,Lt?"readwrite":"readonly");let ae=Ur.store;return nt&&(ae=ae.index(kn.shift())),(yield Promise.all([ae[Xe](...kn),Lt&&Ur.done]))[0]});return function(kn){return qn.apply(this,arguments)}}();return qe.set(Se,lt),lt}!function xe(X){Be=X(Be)}(X=>({...X,get:(Se,Xe,nt)=>Qe(Se,Xe)||X.get(Se,Xe,nt),has:(Se,Xe)=>!!Qe(Se,Xe)||X.has(Se,Xe)}))},5861:(Rt,Fe,$)=>{function u(F,oe,he,we,ye,ve,Ae){try{var Q=F[ve](Ae),Y=Q.value}catch(ie){return void he(ie)}Q.done?oe(Y):Promise.resolve(Y).then(we,ye)}function W(F){return function(){var oe=this,he=arguments;return new Promise(function(we,ye){var ve=F.apply(oe,he);function Ae(Y){u(ve,we,ye,Ae,Q,"next",Y)}function Q(Y){u(ve,we,ye,Ae,Q,"throw",Y)}Ae(void 0)})}}$.d(Fe,{Z:()=>W})},7582:(Rt,Fe,$)=>{function oe(ae,ce){var be={};for(var pe in ae)Object.prototype.hasOwnProperty.call(ae,pe)&&ce.indexOf(pe)<0&&(be[pe]=ae[pe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(pe=Object.getOwnPropertySymbols(ae);Ve<pe.length;Ve++)ce.indexOf(pe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ae,pe[Ve])&&(be[pe[Ve]]=ae[pe[Ve]])}return be}function ie(ae,ce,be,pe){return new(be||(be=Promise))(function(Ue,ht){function Ot(pn){try{Ut(pe.next(pn))}catch(rn){ht(rn)}}function cn(pn){try{Ut(pe.throw(pn))}catch(rn){ht(rn)}}function Ut(pn){pn.done?Ue(pn.value):function Ve(Ue){return Ue instanceof be?Ue:new be(function(ht){ht(Ue)})}(pn.value).then(Ot,cn)}Ut((pe=pe.apply(ae,ce||[])).next())})}function $e(ae){return this instanceof $e?(this.v=ae,this):new $e(ae)}function Me(ae,ce,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,pe=be.apply(ae,ce||[]),Ue=[];return Ve={},ht("next"),ht("throw"),ht("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ht(Tn){pe[Tn]&&(Ve[Tn]=function(or){return new Promise(function(Nn,nr){Ue.push([Tn,or,Nn,nr])>1||Ot(Tn,or)})})}function Ot(Tn,or){try{!function cn(Tn){Tn.value instanceof $e?Promise.resolve(Tn.value.v).then(Ut,pn):rn(Ue[0][2],Tn)}(pe[Tn](or))}catch(Nn){rn(Ue[0][3],Nn)}}function Ut(Tn){Ot("next",Tn)}function pn(Tn){Ot("throw",Tn)}function rn(Tn,or){Tn(or),Ue.shift(),Ue.length&&Ot(Ue[0][0],Ue[0][1])}}function qe(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ce=ae[Symbol.asyncIterator];return ce?ce.call(ae):(ae=function dt(ae){var ce="function"==typeof Symbol&&Symbol.iterator,be=ce&&ae[ce],pe=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&pe>=ae.length&&(ae=void 0),{value:ae&&ae[pe++],done:!ae}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),be={},pe("next"),pe("throw"),pe("return"),be[Symbol.asyncIterator]=function(){return this},be);function pe(Ue){be[Ue]=ae[Ue]&&function(ht){return new Promise(function(Ot,cn){!function Ve(Ue,ht,Ot,cn){Promise.resolve(cn).then(function(Ut){Ue({value:Ut,done:Ot})},ht)}(Ot,cn,(ht=ae[Ue](ht)).done,ht.value)})}}}$.d(Fe,{FC:()=>Me,KL:()=>qe,_T:()=>oe,mG:()=>ie,qq:()=>$e}),"function"==typeof SuppressedError&&SuppressedError}},Rt=>{Rt(Rt.s=2334)}]);